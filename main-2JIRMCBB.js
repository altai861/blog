var Wb=Object.defineProperty,qb=Object.defineProperties;var Gb=Object.getOwnPropertyDescriptors;var _o=Object.getOwnPropertySymbols;var rh=Object.prototype.hasOwnProperty,oh=Object.prototype.propertyIsEnumerable;var nh=(n,e,t)=>e in n?Wb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,v=(n,e)=>{for(var t in e||={})rh.call(e,t)&&nh(n,t,e[t]);if(_o)for(var t of _o(e))oh.call(e,t)&&nh(n,t,e[t]);return n},L=(n,e)=>qb(n,Gb(e));var ih=(n,e)=>{var t={};for(var r in n)rh.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&_o)for(var r of _o(n))e.indexOf(r)<0&&oh.call(n,r)&&(t[r]=n[r]);return t};var C=(n,e,t)=>new Promise((r,o)=>{var i=l=>{try{a(t.next(l))}catch(c){o(c)}},s=l=>{try{a(t.throw(l))}catch(c){o(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);a((t=t.apply(n,e)).next())});function sh(n,e){return Object.is(n,e)}var ue=null,No=!1,pa=1,Dn=Symbol("SIGNAL");function G(n){let e=ue;return ue=n,e}function ah(){return ue}var Ao={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function lh(n){if(No)throw new Error("");if(ue===null)return;ue.consumerOnSignalRead(n);let e=ue.nextProducerIndex++;if(Ro(ue),e<ue.producerNode.length&&ue.producerNode[e]!==n&&Dr(ue)){let t=ue.producerNode[e];Oo(t,ue.producerIndexOfThis[e])}ue.producerNode[e]!==n&&(ue.producerNode[e]=n,ue.producerIndexOfThis[e]=Dr(ue)?fh(n,ue,e):0),ue.producerLastReadVersion[e]=n.version}function Zb(){pa++}function ch(n){if(!(Dr(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===pa)){if(!n.producerMustRecompute(n)&&!ma(n)){ha(n);return}n.producerRecomputeValue(n),ha(n)}}function uh(n){if(n.liveConsumerNode===void 0)return;let e=No;No=!0;try{for(let t of n.liveConsumerNode)t.dirty||Kb(t)}finally{No=e}}function Yb(){return ue?.consumerAllowSignalWrites!==!1}function Kb(n){n.dirty=!0,uh(n),n.consumerMarkedDirty?.(n)}function ha(n){n.dirty=!1,n.lastCleanEpoch=pa}function ga(n){return n&&(n.nextProducerIndex=0),G(n)}function dh(n,e){if(G(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Dr(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Oo(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function ma(n){Ro(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(ch(t),r!==t.version))return!0}return!1}function va(n){if(Ro(n),Dr(n))for(let e=0;e<n.producerNode.length;e++)Oo(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function fh(n,e,t){if(hh(n),n.liveConsumerNode.length===0&&ph(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=fh(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Oo(n,e){if(hh(n),n.liveConsumerNode.length===1&&ph(n))for(let r=0;r<n.producerNode.length;r++)Oo(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],o=n.liveConsumerNode[e];Ro(o),o.producerIndexOfThis[r]=e}}function Dr(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ro(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function hh(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function ph(n){return n.producerNode!==void 0}function Qb(){throw new Error}var gh=Qb;function Xb(){gh()}function mh(n){gh=n}var Jb=null;function vh(n,e){Yb()||Xb(),n.equal(n.value,e)||(n.value=e,ew(n))}var yh=L(v({},Ao),{equal:sh,value:void 0,kind:"signal"});function ew(n){n.version++,Zb(),uh(n),Jb?.()}function T(n){return typeof n=="function"}function Sn(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Lo=Sn(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Sr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ce=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let i of t)i.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(T(r))try{r()}catch(i){e=i instanceof Lo?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{bh(i)}catch(s){e=e??[],s instanceof Lo?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Lo(e)}}add(e){var t;if(e&&e!==this)if(this.closed)bh(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Sr(t,e)}remove(e){let{_finalizers:t}=this;t&&Sr(t,e),e instanceof n&&e._removeParent(this)}};ce.EMPTY=(()=>{let n=new ce;return n.closed=!0,n})();var ya=ce.EMPTY;function Po(n){return n instanceof ce||n&&"closed"in n&&T(n.remove)&&T(n.add)&&T(n.unsubscribe)}function bh(n){T(n)?n():n.unsubscribe()}var Ke={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var In={setTimeout(n,e,...t){let{delegate:r}=In;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=In;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Bo(n){In.setTimeout(()=>{let{onUnhandledError:e}=Ke;if(e)e(n);else throw n})}function Ir(){}var wh=ba("C",void 0,void 0);function Ch(n){return ba("E",void 0,n)}function Eh(n){return ba("N",n,void 0)}function ba(n,e,t){return{kind:n,value:e,error:t}}var Kt=null;function Tn(n){if(Ke.useDeprecatedSynchronousErrorHandling){let e=!Kt;if(e&&(Kt={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Kt;if(Kt=null,t)throw r}}else n()}function xh(n){Ke.useDeprecatedSynchronousErrorHandling&&Kt&&(Kt.errorThrown=!0,Kt.error=n)}var Qt=class extends ce{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Po(e)&&e.add(this)):this.destination=rw}static create(e,t,r){return new Mn(e,t,r)}next(e){this.isStopped?Ca(Eh(e),this):this._next(e)}error(e){this.isStopped?Ca(Ch(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ca(wh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},tw=Function.prototype.bind;function wa(n,e){return tw.call(n,e)}var Ea=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Fo(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Fo(r)}else Fo(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Fo(t)}}},Mn=class extends Qt{constructor(e,t,r){super();let o;if(T(e)||!e)o={next:e??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&Ke.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&wa(e.next,i),error:e.error&&wa(e.error,i),complete:e.complete&&wa(e.complete,i)}):o=e}this.destination=new Ea(o)}};function Fo(n){Ke.useDeprecatedSynchronousErrorHandling?xh(n):Bo(n)}function nw(n){throw n}function Ca(n,e){let{onStoppedNotification:t}=Ke;t&&In.setTimeout(()=>t(n,e))}var rw={closed:!0,next:Ir,error:nw,complete:Ir};var _n=typeof Symbol=="function"&&Symbol.observable||"@@observable";function _e(n){return n}function xa(...n){return ka(n)}function ka(n){return n.length===0?_e:n.length===1?n[0]:function(t){return n.reduce((r,o)=>o(r),t)}}var X=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,o){let i=iw(t)?t:new Mn(t,r,o);return Tn(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=kh(r),new r((o,i)=>{let s=new Mn({next:a=>{try{t(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[_n](){return this}pipe(...t){return ka(t)(this)}toPromise(t){return t=kh(t),new t((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return n.create=e=>new n(e),n})();function kh(n){var e;return(e=n??Ke.Promise)!==null&&e!==void 0?e:Promise}function ow(n){return n&&T(n.next)&&T(n.error)&&T(n.complete)}function iw(n){return n&&n instanceof Qt||ow(n)&&Po(n)}function Da(n){return T(n?.lift)}function V(n){return e=>{if(Da(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $(n,e,t,r,o){return new Sa(n,e,t,r,o)}var Sa=class extends Qt{constructor(e,t,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Nn(){return V((n,e)=>{let t=null;n._refCount++;let r=$(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let o=n._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var An=class extends X{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Da(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ce;let t=this.getSubject();e.add(this.source.subscribe($(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ce.EMPTY)}return e}refCount(){return Nn()(this)}};var Dh=Sn(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=(()=>{class n extends X{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new jo(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Dh}next(t){Tn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Tn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Tn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:o,observers:i}=this;return r||o?ya:(this.currentObservers=null,i.push(t),new ce(()=>{this.currentObservers=null,Sr(i,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){let t=new X;return t.source=this,t}}return n.create=(e,t)=>new jo(e,t),n})(),jo=class extends me{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:ya}};var ve=class extends me{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ne=new X(n=>n.complete());function Sh(n){return n&&T(n.schedule)}function Ih(n){return n[n.length-1]}function Th(n){return T(Ih(n))?n.pop():void 0}function Ot(n){return Sh(Ih(n))?n.pop():void 0}function _h(n,e,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function Mh(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xt(n){return this instanceof Xt?(this.v=n,this):new Xt(n)}function Nh(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(o[h]=function(m){return new Promise(function(w,x){i.push([h,m,w,x])>1||l(h,m)})},p&&(o[h]=p(o[h])))}function l(h,p){try{c(r[h](p))}catch(m){f(i[0][3],m)}}function c(h){h.value instanceof Xt?Promise.resolve(h.value.v).then(u,d):f(i[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,p){h(p),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Ah(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Mh=="function"?Mh(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=n[i]&&function(s){return new Promise(function(a,l){s=n[i](s),o(a,l,s.done,s.value)})}}function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}}var Ho=n=>n&&typeof n.length=="number"&&typeof n!="function";function Vo(n){return T(n?.then)}function $o(n){return T(n[_n])}function Uo(n){return Symbol.asyncIterator&&T(n?.[Symbol.asyncIterator])}function zo(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function sw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Wo=sw();function qo(n){return T(n?.[Wo])}function Go(n){return Nh(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:o}=yield Xt(t.read());if(o)return yield Xt(void 0);yield yield Xt(r)}}finally{t.releaseLock()}})}function Zo(n){return T(n?.getReader)}function he(n){if(n instanceof X)return n;if(n!=null){if($o(n))return aw(n);if(Ho(n))return lw(n);if(Vo(n))return cw(n);if(Uo(n))return Oh(n);if(qo(n))return uw(n);if(Zo(n))return dw(n)}throw zo(n)}function aw(n){return new X(e=>{let t=n[_n]();if(T(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function lw(n){return new X(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function cw(n){return new X(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Bo)})}function uw(n){return new X(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Oh(n){return new X(e=>{fw(n,e).catch(t=>e.error(t))})}function dw(n){return Oh(Go(n))}function fw(n,e){var t,r,o,i;return _h(this,void 0,void 0,function*(){try{for(t=Ah(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}e.complete()})}function Ie(n,e,t,r=0,o=!1){let i=e.schedule(function(){t(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function Yo(n,e=0){return V((t,r)=>{t.subscribe($(r,o=>Ie(r,n,()=>r.next(o),e),()=>Ie(r,n,()=>r.complete(),e),o=>Ie(r,n,()=>r.error(o),e)))})}function Ko(n,e=0){return V((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Rh(n,e){return he(n).pipe(Ko(e),Yo(e))}function Lh(n,e){return he(n).pipe(Ko(e),Yo(e))}function Ph(n,e){return new X(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Bh(n,e){return new X(t=>{let r;return Ie(t,e,()=>{r=n[Wo](),Ie(t,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){t.error(s);return}i?t.complete():t.next(o)},0,!0)}),()=>T(r?.return)&&r.return()})}function Qo(n,e){if(!n)throw new Error("Iterable cannot be null");return new X(t=>{Ie(t,e,()=>{let r=n[Symbol.asyncIterator]();Ie(t,e,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function Fh(n,e){return Qo(Go(n),e)}function jh(n,e){if(n!=null){if($o(n))return Rh(n,e);if(Ho(n))return Ph(n,e);if(Vo(n))return Lh(n,e);if(Uo(n))return Qo(n,e);if(qo(n))return Bh(n,e);if(Zo(n))return Fh(n,e)}throw zo(n)}function de(n,e){return e?jh(n,e):he(n)}function A(...n){let e=Ot(n);return de(n,e)}function On(n,e){let t=T(n)?n:()=>n,r=o=>o.error(t());return new X(e?o=>e.schedule(r,0,o):r)}function Ia(n){return!!n&&(n instanceof X||T(n.lift)&&T(n.subscribe))}var yt=Sn(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function U(n,e){return V((t,r)=>{let o=0;t.subscribe($(r,i=>{r.next(n.call(e,i,o++))}))})}var{isArray:hw}=Array;function pw(n,e){return hw(e)?n(...e):n(e)}function Hh(n){return U(e=>pw(n,e))}var{isArray:gw}=Array,{getPrototypeOf:mw,prototype:vw,keys:yw}=Object;function Vh(n){if(n.length===1){let e=n[0];if(gw(e))return{args:e,keys:null};if(bw(e)){let t=yw(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function bw(n){return n&&typeof n=="object"&&mw(n)===vw}function $h(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}function Xo(...n){let e=Ot(n),t=Th(n),{args:r,keys:o}=Vh(n);if(r.length===0)return de([],e);let i=new X(ww(r,e,o?s=>$h(o,s):_e));return t?i.pipe(Hh(t)):i}function ww(n,e,t=_e){return r=>{Uh(e,()=>{let{length:o}=n,i=new Array(o),s=o,a=o;for(let l=0;l<o;l++)Uh(e,()=>{let c=de(n[l],e),u=!1;c.subscribe($(r,d=>{i[l]=d,u||(u=!0,a--),a||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Uh(n,e,t){n?Ie(t,n,e):e()}function zh(n,e,t,r,o,i,s,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&e.complete()},h=m=>c<r?p(m):l.push(m),p=m=>{i&&e.next(m),c++;let w=!1;he(t(m,u++)).subscribe($(e,x=>{o?.(x),i?h(x):e.next(x)},()=>{w=!0},void 0,()=>{if(w)try{for(c--;l.length&&c<r;){let x=l.shift();s?Ie(e,s,()=>p(x)):p(x)}f()}catch(x){e.error(x)}}))};return n.subscribe($(e,h,()=>{d=!0,f()})),()=>{a?.()}}function fe(n,e,t=1/0){return T(e)?fe((r,o)=>U((i,s)=>e(r,i,o,s))(he(n(r,o))),t):(typeof e=="number"&&(t=e),V((r,o)=>zh(r,o,n,t)))}function Ta(n=1/0){return fe(_e,n)}function Wh(){return Ta(1)}function Rn(...n){return Wh()(de(n,Ot(n)))}function Jo(n){return new X(e=>{he(n()).subscribe(e)})}function Qe(n,e){return V((t,r)=>{let o=0;t.subscribe($(r,i=>n.call(e,i,o++)&&r.next(i)))})}function Rt(n){return V((e,t)=>{let r=null,o=!1,i;r=e.subscribe($(t,void 0,void 0,s=>{i=he(n(s,Rt(n)(e))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function qh(n,e,t,r,o){return(i,s)=>{let a=t,l=e,c=0;i.subscribe($(s,u=>{let d=c++;l=a?n(l,u,d):(a=!0,u),r&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}function Ln(n,e){return T(e)?fe(n,e,1):fe(n,1)}function Lt(n){return V((e,t)=>{let r=!1;e.subscribe($(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function bt(n){return n<=0?()=>Ne:V((e,t)=>{let r=0;e.subscribe($(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function ei(n=Cw){return V((e,t)=>{let r=!1;e.subscribe($(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Cw(){return new yt}function Tr(n){return V((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function wt(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Qe((o,i)=>n(o,i,r)):_e,bt(1),t?Lt(e):ei(()=>new yt))}function Pn(n){return n<=0?()=>Ne:V((e,t)=>{let r=[];e.subscribe($(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(let o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Ma(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Qe((o,i)=>n(o,i,r)):_e,Pn(1),t?Lt(e):ei(()=>new yt))}function _a(n,e){return V(qh(n,e,arguments.length>=2,!0))}function Na(...n){let e=Ot(n);return V((t,r)=>{(e?Rn(n,t,e):Rn(n,t)).subscribe(r)})}function Xe(n,e){return V((t,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();t.subscribe($(r,l=>{o?.unsubscribe();let c=0,u=i++;he(n(l,u)).subscribe(o=$(r,d=>r.next(e?e(l,d,u,c++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Aa(n){return V((e,t)=>{he(n).subscribe($(t,()=>t.complete(),Ir)),!t.closed&&e.subscribe(t)})}function ye(n,e,t){let r=T(n)||e||t?{next:n,error:e,complete:t}:n;return r?V((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe($(i,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),i.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),i.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),i.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):_e}var D=class extends Error{code;constructor(e,t){super(Tl(e,t)),this.code=e}};function Tl(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}var _p=Symbol("InputSignalNode#UNSET"),Ew=L(v({},yh),{transformFn:void 0,applyValueToInputSignal(n,e){vh(n,e)}});function Np(n,e){let t=Object.create(Ew);t.value=n,t.transformFn=e?.transform;function r(){if(lh(t),t.value===_p)throw new D(-950,!1);return t.value}return r[Dn]=t,r}function Ml(n){return{toString:n}.toString()}function ee(n){for(let e in n)if(n[e]===ee)return e;throw Error("Could not find renamed property on target object.")}function Oe(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Oe).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Gh(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var xw=ee({__forward_ref__:ee});function Ap(n){return n.__forward_ref__=Ap,n.toString=function(){return Oe(this())},n}function $e(n){return Op(n)?n():n}function Op(n){return typeof n=="function"&&n.hasOwnProperty(xw)&&n.__forward_ref__===Ap}function S(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Di(n){return Zh(n,Lp)||Zh(n,Pp)}function Rp(n){return Di(n)!==null}function Zh(n,e){return n.hasOwnProperty(e)?n[e]:null}function kw(n){let e=n&&(n[Lp]||n[Pp]);return e||null}function Yh(n){return n&&(n.hasOwnProperty(Kh)||n.hasOwnProperty(Dw))?n[Kh]:null}var Lp=ee({\u0275prov:ee}),Kh=ee({\u0275inj:ee}),Pp=ee({ngInjectableDef:ee}),Dw=ee({ngInjectorDef:ee}),_=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=S({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Bp(n){return n&&!!n.\u0275providers}var Sw=ee({\u0275cmp:ee}),Iw=ee({\u0275dir:ee}),Tw=ee({\u0275pipe:ee}),Mw=ee({\u0275mod:ee}),ai=ee({\u0275fac:ee}),Ar=ee({__NG_ELEMENT_ID__:ee}),Qh=ee({__NG_ENV_ID__:ee});function _w(n){return typeof n=="string"?n:n==null?"":String(n)}function Nw(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():_w(n)}function Aw(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new D(-200,n)}function _l(n,e){throw new D(-201,!1)}var P=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(P||{}),Ha;function Fp(){return Ha}function Ve(n){let e=Ha;return Ha=n,e}function jp(n,e,t){let r=Di(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&P.Optional)return null;if(e!==void 0)return e;_l(n,"Injector")}var Ow={},Or=Ow,Rw="__NG_DI_FLAG__",li="ngTempTokenPath",Lw="ngTokenPath",Pw=/\n/gm,Bw="\u0275",Xh="__source",Hn;function Fw(){return Hn}function Pt(n){let e=Hn;return Hn=n,e}function jw(n,e=P.Default){if(Hn===void 0)throw new D(-203,!1);return Hn===null?jp(n,void 0,e):Hn.get(n,e&P.Optional?null:void 0,e)}function F(n,e=P.Default){return(Fp()||jw)($e(n),e)}function y(n,e=P.Default){return F(n,Si(e))}function Si(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Va(n){let e=[];for(let t=0;t<n.length;t++){let r=$e(n[t]);if(Array.isArray(r)){if(r.length===0)throw new D(900,!1);let o,i=P.Default;for(let s=0;s<r.length;s++){let a=r[s],l=Hw(a);typeof l=="number"?l===-1?o=a.token:i|=l:o=a}e.push(F(o,i))}else e.push(F(r))}return e}function Hw(n){return n[Rw]}function Vw(n,e,t,r){let o=n[li];throw e[Xh]&&o.unshift(e[Xh]),n.message=$w(`
`+n.message,o,t,r),n[Lw]=o,n[li]=null,n}function $w(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==Bw?n.slice(2):n;let o=Oe(e);if(Array.isArray(e))o=e.map(Oe).join(" -> ");else if(typeof e=="object"){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):Oe(a)))}o=`{${i.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${n.replace(Pw,`
  `)}`}function $n(n,e){let t=n.hasOwnProperty(ai);return t?n[ai]:null}function Uw(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],i=e[r];if(t&&(o=t(o),i=t(i)),i!==o)return!1}return!0}function zw(n){return n.flat(Number.POSITIVE_INFINITY)}function Nl(n,e){n.forEach(t=>Array.isArray(t)?Nl(t,e):e(t))}function Hp(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ci(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}var Rr={},Un=[],zn=new _(""),Vp=new _("",-1),$p=new _(""),ui=class{get(e,t=Or){if(t===Or){let r=new Error(`NullInjectorError: No provider for ${Oe(e)}!`);throw r.name="NullInjectorError",r}return t}};function Up(n,e){let t=n[Mw]||null;if(!t&&e===!0)throw new Error(`Type ${Oe(n)} does not have '\u0275mod' property.`);return t}function tn(n){return n[Sw]||null}function zp(n){return n[Iw]||null}function Wp(n){return n[Tw]||null}function qp(n){let e=tn(n)||zp(n)||Wp(n);return e!==null&&e.standalone}function Ii(n){return{\u0275providers:n}}function Ww(...n){return{\u0275providers:Gp(!0,n),\u0275fromNgModule:!0}}function Gp(n,...e){let t=[],r=new Set,o,i=s=>{t.push(s)};return Nl(e,s=>{let a=s;$a(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&Zp(o,i),t}function Zp(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:o}=n[t];Al(o,i=>{e(i,r)})}}function $a(n,e,t,r){if(n=$e(n),!n)return!1;let o=null,i=Yh(n),s=!i&&tn(n);if(!i&&!s){let l=n.ngModule;if(i=Yh(l),i)o=l;else return!1}else{if(s&&!s.standalone)return!1;o=n}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)$a(c,e,t,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let c;try{Nl(i.imports,u=>{$a(u,e,t,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Zp(c,e)}if(!a){let c=$n(o)||(()=>new o);e({provide:o,useFactory:c,deps:Un},o),e({provide:$p,useValue:o,multi:!0},o),e({provide:zn,useValue:()=>F(o),multi:!0},o)}let l=i.providers;if(l!=null&&!a){let c=n;Al(l,u=>{e(u,c)})}}else return!1;return o!==n&&n.providers!==void 0}function Al(n,e){for(let t of n)Bp(t)&&(t=t.\u0275providers),Array.isArray(t)?Al(t,e):e(t)}var qw=ee({provide:String,useValue:ee});function Yp(n){return n!==null&&typeof n=="object"&&qw in n}function Gw(n){return!!(n&&n.useExisting)}function Zw(n){return!!(n&&n.useFactory)}function Ua(n){return typeof n=="function"}var Ti=new _(""),ti={},Yw={},Oa;function Ol(){return Oa===void 0&&(Oa=new ui),Oa}var ze=class{},Lr=class extends ze{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,Wa(e,s=>this.processProvider(s)),this.records.set(Vp,Bn(void 0,this)),o.has("environment")&&this.records.set(ze,Bn(void 0,this));let i=this.records.get(Ti);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get($p,Un,P.Self))}destroy(){_r(this),this._destroyed=!0;let e=G(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),G(e)}}onDestroy(e){return _r(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){_r(this);let t=Pt(this),r=Ve(void 0),o;try{return e()}finally{Pt(t),Ve(r)}}get(e,t=Or,r=P.Default){if(_r(this),e.hasOwnProperty(Qh))return e[Qh](this);r=Si(r);let o,i=Pt(this),s=Ve(void 0);try{if(!(r&P.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=t0(e)&&Di(e);c&&this.injectableDefInScope(c)?l=Bn(za(e),ti):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&P.Self?Ol():this.parent;return t=r&P.Optional&&t===Or?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[li]=a[li]||[]).unshift(Oe(e)),i)throw a;return Vw(a,e,"R3InjectorError",this.source)}else throw a}finally{Ve(s),Pt(i)}}resolveInjectorInitializers(){let e=G(null),t=Pt(this),r=Ve(void 0),o;try{let i=this.get(zn,Un,P.Self);for(let s of i)s()}finally{Pt(t),Ve(r),G(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Oe(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=$e(e);let t=Ua(e)?e:$e(e&&e.provide),r=Qw(e);if(!Ua(e)&&e.multi===!0){let o=this.records.get(t);o||(o=Bn(void 0,ti,!0),o.factory=()=>Va(o.multi),this.records.set(t,o)),t=e,o.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=G(null);try{return t.value===ti&&(t.value=Yw,t.value=t.factory()),typeof t.value=="object"&&t.value&&e0(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{G(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=$e(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function za(n){let e=Di(n),t=e!==null?e.factory:$n(n);if(t!==null)return t;if(n instanceof _)throw new D(204,!1);if(n instanceof Function)return Kw(n);throw new D(204,!1)}function Kw(n){if(n.length>0)throw new D(204,!1);let t=kw(n);return t!==null?()=>t.factory(n):()=>new n}function Qw(n){if(Yp(n))return Bn(void 0,n.useValue);{let e=Xw(n);return Bn(e,ti)}}function Xw(n,e,t){let r;if(Ua(n)){let o=$e(n);return $n(o)||za(o)}else if(Yp(n))r=()=>$e(n.useValue);else if(Zw(n))r=()=>n.useFactory(...Va(n.deps||[]));else if(Gw(n))r=()=>F($e(n.useExisting));else{let o=$e(n&&(n.useClass||n.provide));if(Jw(n))r=()=>new o(...Va(n.deps));else return $n(o)||za(o)}return r}function _r(n){if(n.destroyed)throw new D(205,!1)}function Bn(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Jw(n){return!!n.deps}function e0(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function t0(n){return typeof n=="function"||typeof n=="object"&&n instanceof _}function Wa(n,e){for(let t of n)Array.isArray(t)?Wa(t,e):t&&Bp(t)?Wa(t.\u0275providers,e):e(t)}function nt(n,e){n instanceof Lr&&_r(n);let t,r=Pt(n),o=Ve(void 0);try{return e()}finally{Pt(r),Ve(o)}}function n0(){return Fp()!==void 0||Fw()!=null}function r0(n){return typeof n=="function"}var xt=0,B=1,M=2,xe=3,et=4,rt=5,di=6,fi=7,ct=8,Wn=9,Ft=10,tt=11,Pr=12,Jh=13,$r=14,ut=15,nn=16,Fn=17,Ct=18,Mi=19,Kp=20,Bt=21,Ra=22,hi=23,Re=24,rn=25,Qp=1;var on=7,pi=8,qn=9,Le=10;function Jt(n){return Array.isArray(n)&&typeof n[Qp]=="object"}function kt(n){return Array.isArray(n)&&n[Qp]===!0}function Xp(n){return(n.flags&4)!==0}function Rl(n){return n.componentOffset>-1}function Jp(n){return(n.flags&1)===1}function Ur(n){return!!n.template}function qa(n){return(n[M]&512)!==0}function zr(n){return(n[M]&256)===256}var Ga=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function eg(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Ll=(()=>{let n=()=>tg;return n.ngInherit=!0,n})();function tg(n){return n.type.prototype.ngOnChanges&&(n.setInput=i0),o0}function o0(){let n=rg(this),e=n?.current;if(e){let t=n.previous;if(t===Rr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function i0(n,e,t,r,o){let i=this.declaredInputs[r],s=rg(n)||s0(n,{previous:Rr,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[i];a[i]=new Ga(c&&c.currentValue,t,l===Rr),eg(n,e,o,t)}var ng="__ngSimpleChanges__";function rg(n){return n[ng]||null}function s0(n,e){return n[ng]=e}var ep=null;var Ue=function(n,e,t){ep?.(n,e,t)},a0="svg",l0="math";function Et(n){for(;Array.isArray(n);)n=n[xt];return n}function ht(n,e){return Et(e[n.index])}function c0(n,e){return n.data[e]}function Qn(n,e){let t=e[n];return Jt(t)?t:t[xt]}function u0(n){return(n[M]&4)===4}function Pl(n){return(n[M]&128)===128}function d0(n){return kt(n[xe])}function tp(n,e){return e==null?null:n[e]}function og(n){n[Fn]=0}function Bl(n){n[M]&1024||(n[M]|=1024,Pl(n)&&Ni(n))}function _i(n){return!!(n[M]&9216||n[Re]?.dirty)}function Za(n){n[Ft].changeDetectionScheduler?.notify(9),n[M]&64&&(n[M]|=1024),_i(n)&&Ni(n)}function Ni(n){n[Ft].changeDetectionScheduler?.notify(0);let e=sn(n);for(;e!==null&&!(e[M]&8192||(e[M]|=8192,!Pl(e)));)e=sn(e)}function ig(n,e){if(zr(n))throw new D(911,!1);n[Bt]===null&&(n[Bt]=[]),n[Bt].push(e)}function f0(n,e){if(n[Bt]===null)return;let t=n[Bt].indexOf(e);t!==-1&&n[Bt].splice(t,1)}function sn(n){let e=n[xe];return kt(e)?e[xe]:e}function sg(n){return n[fi]??=[]}function ag(n){return n.cleanup??=[]}function h0(n,e,t,r){let o=sg(e);o.push(t),n.firstCreatePass&&ag(n).push(r,o.length-1)}var Z={lFrame:vg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ya=!1;function p0(){return Z.lFrame.elementDepthCount}function g0(){Z.lFrame.elementDepthCount++}function m0(){Z.lFrame.elementDepthCount--}function lg(){return Z.bindingsEnabled}function v0(){return Z.skipHydrationRootTNode!==null}function y0(n){return Z.skipHydrationRootTNode===n}function b0(){Z.skipHydrationRootTNode=null}function be(){return Z.lFrame.lView}function Xn(){return Z.lFrame.tView}function cg(n){return Z.lFrame.contextLView=n,n[ct]}function ug(n){return Z.lFrame.contextLView=null,n}function ot(){let n=dg();for(;n!==null&&n.type===64;)n=n.parent;return n}function dg(){return Z.lFrame.currentTNode}function w0(){let n=Z.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ai(n,e){let t=Z.lFrame;t.currentTNode=n,t.isParent=e}function fg(){return Z.lFrame.isParent}function C0(){Z.lFrame.isParent=!1}function hg(){return Ya}function np(n){let e=Ya;return Ya=n,e}function E0(n){return Z.lFrame.bindingIndex=n}function x0(){return Z.lFrame.inI18n}function k0(n,e){let t=Z.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ka(e)}function D0(){return Z.lFrame.currentDirectiveIndex}function Ka(n){Z.lFrame.currentDirectiveIndex=n}function pg(){return Z.lFrame.currentQueryIndex}function Fl(n){Z.lFrame.currentQueryIndex=n}function S0(n){let e=n[B];return e.type===2?e.declTNode:e.type===1?n[rt]:null}function gg(n,e,t){if(t&P.SkipSelf){let o=e,i=n;for(;o=o.parent,o===null&&!(t&P.Host);)if(o=S0(i),o===null||(i=i[$r],o.type&10))break;if(o===null)return!1;e=o,n=i}let r=Z.lFrame=mg();return r.currentTNode=e,r.lView=n,!0}function jl(n){let e=mg(),t=n[B];Z.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function mg(){let n=Z.lFrame,e=n===null?null:n.child;return e===null?vg(n):e}function vg(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function yg(){let n=Z.lFrame;return Z.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var bg=yg;function Hl(){let n=yg();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function I0(){return Z.lFrame.selectedIndex}function an(n){Z.lFrame.selectedIndex=n}function T0(){return Z.lFrame.currentNamespace}var wg=!0;function Cg(){return wg}function Eg(n){wg=n}function M0(n,e,t){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let s=tg(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}o&&(t.preOrderHooks??=[]).push(0-n,o),i&&((t.preOrderHooks??=[]).push(n,i),(t.preOrderCheckHooks??=[]).push(n,i))}function xg(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let i=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=i;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function ni(n,e,t){kg(n,e,3,t)}function ri(n,e,t,r){(n[M]&3)===t&&kg(n,e,t,r)}function La(n,e){let t=n[M];(t&3)===e&&(t&=16383,t+=1,n[M]=t)}function kg(n,e,t,r){let o=r!==void 0?n[Fn]&65535:0,i=r??-1,s=e.length-1,a=0;for(let l=o;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[Fn]+=65536),(a<i||i==-1)&&(_0(n,t,e,l),n[Fn]=(n[Fn]&4294901760)+l+2),l++}function rp(n,e){Ue(4,n,e);let t=G(null);try{e.call(n)}finally{G(t),Ue(5,n,e)}}function _0(n,e,t,r){let o=t[r]<0,i=t[r+1],s=o?-t[r]:t[r],a=n[s];o?n[M]>>14<n[Fn]>>16&&(n[M]&3)===e&&(n[M]+=16384,rp(a,i)):rp(a,i)}var Vn=-1,Br=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function N0(n){return n instanceof Br}function A0(n){return(n.flags&8)!==0}function O0(n){return(n.flags&16)!==0}function Qa(n,e,t){let r=0;for(;r<t.length;){let o=t[r];if(typeof o=="number"){if(o!==0)break;r++;let i=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,i)}else{let i=o,s=t[++r];L0(i)?n.setProperty(e,i,s):n.setAttribute(e,i,s),r++}}return r}function R0(n){return n===3||n===4||n===6}function L0(n){return n.charCodeAt(0)===64}function Vl(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?t=o:t===0||(t===-1||t===2?op(n,t,o,null,e[++r]):op(n,t,o,null,null))}}return n}function op(n,e,t,r,o){let i=0,s=n.length;if(e===-1)s=-1;else for(;i<n.length;){let a=n[i++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=i-1;break}}}for(;i<n.length;){let a=n[i];if(typeof a=="number")break;if(a===t){if(r===null){o!==null&&(n[i+1]=o);return}else if(r===n[i+1]){n[i+2]=o;return}}i++,r!==null&&i++,o!==null&&i++}s!==-1&&(n.splice(s,0,e),i=s+1),n.splice(i++,0,t),r!==null&&n.splice(i++,0,r),o!==null&&n.splice(i++,0,o)}var Pa={},Xa=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Si(r);let o=this.injector.get(e,Pa,r);return o!==Pa||t===Pa?o:this.parentInjector.get(e,t,r)}};function Dg(n){return n!==Vn}function gi(n){return n&32767}function P0(n){return n>>16}function mi(n,e){let t=P0(n),r=e;for(;t>0;)r=r[$r],t--;return r}var Ja=!0;function ip(n){let e=Ja;return Ja=n,e}var B0=256,Sg=B0-1,Ig=5,F0=0,lt={};function j0(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ar)&&(r=t[Ar]),r==null&&(r=t[Ar]=F0++);let o=r&Sg,i=1<<o;e.data[n+(o>>Ig)]|=i}function Tg(n,e){let t=Mg(n,e);if(t!==-1)return t;let r=e[B];r.firstCreatePass&&(n.injectorIndex=e.length,Ba(r.data,n),Ba(e,null),Ba(r.blueprint,null));let o=$l(n,e),i=n.injectorIndex;if(Dg(o)){let s=gi(o),a=mi(o,e),l=a[B].data;for(let c=0;c<8;c++)e[i+c]=a[s+c]|l[s+c]}return e[i+8]=o,i}function Ba(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Mg(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function $l(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,o=e;for(;o!==null;){if(r=Rg(o),r===null)return Vn;if(t++,o=o[$r],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Vn}function H0(n,e,t){j0(n,e,t)}function _g(n,e,t){if(t&P.Optional||n!==void 0)return n;_l(e,"NodeInjector")}function Ng(n,e,t,r){if(t&P.Optional&&r===void 0&&(r=null),!(t&(P.Self|P.Host))){let o=n[Wn],i=Ve(void 0);try{return o?o.get(e,r,t&P.Optional):jp(e,r,t&P.Optional)}finally{Ve(i)}}return _g(r,e,t)}function Ag(n,e,t,r=P.Default,o){if(n!==null){if(e[M]&2048&&!(r&P.Self)){let s=z0(n,e,t,r,lt);if(s!==lt)return s}let i=Og(n,e,t,r,lt);if(i!==lt)return i}return Ng(e,t,r,o)}function Og(n,e,t,r,o){let i=$0(t);if(typeof i=="function"){if(!gg(e,n,r))return r&P.Host?_g(o,t,r):Ng(e,t,r,o);try{let s;if(s=i(r),s==null&&!(r&P.Optional))_l(t);else return s}finally{bg()}}else if(typeof i=="number"){let s=null,a=Mg(n,e),l=Vn,c=r&P.Host?e[ut][rt]:null;for((a===-1||r&P.SkipSelf)&&(l=a===-1?$l(n,e):e[a+8],l===Vn||!ap(r,!1)?a=-1:(s=e[B],a=gi(l),e=mi(l,e)));a!==-1;){let u=e[B];if(sp(i,a,u.data)){let d=V0(a,e,t,s,r,c);if(d!==lt)return d}l=e[a+8],l!==Vn&&ap(r,e[B].data[a+8]===c)&&sp(i,a,e)?(s=u,a=gi(l),e=mi(l,e)):a=-1}}return o}function V0(n,e,t,r,o,i){let s=e[B],a=s.data[n+8],l=r==null?Rl(a)&&Ja:r!=s&&(a.type&3)!==0,c=o&P.Host&&i===a,u=oi(a,s,t,l,c);return u!==null?Gn(e,s,u,a):lt}function oi(n,e,t,r,o){let i=n.providerIndexes,s=e.data,a=i&1048575,l=n.directiveStart,c=n.directiveEnd,u=i>>20,d=r?a:a+u,f=o?a+u:c;for(let h=d;h<f;h++){let p=s[h];if(h<l&&t===p||h>=l&&p.type===t)return h}if(o){let h=s[l];if(h&&Ur(h)&&h.type===t)return l}return null}function Gn(n,e,t,r){let o=n[t],i=e.data;if(N0(o)){let s=o;s.resolving&&Aw(Nw(i[t]));let a=ip(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Ve(s.injectImpl):null,u=gg(n,r,P.Default);try{o=n[t]=s.factory(void 0,i,n,r),e.firstCreatePass&&t>=r.directiveStart&&M0(t,i[t],e)}finally{c!==null&&Ve(c),ip(a),s.resolving=!1,bg()}}return o}function $0(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ar)?n[Ar]:void 0;return typeof e=="number"?e>=0?e&Sg:U0:e}function sp(n,e,t){let r=1<<n;return!!(t[e+(n>>Ig)]&r)}function ap(n,e){return!(n&P.Self)&&!(n&P.Host&&e)}var en=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Ag(this._tNode,this._lView,e,Si(r),t)}};function U0(){return new en(ot(),be())}function Ul(n){return Ml(()=>{let e=n.prototype.constructor,t=e[ai]||el(e),r=Object.prototype,o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){let i=o[ai]||el(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function el(n){return Op(n)?()=>{let e=el($e(n));return e&&e()}:$n(n)}function z0(n,e,t,r,o){let i=n,s=e;for(;i!==null&&s!==null&&s[M]&2048&&!(s[M]&512);){let a=Og(i,s,t,r|P.Self,lt);if(a!==lt)return a;let l=i.parent;if(!l){let c=s[Kp];if(c){let u=c.get(t,lt,r);if(u!==lt)return u}l=Rg(s),s=s[$r]}i=l}return o}function Rg(n){let e=n[B],t=e.type;return t===2?e.declTNode:t===1?n[rt]:null}function lp(n,e=null,t=null,r){let o=Lg(n,e,t,r);return o.resolveInjectorInitializers(),o}function Lg(n,e=null,t=null,r,o=new Set){let i=[t||Un,Ww(n)];return r=r||(typeof n=="object"?void 0:Oe(n)),new Lr(i,e||Ol(),r||null,o)}var dt=class n{static THROW_IF_NOT_FOUND=Or;static NULL=new ui;static create(e,t){if(Array.isArray(e))return lp({name:""},t,e,"");{let r=e.name??"";return lp({name:r},e.parent,e.providers,r)}}static \u0275prov=S({token:n,providedIn:"any",factory:()=>F(Vp)});static __NG_ELEMENT_ID__=-1};var W0=new _("");W0.__NG_ELEMENT_ID__=n=>{let e=ot();if(e===null)throw new D(204,!1);if(e.type&2)return e.value;if(n&P.Optional)return null;throw new D(204,!1)};var Pg=!1,Bg=(()=>{class n{static __NG_ELEMENT_ID__=q0;static __NG_ENV_ID__=t=>t}return n})(),tl=class extends Bg{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return ig(this._lView,e),()=>f0(this._lView,e)}};function q0(){return new tl(be())}var Fr=class{},Oi=new _("",{providedIn:"root",factory:()=>!1});var Fg=new _(""),jg=new _(""),Jn=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ve(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=S({token:n,providedIn:"root",factory:()=>new n})}return n})();var nl=class extends me{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,n0()&&(this.destroyRef=y(Bg,{optional:!0})??void 0,this.pendingTasks=y(Jn,{optional:!0})??void 0)}emit(e){let t=G(null);try{super.next(e)}finally{G(t)}}subscribe(e,t,r){let o=e,i=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return e instanceof ce&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ae=nl;function vi(...n){}function Hg(n){let e,t;function r(){n=vi;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function cp(n){return queueMicrotask(()=>n()),()=>{n=vi}}var zl="isAngularZone",yi=zl+"_ID",G0=0,pe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ae(!1);onMicrotaskEmpty=new Ae(!1);onStable=new Ae(!1);onError=new Ae(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Pg}=e;if(typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,K0(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(zl)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new D(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,Z0,vi,vi);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Z0={};function Wl(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Y0(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Hg(()=>{n.callbackScheduled=!1,rl(n),n.isCheckStableRunning=!0,Wl(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),rl(n)}function K0(n){let e=()=>{Y0(n)},t=G0++;n._inner=n._inner.fork({name:"angular",properties:{[zl]:!0,[yi]:t,[yi+t]:!0},onInvokeTask:(r,o,i,s,a,l)=>{if(Q0(l))return r.invokeTask(i,s,a,l);try{return up(n),r.invokeTask(i,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),dp(n)}},onInvoke:(r,o,i,s,a,l,c)=>{try{return up(n),r.invoke(i,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!X0(l)&&e(),dp(n)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,rl(n),Wl(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function rl(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function up(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function dp(n){n._nesting--,Wl(n)}var ol=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ae;onMicrotaskEmpty=new Ae;onStable=new Ae;onError=new Ae;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,o){return e.apply(t,r)}};function Q0(n){return Vg(n,"__ignore_ng_zone__")}function X0(n){return Vg(n,"__scheduler_tick__")}function Vg(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var jt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},J0=new _("",{providedIn:"root",factory:()=>{let n=y(pe),e=y(jt);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function fp(n,e){return Np(n,e)}function eC(n){return Np(_p,n)}var $g=(fp.required=eC,fp);function tC(){return er(ot(),be())}function er(n,e){return new cn(ht(n,e))}var cn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=tC}return n})();function nC(n){return n instanceof cn?n.nativeElement:n}var hp=new Set;function ql(n){hp.has(n)||(hp.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function rC(){return this._results[Symbol.iterator]()}var il=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new me}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=zw(e);(this._changesDetected=!Uw(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=rC};function Ug(n){return(n.flags&128)===128}var zg=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(zg||{}),Wg=new Map,oC=0;function iC(){return oC++}function sC(n){Wg.set(n[Mi],n)}function sl(n){Wg.delete(n[Mi])}var pp="__ngContext__";function Zn(n,e){Jt(e)?(n[pp]=e[Mi],sC(e)):n[pp]=e}function qg(n){return Zg(n[Pr])}function Gg(n){return Zg(n[et])}function Zg(n){for(;n!==null&&!kt(n);)n=n[et];return n}var al;function Yg(n){al=n}function aC(){if(al!==void 0)return al;if(typeof document<"u")return document;throw new D(210,!1)}var Gl=new _("",{providedIn:"root",factory:()=>lC}),lC="ng",Zl=new _(""),tr=new _("",{providedIn:"platform",factory:()=>"unknown"});var Yl=new _("",{providedIn:"root",factory:()=>aC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var cC="h",uC="b";var Kg=!1,dC=new _("",{providedIn:"root",factory:()=>Kg});var Qg=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Qg||{}),Ri=new _("");var fC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=S({token:n,providedIn:"root",factory:()=>new n})}return n})();var hC=()=>null;function Kl(n,e,t=!1){return hC(n,e,t)}function Xg(n,e){let t=n.contentQueries;if(t!==null){let r=G(null);try{for(let o=0;o<t.length;o+=2){let i=t[o],s=t[o+1];if(s!==-1){let a=n.data[s];Fl(i),a.contentQueries(2,e[s],s)}}}finally{G(r)}}}function ll(n,e,t){Fl(0);let r=G(null);try{e(n,t)}finally{G(r)}}function Jg(n,e,t){if(Xp(e)){let r=G(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let s=o;s<i;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{G(r)}}}var ft=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ft||{});function em(n){return n instanceof Function?n():n}var Ht=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ht||{}),un=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(un||{}),pC;function Ql(n,e){return pC(n,e)}function jn(n,e,t,r,o){if(r!=null){let i,s=!1;kt(r)?i=r:Jt(r)&&(s=!0,r=r[xt]);let a=Et(r);n===0&&t!==null?o==null?im(e,t,a):bi(e,t,a,o||null,!0):n===1&&t!==null?bi(e,t,a,o||null,!0):n===2?TC(e,a,s):n===3&&e.destroyNode(a),i!=null&&_C(e,n,i,t,o)}}function gC(n,e){return n.createText(e)}function tm(n,e,t){return n.createElement(e,t)}function mC(n,e){nm(n,e),e[xt]=null,e[rt]=null}function vC(n,e,t,r,o,i){r[xt]=o,r[rt]=e,Li(n,r,t,1,o,i)}function nm(n,e){e[Ft].changeDetectionScheduler?.notify(10),Li(n,e,e[tt],2,null,null)}function yC(n){let e=n[Pr];if(!e)return Fa(n[B],n);for(;e;){let t=null;if(Jt(e))t=e[Pr];else{let r=e[Le];r&&(t=r)}if(!t){for(;e&&!e[et]&&e!==n;)Jt(e)&&Fa(e[B],e),e=e[xe];e===null&&(e=n),Jt(e)&&Fa(e[B],e),t=e&&e[et]}e=t}}function bC(n,e,t,r){let o=Le+r,i=t.length;r>0&&(t[o-1][et]=e),r<i-Le?(e[et]=t[o],Hp(t,Le+r,e)):(t.push(e),e[et]=null),e[xe]=t;let s=e[nn];s!==null&&t!==s&&rm(s,e);let a=e[Ct];a!==null&&a.insertView(n),Za(e),e[M]|=128}function rm(n,e){let t=n[qn],r=e[xe];if(Jt(r))n[M]|=2;else{let o=r[xe][ut];e[ut]!==o&&(n[M]|=2)}t===null?n[qn]=[e]:t.push(e)}function Xl(n,e){let t=n[qn],r=t.indexOf(e);t.splice(r,1)}function cl(n,e){if(n.length<=Le)return;let t=Le+e,r=n[t];if(r){let o=r[nn];o!==null&&o!==n&&Xl(o,r),e>0&&(n[t-1][et]=r[et]);let i=ci(n,Le+e);mC(r[B],r);let s=i[Ct];s!==null&&s.detachView(i[B]),r[xe]=null,r[et]=null,r[M]&=-129}return r}function om(n,e){if(zr(e))return;let t=e[tt];t.destroyNode&&Li(n,e,t,3,null,null),yC(e)}function Fa(n,e){if(zr(e))return;let t=G(null);try{e[M]&=-129,e[M]|=256,e[Re]&&va(e[Re]),CC(n,e),wC(n,e),e[B].type===1&&e[tt].destroy();let r=e[nn];if(r!==null&&kt(e[xe])){r!==e[xe]&&Xl(r,e);let o=e[Ct];o!==null&&o.detachView(n)}sl(e)}finally{G(t)}}function wC(n,e){let t=n.cleanup,r=e[fi];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[fi]=null);let o=e[Bt];if(o!==null){e[Bt]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=e[hi];if(i!==null){e[hi]=null;for(let s of i)s.destroy()}}function CC(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let o=e[t[r]];if(!(o instanceof Br)){let i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],l=i[s+1];Ue(4,a,l);try{l.call(a)}finally{Ue(5,a,l)}}else{Ue(4,o,i);try{i.call(o)}finally{Ue(5,o,i)}}}}}function EC(n,e,t){return xC(n,e.parent,t)}function xC(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[xt];{let{componentOffset:o}=r;if(o>-1){let{encapsulation:i}=n.data[r.directiveStart+o];if(i===ft.None||i===ft.Emulated)return null}return ht(r,t)}}function bi(n,e,t,r,o){n.insertBefore(e,t,r,o)}function im(n,e,t){n.appendChild(e,t)}function gp(n,e,t,r,o){r!==null?bi(n,e,t,r,o):im(n,e,t)}function sm(n,e){return n.parentNode(e)}function kC(n,e){return n.nextSibling(e)}function DC(n,e,t){return IC(n,e,t)}function SC(n,e,t){return n.type&40?ht(n,t):null}var IC=SC,mp;function am(n,e,t,r){let o=EC(n,r,e),i=e[tt],s=r.parent||e[rt],a=DC(s,r,e);if(o!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)gp(i,o,t[l],a,!1);else gp(i,o,t,a,!1);mp!==void 0&&mp(i,r,e,t,o)}function Nr(n,e){if(e!==null){let t=e.type;if(t&3)return ht(e,n);if(t&4)return ul(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Nr(n,r);{let o=n[e.index];return kt(o)?ul(-1,o):Et(o)}}else{if(t&128)return Nr(n,e.next);if(t&32)return Ql(e,n)()||Et(n[e.index]);{let r=lm(n,e);if(r!==null){if(Array.isArray(r))return r[0];let o=sn(n[ut]);return Nr(o,r)}else return Nr(n,e.next)}}}return null}function lm(n,e){if(e!==null){let r=n[ut][rt],o=e.projection;return r.projection[o]}return null}function ul(n,e){let t=Le+n+1;if(t<e.length){let r=e[t],o=r[B].firstChild;if(o!==null)return Nr(r,o)}return e[on]}function TC(n,e,t){n.removeChild(null,e,t)}function Jl(n,e,t,r,o,i,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&Zn(Et(a),r),t.flags|=2),(t.flags&32)!==32)if(l&8)Jl(n,e,t.child,r,o,i,!1),jn(e,n,o,a,i);else if(l&32){let c=Ql(t,r),u;for(;u=c();)jn(e,n,o,u,i);jn(e,n,o,a,i)}else l&16?MC(n,e,r,t,o,i):jn(e,n,o,a,i);t=s?t.projectionNext:t.next}}function Li(n,e,t,r,o,i){Jl(t,r,n.firstChild,e,o,i,!1)}function MC(n,e,t,r,o,i){let s=t[ut],l=s[rt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];jn(e,n,o,u,i)}else{let c=l,u=s[xe];Ug(r)&&(c.flags|=128),Jl(n,e,c,u,o,i,!0)}}function _C(n,e,t,r,o){let i=t[on],s=Et(t);i!==s&&jn(e,n,r,i,o);for(let a=Le;a<t.length;a++){let l=t[a];Li(l[B],l,n,e,r,i)}}function NC(n,e,t){n.setAttribute(e,"style",t)}function cm(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function um(n,e,t){let{mergedAttrs:r,classes:o,styles:i}=t;r!==null&&Qa(n,e,r),o!==null&&cm(n,e,o),i!==null&&NC(n,e,i)}function AC(n,e,t){let r=n.length;for(;;){let o=n.indexOf(e,t);if(o===-1)return o;if(o===0||n.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}t=o+1}}var dm="ng-template";function OC(n,e,t,r){let o=0;if(r){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&AC(e[o+1].toLowerCase(),t,0)!==-1)return!0}else if(ec(n))return!1;if(o=e.indexOf(1,o),o>-1){let i;for(;++o<e.length&&typeof(i=e[o])=="string";)if(i.toLowerCase()===t)return!0}return!1}function ec(n){return n.type===4&&n.value!==dm}function RC(n,e,t){let r=n.type===4&&!t?dm:n.value;return e===r}function LC(n,e,t){let r=4,o=n.attrs,i=o!==null?FC(o):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Je(r)&&!Je(l))return!1;if(s&&Je(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!RC(n,l,t)||l===""&&e.length===1){if(Je(r))return!1;s=!0}}else if(r&8){if(o===null||!OC(n,o,l,t)){if(Je(r))return!1;s=!0}}else{let c=e[++a],u=PC(l,o,ec(n),t);if(u===-1){if(Je(r))return!1;s=!0;continue}if(c!==""){let d;if(u>i?d="":d=o[u+1].toLowerCase(),r&2&&c!==d){if(Je(r))return!1;s=!0}}}}return Je(r)||s}function Je(n){return(n&1)===0}function PC(n,e,t,r){if(e===null)return-1;let o=0;if(r||!t){let i=!1;for(;o<e.length;){let s=e[o];if(s===n)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=e[++o];for(;typeof a=="string";)a=e[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return jC(e,n)}function BC(n,e,t=!1){for(let r=0;r<e.length;r++)if(LC(n,e[r],t))return!0;return!1}function FC(n){for(let e=0;e<n.length;e++){let t=n[e];if(R0(t))return e}return n.length}function jC(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function vp(n,e){return n?":not("+e.trim()+")":e}function HC(n){let e=n[0],t=1,r=2,o="",i=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Je(s)&&(e+=vp(i,o),o=""),r=s,i=i||!Je(r);t++}return o!==""&&(e+=vp(i,o)),e}function VC(n){return n.map(HC).join(",")}function $C(n){let e=[],t=[],r=1,o=2;for(;r<n.length;){let i=n[r];if(typeof i=="string")o===2?i!==""&&e.push(i,n[++r]):o===8&&t.push(i);else{if(!Je(o))break;o=i}r++}return{attrs:e,classes:t}}var fm={};function UC(n,e,t,r){if(!r)if((e[M]&3)===3){let i=n.preOrderCheckHooks;i!==null&&ni(e,i,t)}else{let i=n.preOrderHooks;i!==null&&ri(e,i,0,t)}an(t)}function tc(n,e=P.Default){let t=be();if(t===null)return F(n,e);let r=ot();return Ag(r,t,$e(n),e)}function hm(n,e,t,r,o,i){let s=G(null);try{let a=null;o&Ht.SignalBased&&(a=e[r][Dn]),a!==null&&a.transformFn!==void 0&&(i=a.transformFn(i)),o&Ht.HasDecoratorInputTransform&&(i=n.inputTransforms[r].call(e,i)),n.setInput!==null?n.setInput(e,a,i,t,r):eg(e,a,r,i)}finally{G(s)}}function Pi(n,e,t,r,o,i,s,a,l,c,u){let d=e.blueprint.slice();return d[xt]=o,d[M]=r|4|128|8|64|1024,(c!==null||n&&n[M]&2048)&&(d[M]|=2048),og(d),d[xe]=d[$r]=n,d[ct]=t,d[Ft]=s||n&&n[Ft],d[tt]=a||n&&n[tt],d[Wn]=l||n&&n[Wn]||null,d[rt]=i,d[Mi]=iC(),d[di]=u,d[Kp]=c,d[ut]=e.type==2?n[ut]:d,d}function nc(n,e,t,r,o){let i=n.data[e];if(i===null)i=zC(n,e,t,r,o),x0()&&(i.flags|=32);else if(i.type&64){i.type=t,i.value=r,i.attrs=o;let s=w0();i.injectorIndex=s===null?-1:s.injectorIndex}return Ai(i,!0),i}function zC(n,e,t,r,o){let i=dg(),s=fg(),a=s?i:i&&i.parent,l=n.data[e]=QC(n,a,t,e,r,o);return n.firstChild===null&&(n.firstChild=l),i!==null&&(s?i.child==null&&l.parent!==null&&(i.child=l):i.next===null&&(i.next=l,l.prev=i)),l}function pm(n,e,t,r){if(t===0)return-1;let o=e.length;for(let i=0;i<t;i++)e.push(r),n.blueprint.push(r),n.data.push(null);return o}function gm(n,e,t,r,o){let i=I0(),s=r&2;try{an(-1),s&&e.length>rn&&UC(n,e,rn,!1),Ue(s?2:0,o),t(r,o)}finally{an(i),Ue(s?3:1,o)}}function WC(n,e,t){lg()&&(nE(n,e,t,ht(t,e)),(t.flags&64)===64&&bm(n,e,t))}function qC(n,e,t=ht){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?t(e,n):n[s];n[o++]=a}}}function mm(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=vm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function vm(n,e,t,r,o,i,s,a,l,c,u){let d=rn+r,f=d+o,h=GC(d,f),p=typeof c=="function"?c():c;return h[B]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function GC(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:fm);return t}function ZC(n,e,t,r){let i=r.get(dC,Kg)||t===ft.ShadowDom,s=n.selectRootElement(e,i);return YC(s),s}function YC(n){KC(n)}var KC=()=>null;function QC(n,e,t,r,o,i){let s=e?e.injectorIndex:-1,a=0;return v0()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function yp(n,e,t,r,o){for(let i in e){if(!e.hasOwnProperty(i))continue;let s=e[i];if(s===void 0)continue;r??={};let a,l=Ht.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=i;if(o!==null){if(!o.hasOwnProperty(i))continue;c=o[i]}n===0?bp(r,t,c,a,l):bp(r,t,c,a)}return r}function bp(n,e,t,r,o){let i;n.hasOwnProperty(t)?(i=n[t]).push(e,r):i=n[t]=[e,r],o!==void 0&&i.push(o)}function XC(n,e,t){let r=e.directiveStart,o=e.directiveEnd,i=n.data,s=e.attrs,a=[],l=null,c=null;for(let u=r;u<o;u++){let d=i[u],f=t?t.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;l=yp(0,d.inputs,u,l,h),c=yp(1,d.outputs,u,c,p);let m=l!==null&&s!==null&&!ec(e)?dE(l,u,s):null;a.push(m)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function JC(n,e,t,r){if(lg()){let o=r===null?null:{"":-1},i=oE(n,t),s,a;i===null?s=a=null:[s,a]=i,s!==null&&ym(n,e,t,s,o,a),o&&iE(t,r,o)}t.mergedAttrs=Vl(t.mergedAttrs,t.attrs)}function ym(n,e,t,r,o,i){for(let c=0;c<r.length;c++)H0(Tg(t,e),n,r[c].type);aE(t,n.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=pm(n,e,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];t.mergedAttrs=Vl(t.mergedAttrs,u.hostAttrs),lE(n,t,e,l,u),sE(l,u,o),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}XC(n,t,i)}function eE(n,e,t,r,o){let i=o.hostBindings;if(i){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;tE(s)!=a&&s.push(a),s.push(t,r,i)}}function tE(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function nE(n,e,t,r){let o=t.directiveStart,i=t.directiveEnd;Rl(t)&&cE(e,t,n.data[o+t.componentOffset]),n.firstCreatePass||Tg(t,e),Zn(r,e);let s=t.initialInputs;for(let a=o;a<i;a++){let l=n.data[a],c=Gn(e,n,a,t);if(Zn(c,e),s!==null&&uE(e,a-o,c,l,t,s),Ur(l)){let u=Qn(t.index,e);u[ct]=Gn(e,n,a,t)}}}function bm(n,e,t){let r=t.directiveStart,o=t.directiveEnd,i=t.index,s=D0();try{an(i);for(let a=r;a<o;a++){let l=n.data[a],c=e[a];Ka(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&rE(l,c)}}finally{an(-1),Ka(s)}}function rE(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function oE(n,e){let t=n.directiveRegistry,r=null,o=null;if(t)for(let i=0;i<t.length;i++){let s=t[i];if(BC(e,s.selectors,!1))if(r||(r=[]),Ur(s))if(s.findHostDirectiveDefs!==null){let a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s);let l=a.length;dl(n,e,l)}else r.unshift(s),dl(n,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return r===null?null:[r,o]}function dl(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function iE(n,e,t){if(e){let r=n.localNames=[];for(let o=0;o<e.length;o+=2){let i=t[e[o+1]];if(i==null)throw new D(-301,!1);r.push(e[o],i)}}}function sE(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ur(e)&&(t[""]=n)}}function aE(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function lE(n,e,t,r,o){n.data[r]=o;let i=o.factory||(o.factory=$n(o.type,!0)),s=new Br(i,Ur(o),tc);n.blueprint[r]=s,t[r]=s,eE(n,e,r,pm(n,t,o.hostVars,fm),o)}function wm(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function cE(n,e,t){let r=ht(e,n),o=mm(t),i=n[Ft].rendererFactory,s=rc(n,Pi(n,o,null,wm(t),r,e,null,i.createRenderer(r,t),null,null,null));n[e.index]=s}function uE(n,e,t,r,o,i){let s=i[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];hm(r,t,l,c,u,d)}}function dE(n,e,t){let r=null,o=0;for(;o<t.length;){let i=t[o];if(i===0){o+=4;continue}else if(i===5){o+=2;continue}if(typeof i=="number")break;if(n.hasOwnProperty(i)){r===null&&(r=[]);let s=n[i];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(i,s[a+1],s[a+2],t[o+1]);break}}o+=2}return r}function fE(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function rc(n,e){return n[Pr]?n[Jh][et]=e:n[Pr]=e,n[Jh]=e,e}function Cm(n,e){let t=n[Wn],r=t?t.get(jt,null):null;r&&r.handleError(e)}function Em(n,e,t,r,o){for(let i=0;i<t.length;){let s=t[i++],a=t[i++],l=t[i++],c=e[s],u=n.data[s];hm(u,c,r,a,l,o)}}function hE(n,e){let t=Qn(e,n),r=t[B];pE(r,t);let o=t[xt];o!==null&&t[di]===null&&(t[di]=Kl(o,t[Wn])),oc(r,t,t[ct])}function pE(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function oc(n,e,t){jl(e);try{let r=n.viewQuery;r!==null&&ll(1,r,t);let o=n.template;o!==null&&gm(n,e,o,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ct]?.finishViewCreation(n),n.staticContentQueries&&Xg(n,e),n.staticViewQueries&&ll(2,n.viewQuery,t);let i=n.components;i!==null&&gE(e,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[M]&=-5,Hl()}}function gE(n,e){for(let t=0;t<e.length;t++)hE(n,e[t])}function mE(n,e,t,r){let o=G(null);try{let i=e.tView,a=n[M]&4096?4096:16,l=Pi(n,i,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[e.index];l[nn]=c;let u=n[Ct];return u!==null&&(l[Ct]=u.createEmbeddedView(i)),oc(i,l,t),l}finally{G(o)}}function wp(n,e){return!e||e.firstChild===null||Ug(n)}function vE(n,e,t,r=!0){let o=e[B];if(bC(o,e,n,t),r){let s=ul(t,n),a=e[tt],l=sm(a,n[on]);l!==null&&vC(o,n[rt],a,e,l,s)}let i=e[di];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function wi(n,e,t,r,o=!1){for(;t!==null;){if(t.type===128){t=o?t.projectionNext:t.next;continue}let i=e[t.index];i!==null&&r.push(Et(i)),kt(i)&&yE(i,r);let s=t.type;if(s&8)wi(n,e,t.child,r);else if(s&32){let a=Ql(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=lm(e,t);if(Array.isArray(a))r.push(...a);else{let l=sn(e[ut]);wi(l[B],l,a,r,!0)}}t=o?t.projectionNext:t.next}return r}function yE(n,e){for(let t=Le;t<n.length;t++){let r=n[t],o=r[B].firstChild;o!==null&&wi(r[B],r,o,e)}n[on]!==n[xt]&&e.push(n[on])}var xm=[];function bE(n){return n[Re]??wE(n)}function wE(n){let e=xm.pop()??Object.create(EE);return e.lView=n,e}function CE(n){n.lView[Re]!==n&&(n.lView=null,xm.push(n))}var EE=L(v({},Ao),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ni(n.lView)},consumerOnSignalRead(){this.lView[Re]=this}});function xE(n){let e=n[Re]??Object.create(kE);return e.lView=n,e}var kE=L(v({},Ao),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=sn(n.lView);for(;e&&!km(e[B]);)e=sn(e);e&&Bl(e)},consumerOnSignalRead(){this.lView[Re]=this}});function km(n){return n.type!==2}function Dm(n){if(n[hi]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[hi])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[M]&8192)}}var DE=100;function Sm(n,e=!0,t=0){let o=n[Ft].rendererFactory,i=!1;i||o.begin?.();try{SE(n,t)}catch(s){throw e&&Cm(n,s),s}finally{i||o.end?.()}}function SE(n,e){let t=hg();try{np(!0),fl(n,e);let r=0;for(;_i(n);){if(r===DE)throw new D(103,!1);r++,fl(n,1)}}finally{np(t)}}function IE(n,e,t,r){if(zr(e))return;let o=e[M],i=!1,s=!1;jl(e);let a=!0,l=null,c=null;i||(km(n)?(c=bE(e),l=ga(c)):ah()===null?(a=!1,c=xE(e),l=ga(c)):e[Re]&&(va(e[Re]),e[Re]=null));try{og(e),E0(n.bindingStartIndex),t!==null&&gm(n,e,t,2,r);let u=(o&3)===3;if(!i)if(u){let h=n.preOrderCheckHooks;h!==null&&ni(e,h,null)}else{let h=n.preOrderHooks;h!==null&&ri(e,h,0,null),La(e,0)}if(s||TE(e),Dm(e),Im(e,0),n.contentQueries!==null&&Xg(n,e),!i)if(u){let h=n.contentCheckHooks;h!==null&&ni(e,h)}else{let h=n.contentHooks;h!==null&&ri(e,h,1),La(e,1)}_E(n,e);let d=n.components;d!==null&&Mm(e,d,0);let f=n.viewQuery;if(f!==null&&ll(2,f,r),!i)if(u){let h=n.viewCheckHooks;h!==null&&ni(e,h)}else{let h=n.viewHooks;h!==null&&ri(e,h,2),La(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Ra]){for(let h of e[Ra])h();e[Ra]=null}i||(e[M]&=-73)}catch(u){throw i||Ni(e),u}finally{c!==null&&(dh(c,l),a&&CE(c)),Hl()}}function Im(n,e){for(let t=qg(n);t!==null;t=Gg(t))for(let r=Le;r<t.length;r++){let o=t[r];Tm(o,e)}}function TE(n){for(let e=qg(n);e!==null;e=Gg(e)){if(!(e[M]&2))continue;let t=e[qn];for(let r=0;r<t.length;r++){let o=t[r];Bl(o)}}}function ME(n,e,t){let r=Qn(e,n);Tm(r,t)}function Tm(n,e){Pl(n)&&fl(n,e)}function fl(n,e){let r=n[B],o=n[M],i=n[Re],s=!!(e===0&&o&16);if(s||=!!(o&64&&e===0),s||=!!(o&1024),s||=!!(i?.dirty&&ma(i)),s||=!1,i&&(i.dirty=!1),n[M]&=-9217,s)IE(r,n,r.template,n[ct]);else if(o&8192){Dm(n),Im(n,1);let a=r.components;a!==null&&Mm(n,a,1)}}function Mm(n,e,t){for(let r=0;r<e.length;r++)ME(n,e[r],t)}function _E(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let o=t[r];if(o<0)an(~o);else{let i=o,s=t[++r],a=t[++r];k0(s,i);let l=e[i];Ue(24,l),a(2,l),Ue(25,l)}}}finally{an(-1)}}function ic(n,e){let t=hg()?64:1088;for(n[Ft].changeDetectionScheduler?.notify(e);n;){n[M]|=t;let r=sn(n);if(qa(n)&&!r)return n;n=r}return null}var ln=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[B];return wi(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[ct]}get dirty(){return!!(this._lView[M]&9280)||!!this._lView[Re]?.dirty}set context(e){this._lView[ct]=e}get destroyed(){return zr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[xe];if(kt(e)){let t=e[pi],r=t?t.indexOf(this):-1;r>-1&&(cl(e,r),ci(t,r))}this._attachedToViewContainer=!1}om(this._lView[B],this._lView)}onDestroy(e){ig(this._lView,e)}markForCheck(){ic(this._cdRefInjectingView||this._lView,4)}markForRefresh(){Bl(this._cdRefInjectingView||this._lView)}detach(){this._lView[M]&=-129}reattach(){Za(this._lView),this._lView[M]|=128}detectChanges(){this._lView[M]|=1024,Sm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=qa(this._lView),t=this._lView[nn];t!==null&&!e&&Xl(t,this._lView),nm(this._lView[B],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e;let t=qa(this._lView),r=this._lView[nn];r!==null&&!t&&rm(r,this._lView),Za(this._lView)}},jr=(()=>{class n{static __NG_ELEMENT_ID__=OE}return n})(),NE=jr,AE=class extends NE{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let o=mE(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new ln(o)}};function OE(){return sc(ot(),be())}function sc(n,e){return n.type&4?new AE(e,n,er(n,e)):null}var oP=new RegExp(`^(\\d+)*(${uC}|${cC})*(.*)`);var RE=()=>null;function Cp(n,e){return RE(n,e)}var hl=class{},Ci=class{},pl=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Oe(e)}.`)}},Yn=class{static NULL=new pl},Kn=class{};var LE=(()=>{class n{static \u0275prov=S({token:n,providedIn:"root",factory:()=>null})}return n})();function gl(n,e,t){let r=t?n.styles:null,o=t?n.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")i=a;else if(i==1)o=Gh(o,a);else if(i==2){let l=a,c=e[++s];r=Gh(r,l+": "+c+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=o:n.classesWithoutHost=o}var Ei=class extends Yn{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=tn(e);return new Hr(t,this.ngModule)}};function Ep(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let o=n[r];if(o===void 0)continue;let i=Array.isArray(o),s=i?o[0]:o,a=i?o[1]:Ht.None;e?t.push({propName:s,templateName:r,isSignal:(a&Ht.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function PE(n){let e=n.toLowerCase();return e==="svg"?a0:e==="math"?l0:null}var Hr=class extends Ci{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let e=this.componentDef,t=e.inputTransforms,r=Ep(e.inputs,!0);if(t!==null)for(let o of r)t.hasOwnProperty(o.propName)&&(o.transform=t[o.propName]);return r}get outputs(){return Ep(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=VC(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,o){let i=G(null);try{o=o||this.ngModule;let s=o instanceof ze?o:o?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Xa(e,s):e,l=a.get(Kn,null);if(l===null)throw new D(407,!1);let c=a.get(LE,null),u=a.get(Fr,null),d={rendererFactory:l,sanitizer:c,changeDetectionScheduler:u},f=l.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?ZC(f,r,this.componentDef.encapsulation,a):tm(f,h,PE(h)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let w=null;p!==null&&(w=Kl(p,a,!0));let x=vm(0,null,null,1,0,null,null,null,null,null,null),R=Pi(null,x,null,m,null,null,d,f,a,null,w);jl(R);let J,Y,oe=null;try{let ne=this.componentDef,Ee,E=null;ne.findHostDirectiveDefs?(Ee=[],E=new Map,ne.findHostDirectiveDefs(ne,Ee,E),Ee.push(ne)):Ee=[ne];let b=BE(R,p);oe=FE(b,p,ne,Ee,R,d,f),Y=c0(x,rn),p&&VE(f,ne,p,r),t!==void 0&&$E(Y,this.ngContentSelectors,t),J=HE(oe,ne,Ee,E,R,[UE]),oc(x,R,null)}catch(ne){throw oe!==null&&sl(oe),sl(R),ne}finally{Hl()}return new ml(this.componentType,J,er(Y,R),R,Y)}finally{G(i)}}},ml=class extends hl{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(e,t,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new ln(o,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,o;if(r!==null&&(o=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView;Em(i[B],i,o,e,t),this.previousInputValues.set(e,t);let s=Qn(this._tNode.index,i);ic(s,1)}}get injector(){return new en(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function BE(n,e){let t=n[B],r=rn;return n[r]=e,nc(t,r,2,"#host",null)}function FE(n,e,t,r,o,i,s){let a=o[B];jE(r,n,e,s);let l=null;e!==null&&(l=Kl(e,o[Wn]));let c=i.rendererFactory.createRenderer(e,t),u=Pi(o,mm(t),null,wm(t),o[n.index],n,i,c,null,null,l);return a.firstCreatePass&&dl(a,n,r.length-1),rc(o,u),o[n.index]=u}function jE(n,e,t,r){for(let o of n)e.mergedAttrs=Vl(e.mergedAttrs,o.hostAttrs);e.mergedAttrs!==null&&(gl(e,e.mergedAttrs,!0),t!==null&&um(r,t,e))}function HE(n,e,t,r,o,i){let s=ot(),a=o[B],l=ht(s,o);ym(a,o,s,t,null,r);for(let u=0;u<t.length;u++){let d=s.directiveStart+u,f=Gn(o,a,d,s);Zn(f,o)}bm(a,o,s),l&&Zn(l,o);let c=Gn(o,a,s.directiveStart+s.componentOffset,s);if(n[ct]=o[ct]=c,i!==null)for(let u of i)u(c,e);return Jg(a,s,o),c}function VE(n,e,t,r){if(r)Qa(n,t,["ng-version","19.1.1"]);else{let{attrs:o,classes:i}=$C(e.selectors[0]);o&&Qa(n,t,o),i&&i.length>0&&cm(n,t,i.join(" "))}}function $E(n,e,t){let r=n.projection=[];for(let o=0;o<e.length;o++){let i=t[o];r.push(i!=null&&i.length?Array.from(i):null)}}function UE(){let n=ot();xg(be()[B],n)}var nr=(()=>{class n{static __NG_ELEMENT_ID__=zE}return n})();function zE(){let n=ot();return Nm(n,be())}var WE=nr,_m=class extends WE{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return er(this._hostTNode,this._hostLView)}get injector(){return new en(this._hostTNode,this._hostLView)}get parentInjector(){let e=$l(this._hostTNode,this._hostLView);if(Dg(e)){let t=mi(e,this._hostLView),r=gi(e),o=t[B].data[r+8];return new en(o,t)}else return new en(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=xp(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Le}createEmbeddedView(e,t,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=Cp(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},i,s);return this.insertImpl(a,o,wp(this._hostTNode,s)),a}createComponent(e,t,r,o,i){let s=e&&!r0(e),a;if(s)a=t;else{let p=t||{};a=p.index,r=p.injector,o=p.projectableNodes,i=p.environmentInjector||p.ngModuleRef}let l=s?e:new Hr(tn(e)),c=r||this.parentInjector;if(!i&&l.ngModule==null){let m=(s?c:this.parentInjector).get(ze,null);m&&(i=m)}let u=tn(l.componentType??{}),d=Cp(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,o,f,i);return this.insertImpl(h.hostView,a,wp(this._hostTNode,d)),h}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let o=e._lView;if(d0(o)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=o[xe],c=new _m(l,l[rt],l[xe]);c.detach(c.indexOf(e))}}let i=this._adjustIndex(t),s=this._lContainer;return vE(s,o,i,r),e.attachToViewContainerRef(),Hp(ja(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=xp(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=cl(this._lContainer,t);r&&(ci(ja(this._lContainer),t),om(r[B],r))}detach(e){let t=this._adjustIndex(e,-1),r=cl(this._lContainer,t);return r&&ci(ja(this._lContainer),t)!=null?new ln(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function xp(n){return n[pi]}function ja(n){return n[pi]||(n[pi]=[])}function Nm(n,e){let t,r=e[n.index];return kt(r)?t=r:(t=fE(r,e,null,n),e[n.index]=t,rc(e,t)),GE(t,e,n,r),new _m(t,n,e)}function qE(n,e){let t=n[tt],r=t.createComment(""),o=ht(e,n),i=sm(t,o);return bi(t,i,r,kC(t,o),!1),r}var GE=ZE;function ZE(n,e,t,r){if(n[on])return;let o;t.type&8?o=Et(r):o=qE(e,t),n[on]=o}var vl=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},yl=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,o=[];for(let i=0;i<r;i++){let s=t.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new n(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)ac(e,t).matches!==null&&this.queries[t].setDirty()}},bl=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=nx(e):this.predicate=e}},wl=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let o=t!==null?t.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,t!==null?t.push(i):t=[i])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Cl=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(e,t,YE(t,i)),this.matchTNodeWithReadOption(e,t,oi(t,e,i,!1,!1))}else r===jr?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,oi(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===cn||o===nr||o===jr&&t.type&4)this.addMatch(t.index,-2);else{let i=oi(t,e,o,!1,!1);i!==null&&this.addMatch(t.index,i)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function YE(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function KE(n,e){return n.type&11?er(n,e):n.type&4?sc(n,e):null}function QE(n,e,t,r){return t===-1?KE(e,n):t===-2?XE(n,e,r):Gn(n,n[B],t,e)}function XE(n,e,t){if(t===cn)return er(e,n);if(t===jr)return sc(e,n);if(t===nr)return Nm(e,n)}function Am(n,e,t,r){let o=e[Ct].queries[r];if(o.matches===null){let i=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=i[c];a.push(QE(e,u,s[l+1],t.metadata.read))}}o.matches=a}return o.matches}function El(n,e,t,r){let o=n.queries.getByIndex(t),i=o.matches;if(i!==null){let s=Am(n,e,o,t);for(let a=0;a<i.length;a+=2){let l=i[a];if(l>0)r.push(s[a/2]);else{let c=i[a+1],u=e[-l];for(let d=Le;d<u.length;d++){let f=u[d];f[nn]===f[xe]&&El(f[B],f,c,r)}if(u[qn]!==null){let d=u[qn];for(let f=0;f<d.length;f++){let h=d[f];El(h[B],h,c,r)}}}}}return r}function JE(n,e){return n[Ct].queries[e].queryList}function ex(n,e,t){let r=new il((t&4)===4);return h0(n,e,r,r.destroy),(e[Ct]??=new yl).queries.push(new vl(r))-1}function tx(n,e,t){let r=Xn();return r.firstCreatePass&&(rx(r,new bl(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),ex(r,be(),e)}function nx(n){return n.split(",").map(e=>e.trim())}function rx(n,e,t){n.queries===null&&(n.queries=new wl),n.queries.track(new Cl(e,t))}function ac(n,e){return n.queries.getByIndex(e)}function ox(n,e){let t=n[B],r=ac(t,e);return r.crossesNgTemplate?El(t,n,e,[]):Am(t,n,r,e)}var Vt=class{},Vr=class{};var xl=class extends Vt{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ei(this);constructor(e,t,r,o=!0){super(),this.ngModuleType=e,this._parent=t;let i=Up(e);this._bootstrapComponents=em(i.bootstrap),this._r3Injector=Lg(e,t,[{provide:Vt,useValue:this},{provide:Yn,useValue:this.componentFactoryResolver},...r],Oe(e),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},kl=class extends Vr{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new xl(this.moduleType,e,[])}};var xi=class extends Vt{injector;componentFactoryResolver=new Ei(this);instance=null;constructor(e){super();let t=new Lr([...e.providers,{provide:Vt,useValue:this},{provide:Yn,useValue:this.componentFactoryResolver}],e.parent||Ol(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function lc(n,e,t=null){return new xi({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var ix=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Gp(!1,t.type),o=r.length>0?lc([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=S({token:n,providedIn:"environment",factory:()=>new n(F(ze))})}return n})();function pt(n){return Ml(()=>{let e=Om(n),t=L(v({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===zg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?o=>o.get(ix).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ft.Emulated,styles:n.styles||Un,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ql("NgStandalone"),Rm(t);let r=n.dependencies;return t.directiveDefs=Dp(r,!1),t.pipeDefs=Dp(r,!0),t.id=lx(t),t})}function sx(n){return tn(n)||zp(n)}function ax(n){return n!==null}function kp(n,e){if(n==null)return Rr;let t={};for(let r in n)if(n.hasOwnProperty(r)){let o=n[r],i,s,a=Ht.None;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i):(i=o,s=o),e?(t[i]=a!==Ht.None?[r,a]:r,e[i]=s):t[i]=r}return t}function cc(n){return Ml(()=>{let e=Om(n);return Rm(e),e})}function Om(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Rr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Un,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kp(n.inputs,e),outputs:kp(n.outputs),debugInfo:null}}function Rm(n){n.features?.forEach(e=>e(n))}function Dp(n,e){if(!n)return null;let t=e?Wp:sx;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(ax)}function lx(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let i of r.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function cx(n){return(n.flags&32)===32}var uc=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Lm=new _("");function Wr(n){return!!n&&typeof n.then=="function"}function Pm(n){return!!n&&typeof n.subscribe=="function"}var Bm=new _("");var Fm=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=y(Bm,{optional:!0})??[];injector=y(dt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let o of this.appInits){let i=nt(this.injector,o);if(Wr(i))t.push(i);else if(Pm(i)){let s=new Promise((a,l)=>{i.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ux=(()=>{class n{static \u0275prov=S({token:n,providedIn:"root",factory:()=>new Dl})}return n})(),Dl=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}},dc=new _("");function dx(){mh(()=>{throw new D(600,!1)})}function fx(n){return n.isBoundToModule}var hx=10;function px(n,e,t){try{let r=t();return Wr(r)?r.catch(o=>{throw e.runOutsideAngular(()=>n.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var $t=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=y(J0);afterRenderManager=y(fC);zonelessEnabled=y(Oi);rootEffectScheduler=y(ux);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new me;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=y(Jn).hasPendingTasks.pipe(U(t=>!t));constructor(){y(Ri,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=y(ze);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){let o=t instanceof Ci;if(!this._injector.get(Fm).done){let f=!o&&qp(t),h=!1;throw new D(405,h)}let s;o?s=t:s=this._injector.get(Yn).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=fx(s)?void 0:this._injector.get(Vt),l=r||s.selector,c=s.create(dt.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(Lm,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),ii(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(Qg.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new D(101,!1);let t=G(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,G(t),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Kn,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let t=0;for(;this.dirtyFlags!==0&&t++<hx;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:o}of this.allViews)gx(r,o,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>_i(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ii(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(dc,[]).forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ii(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new D(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ii(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function gx(n,e,t,r){if(!t&&!_i(n))return;Sm(n,e,t&&!r?0:1)}function Sp(n,e,t,r,o){let i=e.inputs,s=o?"class":"style";Em(n,t,i[s],s,r)}function mx(n,e,t,r,o,i){let s=e.consts,a=tp(s,o),l=nc(e,n,2,r,a);return JC(e,t,l,tp(s,i)),l.attrs!==null&&gl(l,l.attrs,!1),l.mergedAttrs!==null&&gl(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function Bi(n,e,t,r){let o=be(),i=Xn(),s=rn+n,a=o[tt],l=i.firstCreatePass?mx(s,i,o,e,t,r):i.data[s],c=vx(i,o,l,a,e,n);o[s]=c;let u=Jp(l);return Ai(l,!0),um(a,c,l),!cx(l)&&Cg()&&am(i,o,c,l),p0()===0&&Zn(c,o),g0(),u&&(WC(i,o,l),Jg(i,l,o)),r!==null&&qC(o,l),Bi}function Fi(){let n=ot();fg()?C0():(n=n.parent,Ai(n,!1));let e=n;y0(e)&&b0(),m0();let t=Xn();return t.firstCreatePass&&(xg(t,n),Xp(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&A0(e)&&Sp(t,e,be(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&O0(e)&&Sp(t,e,be(),e.stylesWithoutHost,!1),Fi}function dn(n,e,t,r){return Bi(n,e,t,r),Fi(),dn}var vx=(n,e,t,r,o,i)=>(Eg(!0),tm(r,o,T0()));function jm(){return be()}var ki="en-US";var yx=ki;function bx(n){typeof n=="string"&&(yx=n.toLowerCase().replace(/_/g,"-"))}var wx=(n,e,t)=>{};function ji(n,e,t,r){let o=be(),i=Xn(),s=ot();return Ex(i,o,o[tt],s,n,e,r),ji}function Cx(n,e,t,r){let o=n.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===t&&o[i+1]===r){let a=e[fi],l=o[i+2];return a.length>l?a[l]:null}typeof s=="string"&&(i+=2)}return null}function Ex(n,e,t,r,o,i,s){let a=Jp(r),c=n.firstCreatePass&&ag(n),u=e[ct],d=sg(e),f=!0;if(r.type&3||s){let m=ht(r,e),w=s?s(m):m,x=d.length,R=s?Y=>s(Et(Y[r.index])):r.index,J=null;if(!s&&a&&(J=Cx(n,e,o,r.index)),J!==null){let Y=J.__ngLastListenerFn__||J;Y.__ngNextListenerFn__=i,J.__ngLastListenerFn__=i,f=!1}else{i=Tp(r,e,u,i),wx(m,o,i);let Y=t.listen(w,o,i);d.push(i,Y),c&&c.push(o,R,x,x+1)}}else i=Tp(r,e,u,i);let h=r.outputs,p;if(f&&h!==null&&(p=h[o])){let m=p.length;if(m)for(let w=0;w<m;w+=2){let x=p[w],R=p[w+1],oe=e[x][R].subscribe(i),ne=d.length;d.push(i,oe),c&&c.push(o,r.index,ne,-(ne+1))}}}function Ip(n,e,t,r){let o=G(null);try{return Ue(6,e,t),t(r)!==!1}catch(i){return Cm(n,i),!1}finally{Ue(7,e,t),G(o)}}function Tp(n,e,t,r){return function o(i){if(i===Function)return r;let s=n.componentOffset>-1?Qn(n.index,e):e;ic(s,5);let a=Ip(e,t,r,i),l=o.__ngNextListenerFn__;for(;l;)a=Ip(e,t,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function Hm(n,e,t){tx(n,e,t)}function fc(n){let e=be(),t=Xn(),r=pg();Fl(r+1);let o=ac(t,r);if(n.dirty&&u0(e)===((o.metadata.flags&2)===2)){if(o.matches===null)n.reset([]);else{let i=ox(e,r);n.reset(i,nC),n.notifyOnChanges()}return!0}return!1}function hc(){return JE(be(),pg())}function Ut(n,e=""){let t=be(),r=Xn(),o=n+rn,i=r.firstCreatePass?nc(r,o,1,e,null):r.data[o],s=xx(r,t,i,e,n);t[o]=s,Cg()&&am(r,t,s,i),Ai(i,!1)}var xx=(n,e,t,r,o)=>(Eg(!0),gC(e[tt],r));var Sl=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},pc=(()=>{class n{compileModuleSync(t){return new kl(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),o=Up(t),i=em(o.declarations).reduce((s,a)=>{let l=tn(a);return l&&s.push(new Hr(l)),s},[]);return new Sl(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var kx=(()=>{class n{zone=y(pe);changeDetectionScheduler=y(Fr);applicationRef=y($t);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dx=new _("",{factory:()=>!1});function Vm({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new pe(L(v({},Um()),{scheduleInRootZone:t})),[{provide:pe,useFactory:n},{provide:zn,multi:!0,useFactory:()=>{let r=y(kx,{optional:!0});return()=>r.initialize()}},{provide:zn,multi:!0,useFactory:()=>{let r=y(Sx);return()=>{r.initialize()}}},e===!0?{provide:Fg,useValue:!0}:[],{provide:jg,useValue:t??Pg}]}function $m(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Vm({ngZoneFactory:()=>{let o=Um(n);return o.scheduleInRootZone=t,o.shouldCoalesceEventChangeDetection&&ql("NgZone_CoalesceEvent"),new pe(o)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Ii([{provide:Dx,useValue:!0},{provide:Oi,useValue:!1},r])}function Um(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Sx=(()=>{class n{subscription=new ce;initialized=!1;zone=y(pe);pendingTasks=y(Jn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ix=(()=>{class n{appRef=y($t);taskService=y(Jn);ngZone=y(pe);zonelessEnabled=y(Oi);tracing=y(Ri,{optional:!0});disableScheduling=y(Fg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ce;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(yi):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(jg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ol||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?cp:Hg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yi+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,cp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Tx(){return typeof $localize<"u"&&$localize.locale||ki}var gc=new _("",{providedIn:"root",factory:()=>y(gc,P.Optional|P.SkipSelf)||Tx()});var Il=new _(""),Mx=new _("");function Mr(n){return!n.moduleRef}function _x(n){let e=Mr(n)?n.r3Injector:n.moduleRef.injector,t=e.get(pe);return t.run(()=>{Mr(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(jt,null),o;if(t.runOutsideAngular(()=>{o=t.onError.subscribe({next:i=>{r.handleError(i)}})}),Mr(n)){let i=()=>e.destroy(),s=n.platformInjector.get(Il);s.add(i),e.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Il);s.add(i),n.moduleRef.onDestroy(()=>{ii(n.allPlatformModules,n.moduleRef),o.unsubscribe(),s.delete(i)})}return px(r,t,()=>{let i=e.get(Fm);return i.runInitializers(),i.donePromise.then(()=>{let s=e.get(gc,ki);if(bx(s||ki),!e.get(Mx,!0))return Mr(n)?e.get($t):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Mr(n)){let l=e.get($t);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return Nx(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function Nx(n,e){let t=n.injector.get($t);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new D(-403,!1);e.push(n)}var si=null;function Ax(n=[],e){return dt.create({name:e,providers:[{provide:Ti,useValue:"platform"},{provide:Il,useValue:new Set([()=>si=null])},...n]})}function Ox(n=[]){if(si)return si;let e=Ax(n);return si=e,dx(),Rx(e),e}function Rx(n){let e=n.get(Zl,null);nt(n,()=>{e?.forEach(t=>t())})}var qr=(()=>{class n{static __NG_ELEMENT_ID__=Lx}return n})();function Lx(n){return Px(ot(),be(),(n&16)===16)}function Px(n,e,t){if(Rl(n)&&!t){let r=Qn(n.index,e);return new ln(r,r)}else if(n.type&175){let r=e[ut];return new ln(r,e)}return null}function zm(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,o=Ox(r),i=[Vm({}),{provide:Fr,useExisting:Ix},...t||[]],s=new xi({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1});return _x({r3Injector:s.injector,platformInjector:o,rootComponent:e})}catch(e){return Promise.reject(e)}}var Mp=class{[Dn];constructor(e){this[Dn]=e}destroy(){this[Dn].destroy()}};var Qm=null;function rr(){return Qm}function Xm(n){Qm??=n}var Hi=class{};var We=new _(""),mc=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=S({token:n,factory:()=>y(Vx),providedIn:"platform"})}return n})();var Vx=(()=>{class n extends mc{_location;_history;_doc=y(We);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rr().getBaseHref(this._doc)}onPopState(t){let r=rr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=rr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=S({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function vc(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function Wm(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Dt(n){return n&&n[0]!=="?"?"?"+n:n}var or=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=S({token:n,factory:()=>y(ev),providedIn:"root"})}return n})(),Jm=new _(""),ev=(()=>{class n extends or{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(We).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return vc(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Dt(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+Dt(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+Dt(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(F(mc),F(Jm,8))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tv=(()=>{class n extends or{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=vc(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+Dt(i));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+Dt(i));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(F(mc),F(Jm,8))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),Gr=(()=>{class n{_subject=new me;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=zx(Wm(qm(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Dt(r))}normalize(t){return n.stripTrailingSlash(Ux(this._basePath,qm(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Dt(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Dt(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Dt;static joinWithSlash=vc;static stripTrailingSlash=Wm;static \u0275fac=function(r){return new(r||n)(F(or))};static \u0275prov=S({token:n,factory:()=>$x(),providedIn:"root"})}return n})();function $x(){return new Gr(F(or))}function Ux(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function qm(n){return n.replace(/\/index.html$/,"")}function zx(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function nv(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[o,i]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var rv="browser",Wx="server";function yc(n){return n===Wx}var Vi=class{};var wc=class extends Hi{supportsDOMEvents=!0},Cc=class n extends wc{static makeCurrent(){Xm(new n)}onAndCancel(e,t,r,o){return e.addEventListener(t,r,o),()=>{e.removeEventListener(t,r,o)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Gx();return t==null?null:Zx(t)}resetBaseElement(){Zr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return nv(document.cookie,e)}},Zr=null;function Gx(){return Zr=Zr||document.querySelector("base"),Zr?Zr.getAttribute("href"):null}function Zx(n){return new URL(n,document.baseURI).pathname}var Yx=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),Ec=new _(""),cv=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o,i){return this._findPluginFor(r).addEventListener(t,r,o,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(i=>i.supports(t)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(F(Ec),F(pe))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),Ui=class{_doc;constructor(e){this._doc=e}manager},$i="ng-app-id";function ov(n){for(let e of n)e.remove()}function iv(n,e){let t=e.createElement("style");return t.textContent=n,t}function Kx(n,e,t,r){let o=n.head?.querySelectorAll(`style[${$i}="${e}"],link[${$i}="${e}"]`);if(o)for(let i of o)i.removeAttribute($i),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&t.set(i.textContent,{usage:0,elements:[i]})}function xc(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var uv=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,o,i={}){this.doc=t,this.appId=r,this.nonce=o,this.isServer=yc(i),Kx(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let o of t)this.addUsage(o,this.inline,iv);r?.forEach(o=>this.addUsage(o,this.external,xc))}removeStyles(t,r){for(let o of t)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(t,r,o){let i=r.get(t);i?i.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(t,this.doc)))})}removeUsage(t,r){let o=r.get(t);o&&(o.usage--,o.usage<=0&&(ov(o.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])ov(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(t,iv(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(t,xc(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute($i,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(F(We),F(Gl),F(Yl,8),F(tr))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),bc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Dc=/%COMP%/g,dv="%COMP%",Qx=`_nghost-${dv}`,Xx=`_ngcontent-${dv}`,Jx=!0,ek=new _("",{providedIn:"root",factory:()=>Jx});function tk(n){return Xx.replace(Dc,n)}function nk(n){return Qx.replace(Dc,n)}function fv(n,e){return e.map(t=>t.replace(Dc,n))}var sv=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,o,i,s,a,l,c=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=yc(a),this.defaultRenderer=new Yr(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ft.ShadowDom&&(r=L(v({},r),{encapsulation:ft.Emulated}));let o=this.getOrCreateRenderer(t,r);return o instanceof zi?o.applyToHost(t):o instanceof Kr&&o.applyStyles(),o}getOrCreateRenderer(t,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case ft.Emulated:i=new zi(l,c,r,this.appId,u,s,a,d,this.tracingService);break;case ft.ShadowDom:return new kc(l,c,t,r,s,a,this.nonce,d,this.tracingService);default:i=new Kr(l,c,r,u,s,a,d,this.tracingService);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(F(cv),F(uv),F(Gl),F(ek),F(We),F(tr),F(pe),F(Yl),F(Ri,8))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),Yr=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,o,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(bc[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(av(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(av(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new D(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;let i=bc[o];i?e.setAttributeNS(i,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let o=bc[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(un.DashCase|un.Important)?e.style.setProperty(t,r,o&un.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&un.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,o){if(typeof e=="string"&&(e=rr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);let i=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,t,i)),this.eventManager.addEventListener(e,t,i,o)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function av(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var kc=class extends Yr{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,o,i,s,a,l,c){super(e,i,s,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=fv(o.id,o.styles);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=o.getExternalStyles?.();if(d)for(let f of d){let h=xc(f,i);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Kr=class extends Yr{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,o,i,s,a,l,c){super(e,i,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o,this.styles=c?fv(c,r.styles):r.styles,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},zi=class extends Kr{contentAttr;hostAttr;constructor(e,t,r,o,i,s,a,l,c){let u=o+"-"+r.id;super(e,t,r,i,s,a,l,c,u),this.contentAttr=tk(u),this.hostAttr=nk(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},rk=(()=>{class n extends Ui{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o,i){return t.addEventListener(r,o,i),()=>this.removeEventListener(t,r,o,i)}removeEventListener(t,r,o,i){return t.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||n)(F(We))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})(),lv=["alt","control","meta","shift"],ok={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ik={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},sk=(()=>{class n extends Ui{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,o,i){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rr().onAndCancel(t,s.domEventName,a,i))}static parseEventName(t){let r=t.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),lv.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=i,r.length!=0||i.length===0)return null;let l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let o=ok[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),lv.forEach(s=>{if(s!==o){let a=ik[s];a(t)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{n.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(F(We))};static \u0275prov=S({token:n,factory:n.\u0275fac})}return n})();function hv(n,e){return zm(v({rootComponent:n},ak(e)))}function ak(n){return{appProviders:[...fk,...n?.providers??[]],platformProviders:dk}}function lk(){Cc.makeCurrent()}function ck(){return new jt}function uk(){return Yg(document),document}var dk=[{provide:tr,useValue:rv},{provide:Zl,useValue:lk,multi:!0},{provide:We,useFactory:uk,deps:[]}];var fk=[{provide:Ti,useValue:"root"},{provide:jt,useFactory:ck,deps:[]},{provide:Ec,useClass:rk,multi:!0,deps:[We,pe,tr]},{provide:Ec,useClass:sk,multi:!0,deps:[We]},sv,uv,cv,{provide:Kn,useExisting:sv},{provide:Vi,useClass:Yx,deps:[]},[]];var pv=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(F(We))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var O="primary",ho=Symbol("RouteTitle"),_c=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ur(n){return new _c(n)}function pk(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=n[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function gk(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!gt(n[t],e[t]))return!1;return!0}function gt(n,e){let t=n?Nc(n):void 0,r=e?Nc(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!Ev(n[o],e[o]))return!1;return!0}function Nc(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Ev(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((o,i)=>r[i]===o)}else return n===e}function xv(n){return n.length>0?n[n.length-1]:null}function zt(n){return Ia(n)?n:Wr(n)?de(Promise.resolve(n)):A(n)}var mk={exact:Dv,subset:Sv},kv={exact:vk,subset:yk,ignored:()=>!0};function gv(n,e,t){return mk[t.paths](n.root,e.root,t.matrixParams)&&kv[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function vk(n,e){return gt(n,e)}function Dv(n,e,t){if(!pn(n.segments,e.segments)||!Gi(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Dv(n.children[r],e.children[r],t))return!1;return!0}function yk(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ev(n[t],e[t]))}function Sv(n,e,t){return Iv(n,e,e.segments,t)}function Iv(n,e,t,r){if(n.segments.length>t.length){let o=n.segments.slice(0,t.length);return!(!pn(o,t)||e.hasChildren()||!Gi(o,t,r))}else if(n.segments.length===t.length){if(!pn(n.segments,t)||!Gi(n.segments,t,r))return!1;for(let o in e.children)if(!n.children[o]||!Sv(n.children[o],e.children[o],r))return!1;return!0}else{let o=t.slice(0,n.segments.length),i=t.slice(n.segments.length);return!pn(n.segments,o)||!Gi(n.segments,o,r)||!n.children[O]?!1:Iv(n.children[O],e,i,r)}}function Gi(n,e,t){return e.every((r,o)=>kv[t](n[o].parameters,r.parameters))}var It=class{root;queryParams;fragment;_queryParamMap;constructor(e=new K([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ur(this.queryParams),this._queryParamMap}toString(){return Ck.serialize(this)}},K=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zi(this)}},hn=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ur(this.parameters),this._parameterMap}toString(){return Mv(this)}};function bk(n,e){return pn(n,e)&&n.every((t,r)=>gt(t.parameters,e[r].parameters))}function pn(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function wk(n,e){let t=[];return Object.entries(n.children).forEach(([r,o])=>{r===O&&(t=t.concat(e(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==O&&(t=t.concat(e(o,r)))}),t}var ru=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=S({token:n,factory:()=>new no,providedIn:"root"})}return n})(),no=class{parse(e){let t=new Oc(e);return new It(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Qr(e.root,!0)}`,r=kk(e.queryParams),o=typeof e.fragment=="string"?`#${Ek(e.fragment)}`:"";return`${t}${r}${o}`}},Ck=new no;function Zi(n){return n.segments.map(e=>Mv(e)).join("/")}function Qr(n,e){if(!n.hasChildren())return Zi(n);if(e){let t=n.children[O]?Qr(n.children[O],!1):"",r=[];return Object.entries(n.children).forEach(([o,i])=>{o!==O&&r.push(`${o}:${Qr(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=wk(n,(r,o)=>o===O?[Qr(n.children[O],!1)]:[`${o}:${Qr(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[O]!=null?`${Zi(n)}/${t[0]}`:`${Zi(n)}/(${t.join("//")})`}}function Tv(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wi(n){return Tv(n).replace(/%3B/gi,";")}function Ek(n){return encodeURI(n)}function Ac(n){return Tv(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yi(n){return decodeURIComponent(n)}function mv(n){return Yi(n.replace(/\+/g,"%20"))}function Mv(n){return`${Ac(n.path)}${xk(n.parameters)}`}function xk(n){return Object.entries(n).map(([e,t])=>`;${Ac(e)}=${Ac(t)}`).join("")}function kk(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(o=>`${Wi(t)}=${Wi(o)}`).join("&"):`${Wi(t)}=${Wi(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Dk=/^[^\/()?;#]+/;function Sc(n){let e=n.match(Dk);return e?e[0]:""}var Sk=/^[^\/()?;=#]+/;function Ik(n){let e=n.match(Sk);return e?e[0]:""}var Tk=/^[^=?&#]+/;function Mk(n){let e=n.match(Tk);return e?e[0]:""}var _k=/^[^&#]+/;function Nk(n){let e=n.match(_k);return e?e[0]:""}var Oc=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new K([],{}):new K([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[O]=new K(e,t)),r}parseSegment(){let e=Sc(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(e),new hn(Yi(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Ik(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=Sc(this.remaining);o&&(r=o,this.capture(r))}e[Yi(t)]=Yi(r)}parseQueryParam(e){let t=Mk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Nk(this.remaining);s&&(r=s,this.capture(r))}let o=mv(t),i=mv(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Sc(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new D(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=O);let s=this.parseChildren();t[i]=Object.keys(s).length===1?s[O]:new K([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new D(4011,!1)}};function _v(n){return n.segments.length>0?new K([],{[O]:n}):n}function Nv(n){let e={};for(let[r,o]of Object.entries(n.children)){let i=Nv(o);if(r===O&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))e[s]=a;else(i.segments.length>0||i.hasChildren())&&(e[r]=i)}let t=new K(n.segments,e);return Ak(t)}function Ak(n){if(n.numberOfChildren===1&&n.children[O]){let e=n.children[O];return new K(n.segments.concat(e.segments),e.children)}return n}function ro(n){return n instanceof It}function Ok(n,e,t=null,r=null){let o=Av(n);return Ov(o,e,t,r)}function Av(n){let e;function t(i){let s={};for(let l of i.children){let c=t(l);s[l.outlet]=c}let a=new K(i.url,s);return i===n&&(e=a),a}let r=t(n.root),o=_v(r);return e??o}function Ov(n,e,t,r){let o=n;for(;o.parent;)o=o.parent;if(e.length===0)return Ic(o,o,o,t,r);let i=Rk(e);if(i.toRoot())return Ic(o,o,new K([],{}),t,r);let s=Lk(i,o,n),a=s.processChildren?Jr(s.segmentGroup,s.index,i.commands):Lv(s.segmentGroup,s.index,i.commands);return Ic(o,s.segmentGroup,a,t,r)}function Ki(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function oo(n){return typeof n=="object"&&n!=null&&n.outlets}function Ic(n,e,t,r,o){let i={};r&&Object.entries(r).forEach(([l,c])=>{i[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;n===e?s=t:s=Rv(n,e,t);let a=_v(Nv(s));return new It(a,i,o)}function Rv(n,e,t){let r={};return Object.entries(n.children).forEach(([o,i])=>{i===e?r[o]=t:r[o]=Rv(i,e,t)}),new K(n.segments,r)}var Qi=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ki(r[0]))throw new D(4003,!1);let o=r.find(oo);if(o&&o!==xv(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Rk(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Qi(!0,0,n);let e=0,t=!1,r=n.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Qi(t,e,r)}var ar=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Lk(n,e,t){if(n.isAbsolute)return new ar(e,!0,0);if(!t)return new ar(e,!1,NaN);if(t.parent===null)return new ar(t,!0,0);let r=Ki(n.commands[0])?0:1,o=t.segments.length-1+r;return Pk(t,o,n.numberOfDoubleDots)}function Pk(n,e,t){let r=n,o=e,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new D(4005,!1);o=r.segments.length}return new ar(r,!1,o-i)}function Bk(n){return oo(n[0])?n[0].outlets:{[O]:n}}function Lv(n,e,t){if(n??=new K([],{}),n.segments.length===0&&n.hasChildren())return Jr(n,e,t);let r=Fk(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let i=new K(n.segments.slice(0,r.pathIndex),{});return i.children[O]=new K(n.segments.slice(r.pathIndex),n.children),Jr(i,0,o)}else return r.match&&o.length===0?new K(n.segments,{}):r.match&&!n.hasChildren()?Rc(n,e,t):r.match?Jr(n,0,o):Rc(n,e,t)}function Jr(n,e,t){if(t.length===0)return new K(n.segments,{});{let r=Bk(t),o={};if(Object.keys(r).some(i=>i!==O)&&n.children[O]&&n.numberOfChildren===1&&n.children[O].segments.length===0){let i=Jr(n.children[O],e,t);return new K(n.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=Lv(n.children[i],e,s))}),Object.entries(n.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new K(n.segments,o)}}function Fk(n,e,t){let r=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return i;let s=n.segments[o],a=t[r];if(oo(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(o>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!yv(l,c,s))return i;r+=2}else{if(!yv(l,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function Rc(n,e,t){let r=n.segments.slice(0,e),o=0;for(;o<t.length;){let i=t[o];if(oo(i)){let l=jk(i.outlets);return new K(r,l)}if(o===0&&Ki(t[0])){let l=n.segments[e];r.push(new hn(l.path,vv(t[0]))),o++;continue}let s=oo(i)?i.outlets[O]:`${i}`,a=o<t.length-1?t[o+1]:null;s&&a&&Ki(a)?(r.push(new hn(s,vv(a))),o+=2):(r.push(new hn(s,{})),o++)}return new K(r,{})}function jk(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Rc(new K([],{}),0,r))}),e}function vv(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function yv(n,e,t){return n==t.path&&gt(e,t.parameters)}var eo="imperative",we=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(we||{}),qe=class{id;url;constructor(e,t){this.id=e,this.url=t}},io=class extends qe{type=we.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},gn=class extends qe{urlAfterRedirects;type=we.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Be=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Be||{}),Lc=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Lc||{}),St=class extends qe{reason;code;type=we.NavigationCancel;constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},mn=class extends qe{reason;code;type=we.NavigationSkipped;constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o}},so=class extends qe{error;target;type=we.NavigationError;constructor(e,t,r,o){super(e,t),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Xi=class extends qe{urlAfterRedirects;state;type=we.RoutesRecognized;constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pc=class extends qe{urlAfterRedirects;state;type=we.GuardsCheckStart;constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bc=class extends qe{urlAfterRedirects;state;shouldActivate;type=we.GuardsCheckEnd;constructor(e,t,r,o,i){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Fc=class extends qe{urlAfterRedirects;state;type=we.ResolveStart;constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jc=class extends qe{urlAfterRedirects;state;type=we.ResolveEnd;constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hc=class{route;type=we.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Vc=class{route;type=we.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},$c=class{snapshot;type=we.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uc=class{snapshot;type=we.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zc=class{snapshot;type=we.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wc=class{snapshot;type=we.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ao=class{},dr=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Hk(n,e){return n.providers&&!n._injector&&(n._injector=lc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function it(n){return n.outlet||O}function Vk(n,e){let t=n.filter(r=>it(r)===e);return t.push(...n.filter(r=>it(r)!==e)),t}function po(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var qc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return po(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new is(this.rootInjector)}},is=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new qc(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(F(ze))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ji=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Gc(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Gc(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Zc(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Zc(e,this._root).map(t=>t.value)}};function Gc(n,e){if(n===e.value)return e;for(let t of e.children){let r=Gc(n,t);if(r)return r}return null}function Zc(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Zc(n,t);if(r.length)return r.unshift(e),r}return[]}var Pe=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function sr(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var es=class extends Ji{snapshot;constructor(e,t){super(e),this.snapshot=t,ou(this,e)}toString(){return this.snapshot.toString()}};function Pv(n){let e=$k(n),t=new ve([new hn("",{})]),r=new ve({}),o=new ve({}),i=new ve({}),s=new ve(""),a=new fr(t,r,i,s,o,O,n,e.root);return a.snapshot=e.root,new es(new Pe(a,[]),e)}function $k(n){let e={},t={},r={},o="",i=new lr([],e,r,o,t,O,n,null,{});return new ns("",new Pe(i,[]))}var fr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,o,i,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(U(c=>c[ho]))??A(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(U(e=>ur(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(U(e=>ur(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ts(n,e,t="emptyOnly"){let r,{routeConfig:o}=n;return e!==null&&(t==="always"||o?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:v(v({},e.params),n.params),data:v(v({},e.data),n.data),resolve:v(v(v(v({},n.data),e.data),o?.data),n._resolvedData)}:r={params:v({},n.params),data:v({},n.data),resolve:v(v({},n.data),n._resolvedData??{})},o&&Fv(o)&&(r.resolve[ho]=o.title),r}var lr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ho]}constructor(e,t,r,o,i,s,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ur(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ur(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ns=class extends Ji{url;constructor(e,t){super(t),this.url=e,ou(this,t)}toString(){return Bv(this._root)}};function ou(n,e){e.value._routerState=n,e.children.forEach(t=>ou(n,t))}function Bv(n){let e=n.children.length>0?` { ${n.children.map(Bv).join(", ")} } `:"";return`${n.value}${e}`}function Tc(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,gt(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),gt(e.params,t.params)||n.paramsSubject.next(t.params),gk(e.url,t.url)||n.urlSubject.next(t.url),gt(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Yc(n,e){let t=gt(n.params,e.params)&&bk(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Yc(n.parent,e.parent))}function Fv(n){return typeof n.title=="string"||n.title===null}var Uk=new _(""),iu=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=O;activateEvents=new Ae;deactivateEvents=new Ae;attachEvents=new Ae;detachEvents=new Ae;routerOutletData=$g(void 0);parentContexts=y(is);location=y(nr);changeDetector=y(qr);inputBinder=y(su,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=t;let o=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Kc(t,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=cc({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ll]})}return n})(),Kc=class n{route;childContexts;parent;outletData;__ngOutletInjector(e){return new n(this.route,this.childContexts,e,this.outletData)}constructor(e,t,r,o){this.route=e,this.childContexts=t,this.parent=r,this.outletData=o}get(e,t){return e===fr?this.route:e===is?this.childContexts:e===Uk?this.outletData:this.parent.get(e,t)}},su=new _("");function zk(n,e,t){let r=lo(n,e._root,t?t._root:void 0);return new es(r,e)}function lo(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let o=Wk(n,e,t);return new Pe(r,o)}else{if(n.shouldAttach(e.value)){let i=n.retrieve(e.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>lo(n,a)),s}}let r=qk(e.value),o=e.children.map(i=>lo(n,i));return new Pe(r,o)}}function Wk(n,e,t){return e.children.map(r=>{for(let o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return lo(n,r,o);return lo(n,r)})}function qk(n){return new fr(new ve(n.url),new ve(n.params),new ve(n.queryParams),new ve(n.fragment),new ve(n.data),n.outlet,n.component,n)}var co=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},jv="ngNavigationCancelingError";function rs(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ro(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=Hv(!1,Be.Redirect);return o.url=t,o.navigationBehaviorOptions=r,o}function Hv(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[jv]=!0,t.cancellationCode=e,t}function Gk(n){return Vv(n)&&ro(n.url)}function Vv(n){return!!n&&n[jv]}var Zk=(n,e,t,r)=>U(o=>(new Qc(e,o.targetRouterState,o.currentRouterState,t,r).activate(n),o)),Qc=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,o,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Tc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let o=sr(t);e.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,t,r){let o=e.value,i=t?t.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=sr(e);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=sr(e);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let o=sr(t);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Wc(i.value.snapshot))}),e.children.length&&this.forwardEvent(new Uc(e.value.snapshot))}activateRoutes(e,t,r){let o=e.value,i=t?t.value:null;if(Tc(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Tc(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},os=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},cr=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Yk(n,e,t){let r=n._root,o=e?e._root:null;return Xr(r,o,t,[r.value])}function Kk(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function pr(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Rp(n)?n:e.get(n):r}function Xr(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=sr(e);return n.children.forEach(s=>{Qk(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>to(a,t.getContext(s),o)),o}function Qk(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let l=Xk(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new os(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?Xr(n,e,a?a.children:null,r,o):Xr(n,e,t,r,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new cr(a.outlet.component,s))}else s&&to(e,a,o),o.canActivateChecks.push(new os(r)),i.component?Xr(n,null,a?a.children:null,r,o):Xr(n,null,t,r,o);return o}function Xk(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!pn(n.url,e.url);case"pathParamsOrQueryParamsChange":return!pn(n.url,e.url)||!gt(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yc(n,e)||!gt(n.queryParams,e.queryParams);case"paramsChange":default:return!Yc(n,e)}}function to(n,e,t){let r=sr(n),o=n.value;Object.entries(r).forEach(([i,s])=>{o.component?e?to(s,e.children.getContext(i),t):to(s,null,t):to(s,e,t)}),o.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new cr(e.outlet.component,o)):t.canDeactivateChecks.push(new cr(null,o)):t.canDeactivateChecks.push(new cr(null,o))}function go(n){return typeof n=="function"}function Jk(n){return typeof n=="boolean"}function eD(n){return n&&go(n.canLoad)}function tD(n){return n&&go(n.canActivate)}function nD(n){return n&&go(n.canActivateChild)}function rD(n){return n&&go(n.canDeactivate)}function oD(n){return n&&go(n.canMatch)}function $v(n){return n instanceof yt||n?.name==="EmptyError"}var qi=Symbol("INITIAL_VALUE");function hr(){return Xe(n=>Xo(n.map(e=>e.pipe(bt(1),Na(qi)))).pipe(U(e=>{for(let t of e)if(t!==!0){if(t===qi)return qi;if(t===!1||iD(t))return t}return!0}),Qe(e=>e!==qi),bt(1)))}function iD(n){return ro(n)||n instanceof co}function sD(n,e){return fe(t=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return s.length===0&&i.length===0?A(L(v({},t),{guardsResult:!0})):aD(s,r,o,n).pipe(fe(a=>a&&Jk(a)?lD(r,i,n,e):A(a)),U(a=>L(v({},t),{guardsResult:a})))})}function aD(n,e,t,r){return de(n).pipe(fe(o=>hD(o.component,o.route,t,e,r)),wt(o=>o!==!0,!0))}function lD(n,e,t,r){return de(e).pipe(Ln(o=>Rn(uD(o.route.parent,r),cD(o.route,r),fD(n,o.path,t),dD(n,o.route,t))),wt(o=>o!==!0,!0))}function cD(n,e){return n!==null&&e&&e(new zc(n)),A(!0)}function uD(n,e){return n!==null&&e&&e(new $c(n)),A(!0)}function dD(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return A(!0);let o=r.map(i=>Jo(()=>{let s=po(e)??t,a=pr(i,s),l=tD(a)?a.canActivate(e,n):nt(s,()=>a(e,n));return zt(l).pipe(wt())}));return A(o).pipe(hr())}function fD(n,e,t){let r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>Kk(s)).filter(s=>s!==null).map(s=>Jo(()=>{let a=s.guards.map(l=>{let c=po(s.node)??t,u=pr(l,c),d=nD(u)?u.canActivateChild(r,n):nt(c,()=>u(r,n));return zt(d).pipe(wt())});return A(a).pipe(hr())}));return A(i).pipe(hr())}function hD(n,e,t,r,o){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return A(!0);let s=i.map(a=>{let l=po(e)??o,c=pr(a,l),u=rD(c)?c.canDeactivate(n,e,t,r):nt(l,()=>c(n,e,t,r));return zt(u).pipe(wt())});return A(s).pipe(hr())}function pD(n,e,t,r){let o=e.canLoad;if(o===void 0||o.length===0)return A(!0);let i=o.map(s=>{let a=pr(s,n),l=eD(a)?a.canLoad(e,t):nt(n,()=>a(e,t));return zt(l)});return A(i).pipe(hr(),Uv(r))}function Uv(n){return xa(ye(e=>{if(typeof e!="boolean")throw rs(n,e)}),U(e=>e===!0))}function gD(n,e,t,r){let o=e.canMatch;if(!o||o.length===0)return A(!0);let i=o.map(s=>{let a=pr(s,n),l=oD(a)?a.canMatch(e,t):nt(n,()=>a(e,t));return zt(l)});return A(i).pipe(hr(),Uv(r))}var uo=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},fo=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ir(n){return On(new uo(n))}function mD(n){return On(new D(4e3,!1))}function vD(n){return On(Hv(!1,Be.GuardRejected))}var Xc=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return A(r);if(o.numberOfChildren>1||!o.children[O])return mD(`${e.redirectTo}`);o=o.children[O]}}applyRedirectCommands(e,t,r,o,i){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,params:h,data:p,title:m}=o,w=nt(i,()=>a({params:h,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,title:m}));if(w instanceof It)throw new fo(w);t=w}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new fo(s);return s}applyRedirectCreateUrlTree(e,t,r,o){let i=this.createSegmentGroup(e,t.root,r,o);return new It(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,o){let i=this.createSegments(e,t.segments,r,o),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,o)}),new K(i,s)}createSegments(e,t,r,o){return t.map(i=>i.path[0]===":"?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,t,r){let o=r[t.path.substring(1)];if(!o)throw new D(4001,!1);return o}findOrReturn(e,t){let r=0;for(let o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}},Jc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yD(n,e,t,r,o){let i=zv(n,e,t);return i.matched?(r=Hk(e,r),gD(r,e,t,o).pipe(U(s=>s===!0?i:v({},Jc)))):A(i)}function zv(n,e,t){if(e.path==="**")return bD(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?v({},Jc):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let o=(e.matcher||pk)(t,n,e);if(!o)return v({},Jc);let i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});let s=o.consumed.length>0?v(v({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function bD(n){return{matched:!0,parameters:n.length>0?xv(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function bv(n,e,t,r){return t.length>0&&ED(n,t,r)?{segmentGroup:new K(e,CD(r,new K(t,n.children))),slicedSegments:[]}:t.length===0&&xD(n,t,r)?{segmentGroup:new K(n.segments,wD(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new K(n.segments,n.children),slicedSegments:t}}function wD(n,e,t,r){let o={};for(let i of t)if(ss(n,e,i)&&!r[it(i)]){let s=new K([],{});o[it(i)]=s}return v(v({},r),o)}function CD(n,e){let t={};t[O]=e;for(let r of n)if(r.path===""&&it(r)!==O){let o=new K([],{});t[it(r)]=o}return t}function ED(n,e,t){return t.some(r=>ss(n,e,r)&&it(r)!==O)}function xD(n,e,t){return t.some(r=>ss(n,e,r))}function ss(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function kD(n,e,t){return e.length===0&&!n.children[t]}var eu=class{};function DD(n,e,t,r,o,i,s="emptyOnly"){return new tu(n,e,t,r,o,s,i).recognize()}var SD=31,tu=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,o,i,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Xc(this.urlSerializer,this.urlTree)}noMatchError(e){return new D(4002,`'${e.segmentGroup}'`)}recognize(){let e=bv(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(U(({children:t,rootSnapshot:r})=>{let o=new Pe(r,t),i=new ns("",o),s=Ok(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(e){let t=new lr([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),O,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,O,t).pipe(U(r=>({children:r,rootSnapshot:t})),Rt(r=>{if(r instanceof fo)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof uo?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,i):this.processSegment(e,t,r,r.segments,o,!0,i).pipe(U(s=>s instanceof Pe?[s]:[]))}processChildren(e,t,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return de(i).pipe(Ln(s=>{let a=r.children[s],l=Vk(t,s);return this.processSegmentGroup(e,l,a,s,o)}),_a((s,a)=>(s.push(...a),s)),Lt(null),Ma(),fe(s=>{if(s===null)return ir(r);let a=Wv(s);return ID(a),A(a)}))}processSegment(e,t,r,o,i,s,a){return de(t).pipe(Ln(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,o,i,s,a).pipe(Rt(c=>{if(c instanceof uo)return A(null);throw c}))),wt(l=>!!l),Rt(l=>{if($v(l))return kD(r,o,i)?A(new eu):ir(r);throw l}))}processSegmentAgainstRoute(e,t,r,o,i,s,a,l){return it(r)!==s&&(s===O||!ss(o,i,r))?ir(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,o,r,i,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,o,t,r,i,s,l):ir(o)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=zv(t,o,i);if(!l)return ir(t);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>SD&&(this.allowRedirects=!1));let h=new lr(i,c,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,wv(o),it(o),o.component??o._loadedComponent??null,o,Cv(o)),p=ts(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let m=this.applyRedirects.applyRedirectCommands(u,o.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(o,m).pipe(fe(w=>this.processSegment(e,r,t,w.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,o,i,s){let a=yD(t,r,o,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Xe(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,o).pipe(Xe(({routes:c})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=l,p=new lr(f,d,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,wv(r),it(r),r.component??r._loadedComponent??null,r,Cv(r)),m=ts(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:w,slicedSegments:x}=bv(t,f,h,c);if(x.length===0&&w.hasChildren())return this.processChildren(u,c,w,p).pipe(U(J=>new Pe(p,J)));if(c.length===0&&x.length===0)return A(new Pe(p,[]));let R=it(r)===i;return this.processSegment(u,c,w,x,R?O:i,!0,p).pipe(U(J=>new Pe(p,J instanceof Pe?[J]:[])))}))):ir(t)))}getChildConfig(e,t,r){return t.children?A({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?A({routes:t._loadedRoutes,injector:t._loadedInjector}):pD(e,t,r,this.urlSerializer).pipe(fe(o=>o?this.configLoader.loadChildren(e,t).pipe(ye(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):vD(t))):A({routes:[],injector:e})}};function ID(n){n.sort((e,t)=>e.value.outlet===O?-1:t.value.outlet===O?1:e.value.outlet.localeCompare(t.value.outlet))}function TD(n){let e=n.value.routeConfig;return e&&e.path===""}function Wv(n){let e=[],t=new Set;for(let r of n){if(!TD(r)){e.push(r);continue}let o=e.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),t.add(o)):e.push(r)}for(let r of t){let o=Wv(r.children);e.push(new Pe(r.value,o))}return e.filter(r=>!t.has(r))}function wv(n){return n.data||{}}function Cv(n){return n.resolve||{}}function MD(n,e,t,r,o,i){return fe(s=>DD(n,e,t,r,s.extractedUrl,o,i).pipe(U(({state:a,tree:l})=>L(v({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function _D(n,e){return fe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return A(t);let i=new Set(o.map(l=>l.route)),s=new Set;for(let l of i)if(!s.has(l))for(let c of qv(l))s.add(c);let a=0;return de(s).pipe(Ln(l=>i.has(l)?ND(l,r,n,e):(l.data=ts(l,l.parent,n).resolve,A(void 0))),ye(()=>a++),Pn(1),fe(l=>a===s.size?A(t):Ne))})}function qv(n){let e=n.children.map(t=>qv(t)).flat();return[n,...e]}function ND(n,e,t,r){let o=n.routeConfig,i=n._resolve;return o?.title!==void 0&&!Fv(o)&&(i[ho]=o.title),AD(i,n,e,r).pipe(U(s=>(n._resolvedData=s,n.data=ts(n,n.parent,t).resolve,null)))}function AD(n,e,t,r){let o=Nc(n);if(o.length===0)return A({});let i={};return de(o).pipe(fe(s=>OD(n[s],e,t,r).pipe(wt(),ye(a=>{if(a instanceof co)throw rs(new no,a);i[s]=a}))),Pn(1),U(()=>i),Rt(s=>$v(s)?Ne:On(s)))}function OD(n,e,t,r){let o=po(e)??r,i=pr(n,o),s=i.resolve?i.resolve(e,t):nt(o,()=>i(e,t));return zt(s)}function Mc(n){return Xe(e=>{let t=n(e);return t?de(t).pipe(U(()=>e)):A(e)})}var Gv=(()=>{class n{buildTitle(t){let r,o=t.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===O);return r}getResolvedTitleForRoute(t){return t.data[ho]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=S({token:n,factory:()=>y(RD),providedIn:"root"})}return n})(),RD=(()=>{class n extends Gv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(F(pv))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),au=new _("",{providedIn:"root",factory:()=>({})}),LD=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=pt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&dn(0,"router-outlet")},dependencies:[iu],encapsulation:2})}return n})();function lu(n){let e=n.children&&n.children.map(lu),t=e?L(v({},n),{children:e}):v({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==O&&(t.component=LD),t}var cu=new _(""),PD=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=y(pc);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return A(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=zt(t.loadComponent()).pipe(U(Zv),ye(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),Tr(()=>{this.componentLoaders.delete(t)})),o=new An(r,()=>new me).pipe(Nn());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return A({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=BD(r,this.compiler,t,this.onLoadEndListener).pipe(Tr(()=>{this.childrenLoaders.delete(r)})),s=new An(i,()=>new me).pipe(Nn());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function BD(n,e,t,r){return zt(n.loadChildren()).pipe(U(Zv),fe(o=>o instanceof Vr||Array.isArray(o)?A(o):de(e.compileModuleAsync(o))),U(o=>{r&&r(n);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(t).injector,s=i.get(cu,[],{optional:!0,self:!0}).flat()),{routes:s.map(lu),injector:i}}))}function FD(n){return n&&typeof n=="object"&&"default"in n}function Zv(n){return FD(n)?n.default:n}var uu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=S({token:n,factory:()=>y(jD),providedIn:"root"})}return n})(),jD=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HD=new _("");var VD=new _(""),$D=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new me;transitionAbortSubject=new me;configLoader=y(PD);environmentInjector=y(ze);urlSerializer=y(ru);rootContexts=y(is);location=y(Gr);inputBindingEnabled=y(su,{optional:!0})!==null;titleStrategy=y(Gv);options=y(au,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=y(uu);createViewTransition=y(HD,{optional:!0});navigationErrorHandler=y(VD,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>A(void 0);rootComponentType=null;constructor(){let t=o=>this.events.next(new Hc(o)),r=o=>this.events.next(new Vc(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(L(v(v({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,o){return this.transitions=new ve({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:eo,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qe(i=>i.id!==0),U(i=>L(v({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Xe(i=>{let s=!1,a=!1;return A(i).pipe(Xe(l=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Be.SupersededByNewNavigation),Ne;this.currentTransition=i,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?L(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new mn(l.id,this.urlSerializer.serialize(l.rawUrl),d,Lc.IgnoredSameUrlNavigation)),l.resolve(!1),Ne}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return A(l).pipe(Xe(d=>{let f=this.transitions?.getValue();return this.events.next(new io(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?Ne:Promise.resolve(d)}),MD(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ye(d=>{i.targetSnapshot=d.targetSnapshot,i.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=L(v({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new Xi(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:f,source:h,restoredState:p,extras:m}=l,w=new io(d,this.urlSerializer.serialize(f),h,p);this.events.next(w);let x=Pv(this.rootComponentType).snapshot;return this.currentTransition=i=L(v({},l),{targetSnapshot:x,urlAfterRedirects:f,extras:L(v({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,A(i)}else{let d="";return this.events.next(new mn(l.id,this.urlSerializer.serialize(l.extractedUrl),d,Lc.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Ne}}),ye(l=>{let c=new Pc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),U(l=>(this.currentTransition=i=L(v({},l),{guards:Yk(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),i)),sD(this.environmentInjector,l=>this.events.next(l)),ye(l=>{if(i.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw rs(this.urlSerializer,l.guardsResult);let c=new Bc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Qe(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Be.GuardRejected),!1)),Mc(l=>{if(l.guards.canActivateChecks.length)return A(l).pipe(ye(c=>{let u=new Fc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Xe(c=>{let u=!1;return A(c).pipe(_D(this.paramsInheritanceStrategy,this.environmentInjector),ye({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",Be.NoDataFromResolver)}}))}),ye(c=>{let u=new jc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Mc(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(ye(f=>{u.component=f}),U(()=>{})));for(let f of u.children)d.push(...c(f));return d};return Xo(c(l.targetSnapshot.root)).pipe(Lt(null),bt(1))}),Mc(()=>this.afterPreactivation()),Xe(()=>{let{currentSnapshot:l,targetSnapshot:c}=i,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?de(u).pipe(U(()=>i)):A(i)}),U(l=>{let c=zk(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=i=L(v({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,i}),ye(()=>{this.events.next(new ao)}),Zk(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),bt(1),ye({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new gn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Aa(this.transitionAbortSubject.pipe(ye(l=>{throw l}))),Tr(()=>{!s&&!a&&this.cancelNavigationTransition(i,"",Be.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),Rt(l=>{if(a=!0,Vv(l))this.events.next(new St(i.id,this.urlSerializer.serialize(i.extractedUrl),l.message,l.cancellationCode)),Gk(l)?this.events.next(new dr(l.url,l.navigationBehaviorOptions)):i.resolve(!1);else{let c=new so(i.id,this.urlSerializer.serialize(i.extractedUrl),l,i.targetSnapshot??void 0);try{let u=nt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof co){let{message:d,cancellationCode:f}=rs(this.urlSerializer,u);this.events.next(new St(i.id,this.urlSerializer.serialize(i.extractedUrl),d,f)),this.events.next(new dr(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(u){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(u)}}return Ne}))}))}cancelNavigationTransition(t,r,o){let i=new St(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UD(n){return n!==eo}var zD=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=S({token:n,factory:()=>y(WD),providedIn:"root"})}return n})(),nu=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},WD=(()=>{class n extends nu{static \u0275fac=(()=>{let t;return function(o){return(t||(t=Ul(n)))(o||n)}})();static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=S({token:n,factory:()=>y(qD),providedIn:"root"})}return n})(),qD=(()=>{class n extends Yv{location=y(Gr);urlSerializer=y(ru);options=y(au,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=y(uu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new It;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=Pv(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof io)this.stateMemento=this.createStateMemento();else if(t instanceof mn)this.rawUrlTree=r.initialUrl;else if(t instanceof Xi){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??o,r)}}else t instanceof ao?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof St&&(t.code===Be.GuardRejected||t.code===Be.NoDataFromResolver)?this.restoreHistory(r):t instanceof so?this.restoreHistory(r,!0):t instanceof gn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let o=t instanceof It?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let i=this.browserPageId,s=v(v({},r.extras.state),this.generateNgRouterState(r.id,i));this.location.replaceState(o,"",s)}else{let i=v(v({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",i)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.currentUrlTree===t.finalUrl&&i===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Ul(n)))(o||n)}})();static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function GD(n,e){n.events.pipe(Qe(t=>t instanceof gn||t instanceof St||t instanceof so||t instanceof mn),U(t=>t instanceof gn||t instanceof mn?0:(t instanceof St?t.code===Be.Redirect||t.code===Be.SupersededByNewNavigation:!1)?2:1),Qe(t=>t!==2),bt(1)).subscribe(()=>{e()})}var ZD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},YD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Kv=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=y(uc);stateManager=y(Yv);options=y(au,{optional:!0})||{};pendingTasks=y(Jn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=y($D);urlSerializer=y(ru);location=y(Gr);urlHandlingStrategy=y(uu);_events=new me;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=y(zD);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=y(cu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!y(su,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ce;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof St&&r.code!==Be.Redirect&&r.code!==Be.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof gn)this.navigated=!0;else if(r instanceof dr){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l=v({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||UD(o.source)},s);this.scheduleNavigation(a,eo,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}QD(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),eo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let l=v({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(i.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(lu),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=v(v({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=o?o.snapshot:this.routerState.snapshot.root;d=Av(f)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return Ov(d,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let o=ro(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,eo,null,r)}navigate(t,r={skipLocationChange:!1}){return KD(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let o;if(r===!0?o=v({},ZD):r===!1?o=v({},YD):o=r,ro(t))return gv(this.currentUrlTree,t,o);let i=this.parseUrl(t);return gv(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.entries(t).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,f)=>{a=d,l=f});let u=this.pendingTasks.add();return GD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KD(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new D(4008,!1)}function QD(n){return!(n instanceof ao)&&!(n instanceof dr)}var XD=new _("");function Qv(n,...e){return Ii([{provide:cu,multi:!0,useValue:n},[],{provide:fr,useFactory:JD,deps:[Kv]},{provide:dc,multi:!0,useFactory:t1},e.map(t=>t.\u0275providers)])}function JD(n){return n.routerState.root}function e1(n,e){return{\u0275kind:n,\u0275providers:e}}function t1(){let n=y(dt);return e=>{let t=n.get($t);if(e!==t.components[0])return;let r=n.get(Kv),o=n.get(n1);n.get(r1)===1&&r.initialNavigation(),n.get(o1,null,P.Optional)?.setUpPreloading(),n.get(XD,null,P.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var n1=new _("",{factory:()=>new me}),r1=new _("",{providedIn:"root",factory:()=>1});var o1=new _("");function Xv(){return e1(6,[{provide:or,useClass:tv}])}var as=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pt({type:n,selectors:[["test1"]],decls:1,vars:0,template:function(t,r){t&1&&Ut(0,"TEST1")},encapsulation:2})};var ls=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pt({type:n,selectors:[["test2"]],decls:1,vars:0,template:function(t,r){t&1&&Ut(0,"TEST2")},encapsulation:2})};var Jv=[{path:"test1",component:as},{path:"test2",component:ls}];var ey={providers:[$m({eventCoalescing:!0}),Qv(Jv,Xv())]};(function(){"use strict";try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".ce-hint--align-start{text-align:left}.ce-hint--align-center{text-align:center}.ce-hint__description{opacity:.6;margin-top:3px}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var i1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ds(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function fu(){}Object.assign(fu,{default:fu,register:fu,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(n){let e=(this.document||this.ownerDocument).querySelectorAll(n),t=e.length;for(;--t>=0&&e.item(t)!==this;);return t>-1});Element.prototype.closest||(Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(n){let e=document.createDocumentFragment();Array.isArray(n)||(n=[n]),n.forEach(t=>{let r=t instanceof Node;e.appendChild(r?t:document.createTextNode(t))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(n){n=arguments.length===0?!0:!!n;let e=this.parentNode,t=window.getComputedStyle(e,null),r=parseInt(t.getPropertyValue("border-top-width")),o=parseInt(t.getPropertyValue("border-left-width")),i=this.offsetTop-e.offsetTop<e.scrollTop,s=this.offsetTop-e.offsetTop+this.clientHeight-r>e.scrollTop+e.clientHeight,a=this.offsetLeft-e.offsetLeft<e.scrollLeft,l=this.offsetLeft-e.offsetLeft+this.clientWidth-o>e.scrollLeft+e.clientWidth,c=i&&!s;(i||s)&&n&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-r+this.clientHeight/2),(a||l)&&n&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-o+this.clientWidth/2),(i||s||a||l)&&!n&&this.scrollIntoView(c)});window.requestIdleCallback=window.requestIdleCallback||function(n){let e=Date.now();return setTimeout(function(){n({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(n){clearTimeout(n)};var s1=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),""),fy=(n=>(n.VERBOSE="VERBOSE",n.INFO="INFO",n.WARN="WARN",n.ERROR="ERROR",n))(fy||{}),I={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},a1={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function So(n,e,t="log",r,o="color: inherit"){if(!("console"in window)||!window.console[t])return;let i=["info","log","warn","error"].includes(t),s=[];switch(So.logLevel){case"ERROR":if(t!=="error")return;break;case"WARN":if(!["error","warn"].includes(t))return;break;case"INFO":if(!i||n)return;break}r&&s.push(r);let a="Editor.js 2.30.7";n&&(i?(s.unshift(`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`,o),e=`%c${a}%c ${e}`):e=`( ${a} )${e}`);try{i?r?console[t](`${e} %o`,...s):console[t](e,...s):console[t](e)}catch{}}So.logLevel="VERBOSE";function l1(n){So.logLevel=n}var Q=So.bind(window,!1),Ze=So.bind(window,!0);function yn(n){return Object.prototype.toString.call(n).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function se(n){return yn(n)==="function"||yn(n)==="asyncfunction"}function Ce(n){return yn(n)==="object"}function Nt(n){return yn(n)==="string"}function c1(n){return yn(n)==="boolean"}function ty(n){return yn(n)==="number"}function ny(n){return yn(n)==="undefined"}function Ye(n){return n?Object.keys(n).length===0&&n.constructor===Object:!0}function hy(n){return n>47&&n<58||n===32||n===13||n===229||n>64&&n<91||n>95&&n<112||n>185&&n<193||n>218&&n<223}function u1(n,e=()=>{},t=()=>{}){return C(this,null,function*(){function r(o,i,s){return C(this,null,function*(){try{yield o.function(o.data),yield i(ny(o.data)?{}:o.data)}catch{s(ny(o.data)?{}:o.data)}})}return n.reduce((o,i)=>C(this,null,function*(){return yield o,r(i,e,t)}),Promise.resolve())})}function py(n){return Array.prototype.slice.call(n)}function hs(n,e){return function(){let t=this,r=arguments;window.setTimeout(()=>n.apply(t,r),e)}}function d1(n){return n.name.split(".").pop()}function f1(n){return/^[-\w]+\/([-+\w]+|\*)$/.test(n)}function ry(n,e,t){let r;return(...o)=>{let i=this,s=()=>{r=null,t||n.apply(i,o)},a=t&&!r;window.clearTimeout(r),r=window.setTimeout(s,e),a&&n.apply(i,o)}}function bu(n,e,t=void 0){let r,o,i,s=null,a=0;t||(t={});let l=function(){a=t.leading===!1?0:Date.now(),s=null,i=n.apply(r,o),s||(r=o=null)};return function(){let c=Date.now();!a&&t.leading===!1&&(a=c);let u=e-(c-a);return r=this,o=arguments,u<=0||u>e?(s&&(clearTimeout(s),s=null),a=c,i=n.apply(r,o),s||(r=o=null)):!s&&t.trailing!==!1&&(s=setTimeout(l,u)),i}}function h1(){let n={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(n).find(t=>window.navigator.appVersion.toLowerCase().indexOf(t)!==-1);return e&&(n[e]=!0),n}function ps(n){return n[0].toUpperCase()+n.slice(1)}function wu(n,...e){if(!e.length)return n;let t=e.shift();if(Ce(n)&&Ce(t))for(let r in t)Ce(t[r])?(n[r]||Object.assign(n,{[r]:{}}),wu(n[r],t[r])):Object.assign(n,{[r]:t[r]});return wu(n,...e)}function vd(n){let e=h1();return n=n.replace(/shift/gi,"\u21E7").replace(/backspace/gi,"\u232B").replace(/enter/gi,"\u23CE").replace(/up/gi,"\u2191").replace(/left/gi,"\u2192").replace(/down/gi,"\u2193").replace(/right/gi,"\u2190").replace(/escape/gi,"\u238B").replace(/insert/gi,"Ins").replace(/delete/gi,"\u2421").replace(/\+/gi," + "),e.mac?n=n.replace(/ctrl|cmd/gi,"\u2318").replace(/alt/gi,"\u2325"):n=n.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),n}function p1(n){try{return new URL(n).href}catch{}return n.substring(0,2)==="//"?window.location.protocol+n:window.location.origin+n}function g1(){return s1(10)}function m1(n){window.open(n,"_blank")}function v1(n=""){return`${n}${Math.floor(Math.random()*1e8).toString(16)}`}function Cu(n,e,t){let r=`\xAB${e}\xBB is deprecated and will be removed in the next major release. Please use the \xAB${t}\xBB instead.`;n&&Ze(r,"warn")}function wr(n,e,t){let r=t.value?"value":"get",o=t[r],i=`#${e}Cache`;if(t[r]=function(...s){return this[i]===void 0&&(this[i]=o.apply(this,...s)),this[i]},r==="get"&&t.set){let s=t.set;t.set=function(a){delete n[i],s.apply(this,a)}}return t}var gy=650;function Cr(){return window.matchMedia(`(max-width: ${gy}px)`).matches}var Eu=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function y1(n,e){let t=Array.isArray(n)||Ce(n),r=Array.isArray(e)||Ce(e);return t||r?JSON.stringify(n)===JSON.stringify(e):n===e}var g=class n{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,t=null,r={}){let o=document.createElement(e);if(Array.isArray(t)){let i=t.filter(s=>s!==void 0);o.classList.add(...i)}else t&&o.classList.add(t);for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i]);return o}static text(e){return document.createTextNode(e)}static append(e,t){Array.isArray(t)?t.forEach(r=>e.appendChild(r)):e.appendChild(t)}static prepend(e,t){Array.isArray(t)?(t=t.reverse(),t.forEach(r=>e.prepend(r))):e.prepend(t)}static swap(e,t){let r=document.createElement("div"),o=e.parentNode;o.insertBefore(r,e),o.insertBefore(e,t),o.insertBefore(t,r),o.removeChild(r)}static find(e=document,t){return e.querySelector(t)}static get(e){return document.getElementById(e)}static findAll(e=document,t){return e.querySelectorAll(t)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return py(e.querySelectorAll(n.allInputsSelector)).reduce((t,r)=>n.isNativeInput(r)||n.containsOnlyInlineElements(r)?[...t,r]:[...t,...n.getDeepestBlockElements(r)],[])}static getDeepestNode(e,t=!1){let r=t?"lastChild":"firstChild",o=t?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[r]){let i=e[r];if(n.isSingleTag(i)&&!n.isNativeInput(i)&&!n.isLineBreakTag(i))if(i[o])i=i[o];else if(i.parentNode[o])i=i.parentNode[o];else return i.parentNode;return this.getDeepestNode(i,t)}return e}static isElement(e){return ty(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return ty(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){let t=["INPUT","TEXTAREA"];return e&&e.tagName?t.includes(e.tagName):!1}static canSetCaret(e){let t=!0;if(n.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":t=!1;break}else t=n.isContentEditable(e);return t}static isNodeEmpty(e,t){let r;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?r=e.value:r=e.textContent.replace("\u200B",""),t&&(r=r.replace(new RegExp(t,"g"),"")),r.trim().length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e,t){let r=[e];for(;r.length>0;)if(e=r.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e,t))return!1;e.childNodes&&r.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){let t=n.make("div");return t.innerHTML=e,t.childElementCount>0}static getContentLength(e){return n.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let t;Nt(e)?(t=document.createElement("div"),t.innerHTML=e):t=e;let r=o=>!n.blockElements.includes(o.tagName.toLowerCase())&&Array.from(o.children).every(r);return Array.from(t.children).every(r)}static getDeepestBlockElements(e){return n.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((t,r)=>[...t,...n.getDeepestBlockElements(r)],[])}static getHolder(e){return Nt(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){let t=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop,i=t.top+o,s=t.left+r;return{top:i,left:s,bottom:i+t.height,right:s+t.width}}};function b1(n){return!/[^\t\n\r ]/.test(n)}function w1(n){let e=window.getComputedStyle(n),t=parseFloat(e.fontSize),r=parseFloat(e.lineHeight)||t*1.2,o=parseFloat(e.paddingTop),i=parseFloat(e.borderTopWidth),s=parseFloat(e.marginTop),a=t*.8,l=(r-t)/2;return s+i+o+l+a}function my(n){n.dataset.empty=g.isEmpty(n)?"true":"false"}var C1={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":"","Convert to":""}},E1={Text:"",Link:"",Bold:"",Italic:""},x1={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},k1={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},vy={ui:C1,toolNames:E1,tools:x1,blockTunes:k1},yy=class gr{static ui(e,t){return gr._t(e,t)}static t(e,t){return gr._t(e,t)}static setDictionary(e){gr.currentDictionary=e}static _t(e,t){let r=gr.getNamespace(e);return!r||!r[t]?t:r[t]}static getNamespace(e){return e.split(".").reduce((t,r)=>!t||!Object.keys(t).length?{}:t[r],gr.currentDictionary)}};yy.currentDictionary=vy;var Se=yy,gs=class extends Error{},bn=class{constructor(){this.subscribers={}}on(e,t){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(t)}once(e,t){e in this.subscribers||(this.subscribers[e]=[]);let r=o=>{let i=t(o),s=this.subscribers[e].indexOf(r);return s!==-1&&this.subscribers[e].splice(s,1),i};this.subscribers[e].push(r)}emit(e,t){Ye(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((r,o)=>{let i=o(r);return i!==void 0?i:r},t)}off(e,t){if(this.subscribers[e]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`);return}for(let r=0;r<this.subscribers[e].length;r++)if(this.subscribers[e][r]===t){delete this.subscribers[e][r];break}}destroy(){this.subscribers={}}};function Tt(n){Object.setPrototypeOf(this,{get id(){return n.id},get name(){return n.name},get config(){return n.config},get holder(){return n.holder},get isEmpty(){return n.isEmpty},get selected(){return n.selected},set stretched(e){n.stretched=e},get stretched(){return n.stretched},get focusable(){return n.focusable},call(e,t){return n.call(e,t)},save(){return n.save()},validate(e){return n.validate(e)},dispatchChange(){n.dispatchChange()},getActiveToolboxEntry(){return n.getActiveToolboxEntry()}})}var wn=class{constructor(){this.allListeners=[]}on(e,t,r,o=!1){let i=v1("l"),s={id:i,element:e,eventType:t,handler:r,options:o};if(!this.findOne(e,t,r))return this.allListeners.push(s),e.addEventListener(t,r,o),i}off(e,t,r,o){let i=this.findAll(e,t,r);i.forEach((s,a)=>{let l=this.allListeners.indexOf(i[a]);l>-1&&(this.allListeners.splice(l,1),s.element.removeEventListener(s.eventType,s.handler,s.options))})}offById(e){let t=this.findById(e);t&&t.element.removeEventListener(t.eventType,t.handler,t.options)}findOne(e,t,r){let o=this.findAll(e,t,r);return o.length>0?o[0]:null}findAll(e,t,r){let o,i=e?this.findByEventTarget(e):[];return e&&t&&r?o=i.filter(s=>s.eventType===t&&s.handler===r):e&&t?o=i.filter(s=>s.eventType===t):o=i,o}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(t=>{if(t.element===e)return t})}findByType(e){return this.allListeners.filter(t=>{if(t.eventType===e)return t})}findByHandler(e){return this.allListeners.filter(t=>{if(t.handler===e)return t})}findById(e){return this.allListeners.find(t=>t.id===e)}},H=class n{constructor({config:e,eventsDispatcher:t}){if(this.nodes={},this.listeners=new wn,this.readOnlyMutableListeners={on:(r,o,i,s=!1)=>{this.mutableListenerIds.push(this.listeners.on(r,o,i,s))},clearAll:()=>{for(let r of this.mutableListenerIds)this.listeners.offById(r);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===n)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=t}set state(e){this.Editor=e}removeAllNodes(){for(let e in this.nodes){let t=this.nodes[e];t instanceof HTMLElement&&t.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}},k=class n{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){let e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){let e=window.getSelection();if(!e)return null;let t=e.anchorNode;return t?g.isElement(t)?t:t.parentElement:null}static get anchorOffset(){let e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){let e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(n.get())}static isSelectionAtEditor(e){if(!e)return!1;let t=e.anchorNode||e.focusNode;t&&t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);let r=null;return t&&t instanceof Element&&(r=t.closest(`.${n.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let t=e.startContainer;t&&t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);let r=null;return t&&t instanceof Element&&(r=t.closest(`.${n.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!n.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,t,r={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,t=e.createRange(),r.x=t.boundingLeft,r.y=t.boundingTop,r.width=t.boundingWidth,r.height=t.boundingHeight,r;if(!window.getSelection)return Q("Method window.getSelection is not supported","warn"),r;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return Q("Method SelectionUtils.rangeCount is not supported","warn"),r;if(e.rangeCount===0)return r;if(t=e.getRangeAt(0).cloneRange(),t.getBoundingClientRect&&(r=t.getBoundingClientRect()),r.x===0&&r.y===0){let o=document.createElement("span");if(o.getBoundingClientRect){o.appendChild(document.createTextNode("\u200B")),t.insertNode(o),r=o.getBoundingClientRect();let i=o.parentNode;i.removeChild(o),i.normalize()}}return r}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,t=0){let r=document.createRange(),o=window.getSelection();return g.isNativeInput(e)?g.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=t,e.getBoundingClientRect()):void 0:(r.setStart(e,t),r.setEnd(e,t),o.removeAllRanges(),o.addRange(r),r.getBoundingClientRect())}static isRangeInsideContainer(e){let t=n.range;return t===null?!1:e.contains(t.startContainer)}static addFakeCursor(){let e=n.range;if(e===null)return;let t=g.make("span","codex-editor__fake-cursor");t.dataset.mutationFree="true",e.collapse(),e.insertNode(t)}static isFakeCursorInsideContainer(e){return g.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){let t=g.find(e,".codex-editor__fake-cursor");t&&t.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=n.range}restore(){if(!this.savedSelectionRange)return;let e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){let e=window.getSelection(),t=document.createRange();t.selectNodeContents(e.focusNode),t.collapse(!1),e.removeAllRanges(),e.addRange(t)}findParentTag(e,t,r=10){let o=window.getSelection(),i=null;return!o||!o.anchorNode||!o.focusNode?null:([o.anchorNode,o.focusNode].forEach(s=>{let a=r;for(;a>0&&s.parentNode&&!(s.tagName===e&&(i=s,t&&s.classList&&!s.classList.contains(t)&&(i=null),i));)s=s.parentNode,a--}),i)}expandToTag(e){let t=window.getSelection();t.removeAllRanges();let r=document.createRange();r.selectNodeContents(e),t.addRange(r)}};function D1(n,e){let{type:t,target:r,addedNodes:o,removedNodes:i}=n;return n.type==="attributes"&&n.attributeName==="data-empty"?!1:!!(e.contains(r)||t==="childList"&&(Array.from(o).some(s=>s===e)||Array.from(i).some(s=>s===e)))}var xu="redactor dom changed",by="block changed",wy="fake cursor is about to be toggled",Cy="fake cursor have been set",Eo="editor mobile layout toggled";function ku(n,e){if(!n.conversionConfig)return!1;let t=n.conversionConfig[e];return se(t)||Nt(t)}function ms(n,e){return ku(n.tool,e)}function Ey(n,e){return Object.entries(n).some(([t,r])=>e[t]&&y1(e[t],r))}function xy(n,e){return C(this,null,function*(){let t=(yield n.save()).data,r=e.find(o=>o.name===n.name);return r!==void 0&&!ku(r,"export")?[]:e.reduce((o,i)=>{if(!ku(i,"import")||i.toolbox===void 0)return o;let s=i.toolbox.filter(a=>{if(Ye(a)||a.icon===void 0)return!1;if(a.data!==void 0){if(Ey(a.data,t))return!1}else if(i.name===n.name)return!1;return!0});return o.push(L(v({},i),{toolbox:s})),o},[])})}function oy(n,e){return n.mergeable?n.name===e.name?!0:ms(e,"export")&&ms(n,"import"):!1}function S1(n,e){let t=e?.export;return se(t)?t(n):Nt(t)?n[t]:(t!==void 0&&Q("Conversion \xABexport\xBB property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function iy(n,e){let t=e?.import;return se(t)?t(n):Nt(t)?{[t]:n}:(t!==void 0&&Q("Conversion \xABimport\xBB property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var ie=(n=>(n.Default="default",n.Separator="separator",n.Html="html",n))(ie||{}),Mt=(n=>(n.APPEND_CALLBACK="appendCallback",n.RENDERED="rendered",n.MOVED="moved",n.UPDATED="updated",n.REMOVED="removed",n.ON_PASTE="onPaste",n))(Mt||{}),st=class n extends bn{constructor({id:e=g1(),data:t,tool:r,readOnly:o,tunesData:i},s){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(a=void 0)=>{let l=a===void 0,c=a instanceof InputEvent;!l&&!c&&this.detectToolRootChange(a);let u;l||c?u=!0:u=!(a.length>0&&a.every(d=>{let{addedNodes:f,removedNodes:h,target:p}=d;return[...Array.from(f),...Array.from(h),p].some(m=>(g.isElement(m)||(m=m.parentElement),m&&m.closest('[data-mutation-free="true"]')!==null))})),u&&(this.dropInputsCache(),this.updateCurrentInput(),this.toggleInputsEmptyMark(),this.call("updated"),this.emit("didMutated",this))},this.name=r.name,this.id=e,this.settings=r.settings,this.config=r.settings.config||{},this.editorEventBus=s||null,this.blockAPI=new Tt(this),this.tool=r,this.toolInstance=r.create(t,this.blockAPI,o),this.tunes=r.tunes,this.composeTunes(i),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents(),this.toggleInputsEmptyMark()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;let e=g.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){let t=this.inputs.findIndex(r=>r===e||r.contains(e));t!==-1&&(this.inputIndex=t)}get firstInput(){return this.inputs[0]}get lastInput(){let e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!Ye(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return se(this.toolInstance.merge)}get focusable(){return this.inputs.length!==0}get isEmpty(){let e=g.isEmpty(this.pluginsContent,"/"),t=!this.hasMedia;return e&&t}get hasMedia(){let e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set selected(e){var t,r;this.holder.classList.toggle(n.CSS.selected,e);let o=e===!0&&k.isRangeInsideContainer(this.holder),i=e===!1&&k.isFakeCursorInsideContainer(this.holder);(o||i)&&((t=this.editorEventBus)==null||t.emit(wy,{state:e}),o?k.addFakeCursor():k.removeFakeCursor(this.holder),(r=this.editorEventBus)==null||r.emit(Cy,{state:e}))}get selected(){return this.holder.classList.contains(n.CSS.selected)}set stretched(e){this.holder.classList.toggle(n.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(n.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(n.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,t){if(se(this.toolInstance[e])){e==="appendCallback"&&Q("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,t)}catch(r){Q(`Error during '${e}' call: ${r.message}`,"error")}}}mergeWith(e){return C(this,null,function*(){yield this.toolInstance.merge(e)})}save(){return C(this,null,function*(){let e=yield this.toolInstance.save(this.pluginsContent),t=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([i,s])=>{if(se(s.save))try{t[i]=s.save()}catch(a){Q(`Tune ${s.constructor.name} save method throws an Error %o`,"warn",a)}});let r=window.performance.now(),o;return Promise.resolve(e).then(i=>(o=window.performance.now(),{id:this.id,tool:this.name,data:i,tunes:t,time:o-r})).catch(i=>{Q(`Saving process for ${this.name} tool failed due to the ${i}`,"log","red")})})}validate(e){return C(this,null,function*(){let t=!0;return this.toolInstance.validate instanceof Function&&(t=yield this.toolInstance.validate(e)),t})}getTunes(){let e=[],t=[],r=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[];return g.isElement(r)?e.push({type:ie.Html,element:r}):Array.isArray(r)?e.push(...r):e.push(r),[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(o=>o.render()).forEach(o=>{g.isElement(o)?t.push({type:ie.Html,element:o}):Array.isArray(o)?t.push(...o):t.push(o)}),{toolTunes:e,commonTunes:t}}updateCurrentInput(){this.currentInput=g.isNativeInput(document.activeElement)||!k.anchorNode?document.activeElement:k.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),se(this.toolInstance.destroy)&&this.toolInstance.destroy()}getActiveToolboxEntry(){return C(this,null,function*(){let e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);let t=yield this.data,r=e;return r?.find(o=>Ey(o.data,t))})}exportDataAsString(){return C(this,null,function*(){let e=yield this.data;return S1(e,this.tool.conversionConfig)})}compose(){let e=g.make("div",n.CSS.wrapper),t=g.make("div",n.CSS.content),r=this.toolInstance.render();e.dataset.id=this.id,this.toolRenderedElement=r,t.appendChild(this.toolRenderedElement);let o=t;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(i=>{if(se(i.wrap))try{o=i.wrap(o)}catch(s){Q(`Tune ${i.constructor.name} wrap method throws an Error %o`,"warn",s)}}),e.appendChild(o),e}composeTunes(e){Array.from(this.tunes.values()).forEach(t=>{(t.isInternal?this.defaultTunesInstances:this.tunesInstances).set(t.name,t.create(e[t.name],this.blockAPI))}),Object.entries(e).forEach(([t,r])=>{this.tunesInstances.has(t)||(this.unavailableTunesData[t]=r)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),g.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),g.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=t=>{let{mutations:r}=t;r.some(o=>D1(o,this.toolRenderedElement))&&this.didMutated(r)},(e=this.editorEventBus)==null||e.on(xu,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(xu,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(t=>{if(Array.from(t.removedNodes).includes(this.toolRenderedElement)){let r=t.addedNodes[t.addedNodes.length-1];this.toolRenderedElement=r}})}dropInputsCache(){this.cachedInputs=[]}toggleInputsEmptyMark(){this.inputs.forEach(my)}},Du=class extends H{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,t={},r={},o,i,s,a)=>{let l=this.Editor.BlockManager.insert({id:a,tool:e,data:t,index:o,needToFocus:i,replace:s});return new Tt(l)},this.composeBlockData=e=>C(this,null,function*(){let t=this.Editor.Tools.blockTools.get(e);return new st({tool:t,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data}),this.update=(e,t,r)=>C(this,null,function*(){let{BlockManager:o}=this.Editor,i=o.getBlockById(e);if(i===void 0)throw new Error(`Block with id "${e}" not found`);let s=yield o.update(i,t,r);return new Tt(s)}),this.convert=(e,t,r)=>C(this,null,function*(){var o,i;let{BlockManager:s,Tools:a}=this.Editor,l=s.getBlockById(e);if(!l)throw new Error(`Block with id "${e}" not found`);let c=a.blockTools.get(l.name),u=a.blockTools.get(t);if(!u)throw new Error(`Block Tool with type "${t}" not found`);let d=((o=c?.conversionConfig)==null?void 0:o.export)!==void 0,f=((i=u.conversionConfig)==null?void 0:i.import)!==void 0;if(d&&f){let h=yield s.convert(l,t,r);return new Tt(h)}else{let h=[d?!1:ps(l.name),f?!1:ps(t)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${l.name}" to "${t}" is not possible. ${h} tool(s) should provide a "conversionConfig"`)}}),this.insertMany=(e,t=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(t);let r=e.map(({id:o,type:i,data:s})=>this.Editor.BlockManager.composeBlock({id:o,tool:i||this.config.defaultBlock,data:s}));return this.Editor.BlockManager.insertMany(r,t),r.map(o=>new Tt(o))}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,t)=>this.swap(e,t),move:(e,t)=>this.move(e,t),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),getBlockByElement:e=>this.getBlockByElement(e),stretchBlock:(e,t=!0)=>this.stretchBlock(e,t),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){let t=this.Editor.BlockManager.getBlockById(e);if(!t){Ze("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(t)}getBlockByIndex(e){let t=this.Editor.BlockManager.getBlockByIndex(e);if(t===void 0){Ze("There is no block at index `"+e+"`","warn");return}return new Tt(t)}getById(e){let t=this.Editor.BlockManager.getBlockById(e);return t===void 0?(Ze("There is no block with id `"+e+"`","warn"),null):new Tt(t)}getBlockByElement(e){let t=this.Editor.BlockManager.getBlock(e);if(t===void 0){Ze("There is no block corresponding to element `"+e+"`","warn");return}return new Tt(t)}swap(e,t){Q("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,t)}move(e,t){this.Editor.BlockManager.move(e,t)}delete(e=this.Editor.BlockManager.currentBlockIndex){try{let t=this.Editor.BlockManager.getBlockByIndex(e);this.Editor.BlockManager.removeBlock(t)}catch(t){Ze(t,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}clear(){return C(this,null,function*(){yield this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()})}render(e){return C(this,null,function*(){if(e===void 0||e.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),yield this.Editor.BlockManager.clear(),yield this.Editor.Renderer.render(e.blocks),this.Editor.ModificationsObserver.enable()})}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,t=!0){Cu(!0,"blocks.stretchBlock()","BlockAPI");let r=this.Editor.BlockManager.getBlockByIndex(e);r&&(r.stretched=t)}insertNewBlock(){Q("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(e){if(typeof e!="number")throw new Error("Index should be a number");if(e<0)throw new Error("Index should be greater than or equal to 0");if(e===null)throw new Error("Index should be greater than or equal to 0")}};function I1(n,e){return typeof n=="number"?e.BlockManager.getBlockByIndex(n):typeof n=="string"?e.BlockManager.getBlockById(n):e.BlockManager.getBlockById(n.id)}var Su=class extends H{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,t),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,t),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,t),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,t),!0):!1,this.setToBlock=(e,t=this.Editor.Caret.positions.DEFAULT,r=0)=>{let o=I1(e,this.Editor);return o===void 0?!1:(this.Editor.Caret.setToBlock(o,t,r),!0)},this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}},Iu=class extends H{get methods(){return{emit:(e,t)=>this.emit(e,t),off:(e,t)=>this.off(e,t),on:(e,t)=>this.on(e,t)}}on(e,t){this.eventsDispatcher.on(e,t)}emit(e,t){this.eventsDispatcher.emit(e,t)}off(e,t){this.eventsDispatcher.off(e,t)}},Tu=class n extends H{static getNamespace(e,t){return t?`blockTunes.${e}`:`tools.${e}`}get methods(){return{t:()=>{Ze("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e,t){return Object.assign(this.methods,{t:r=>Se.t(n.getNamespace(e,t),r)})}},Mu=class extends H{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,tools:this.Editor.ToolsAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e,t){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e,t)})}},_u=class extends H{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}},Nu=class extends H{get methods(){return{on:(e,t,r,o)=>this.on(e,t,r,o),off:(e,t,r,o)=>this.off(e,t,r,o),offById:e=>this.offById(e)}}on(e,t,r,o){return this.listeners.on(e,t,r,o)}off(e,t,r,o){this.listeners.off(e,t,r,o)}offById(e){this.listeners.offById(e)}},ky={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(window,function(){return function(t){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=t,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,function(c){return i[c]}.bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=0)}([function(t,r,o){o(1),t.exports=function(){var i=o(6),s="cdx-notify--bounce-in",a=null;return{show:function(l){if(l.message){(function(){if(a)return!0;a=i.getWrapper(),document.body.appendChild(a)})();var c=null,u=l.time||8e3;switch(l.type){case"confirm":c=i.confirm(l);break;case"prompt":c=i.prompt(l);break;default:c=i.alert(l),window.setTimeout(function(){c.remove()},u)}a.appendChild(c),c.classList.add(s)}}}}()},function(t,r,o){var i=o(2);typeof i=="string"&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(4)(i,s),i.locals&&(t.exports=i.locals)},function(t,r,o){(t.exports=o(3)(!1)).push([t.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(t,r){t.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var f=(p=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),h=d.sources.map(function(m){return"/*# sourceURL="+d.sourceRoot+m+" */"});return[u].concat(h).concat([f]).join(`
`)}var p;return[u].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},i.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<s.length;c++){var d=s[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),i.push(d))}},i}},function(t,r,o){var i,s,a={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),c=function(E){var b={};return function(N){if(typeof N=="function")return N();if(b[N]===void 0){var z=function(re){return document.querySelector(re)}.call(this,N);if(window.HTMLIFrameElement&&z instanceof window.HTMLIFrameElement)try{z=z.contentDocument.head}catch{z=null}b[N]=z}return b[N]}}(),u=null,d=0,f=[],h=o(5);function p(E,b){for(var N=0;N<E.length;N++){var z=E[N],re=a[z.id];if(re){re.refs++;for(var q=0;q<re.parts.length;q++)re.parts[q](z.parts[q]);for(;q<z.parts.length;q++)re.parts.push(Y(z.parts[q],b))}else{var ge=[];for(q=0;q<z.parts.length;q++)ge.push(Y(z.parts[q],b));a[z.id]={id:z.id,refs:1,parts:ge}}}}function m(E,b){for(var N=[],z={},re=0;re<E.length;re++){var q=E[re],ge=b.base?q[0]+b.base:q[0],W={css:q[1],media:q[2],sourceMap:q[3]};z[ge]?z[ge].parts.push(W):N.push(z[ge]={id:ge,parts:[W]})}return N}function w(E,b){var N=c(E.insertInto);if(!N)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var z=f[f.length-1];if(E.insertAt==="top")z?z.nextSibling?N.insertBefore(b,z.nextSibling):N.appendChild(b):N.insertBefore(b,N.firstChild),f.push(b);else if(E.insertAt==="bottom")N.appendChild(b);else{if(typeof E.insertAt!="object"||!E.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var re=c(E.insertInto+" "+E.insertAt.before);N.insertBefore(b,re)}}function x(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E);var b=f.indexOf(E);b>=0&&f.splice(b,1)}function R(E){var b=document.createElement("style");return E.attrs.type===void 0&&(E.attrs.type="text/css"),J(b,E.attrs),w(E,b),b}function J(E,b){Object.keys(b).forEach(function(N){E.setAttribute(N,b[N])})}function Y(E,b){var N,z,re,q;if(b.transform&&E.css){if(!(q=b.transform(E.css)))return function(){};E.css=q}if(b.singleton){var ge=d++;N=u||(u=R(b)),z=Ee.bind(null,N,ge,!1),re=Ee.bind(null,N,ge,!0)}else E.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(N=function(W){var Me=document.createElement("link");return W.attrs.type===void 0&&(W.attrs.type="text/css"),W.attrs.rel="stylesheet",J(Me,W.attrs),w(W,Me),Me}(b),z=function(W,Me,kr){var Yt=kr.css,fa=kr.sourceMap,Ub=Me.convertToAbsoluteUrls===void 0&&fa;(Me.convertToAbsoluteUrls||Ub)&&(Yt=h(Yt)),fa&&(Yt+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(fa))))+" */");var zb=new Blob([Yt],{type:"text/css"}),th=W.href;W.href=URL.createObjectURL(zb),th&&URL.revokeObjectURL(th)}.bind(null,N,b),re=function(){x(N),N.href&&URL.revokeObjectURL(N.href)}):(N=R(b),z=function(W,Me){var kr=Me.css,Yt=Me.media;if(Yt&&W.setAttribute("media",Yt),W.styleSheet)W.styleSheet.cssText=kr;else{for(;W.firstChild;)W.removeChild(W.firstChild);W.appendChild(document.createTextNode(kr))}}.bind(null,N),re=function(){x(N)});return z(E),function(W){if(W){if(W.css===E.css&&W.media===E.media&&W.sourceMap===E.sourceMap)return;z(E=W)}else re()}}t.exports=function(E,b){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(b=b||{}).attrs=typeof b.attrs=="object"?b.attrs:{},b.singleton||typeof b.singleton=="boolean"||(b.singleton=l()),b.insertInto||(b.insertInto="head"),b.insertAt||(b.insertAt="bottom");var N=m(E,b);return p(N,b),function(z){for(var re=[],q=0;q<N.length;q++){var ge=N[q];(W=a[ge.id]).refs--,re.push(W)}for(z&&p(m(z,b),b),q=0;q<re.length;q++){var W;if((W=re[q]).refs===0){for(var Me=0;Me<W.parts.length;Me++)W.parts[Me]();delete a[W.id]}}}};var oe,ne=(oe=[],function(E,b){return oe[E]=b,oe.filter(Boolean).join(`
`)});function Ee(E,b,N,z){var re=N?"":z.css;if(E.styleSheet)E.styleSheet.cssText=ne(b,re);else{var q=document.createTextNode(re),ge=E.childNodes;ge[b]&&E.removeChild(ge[b]),ge.length?E.insertBefore(q,ge[b]):E.appendChild(q)}}},function(t,r){t.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,a=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(f,h){return h}).replace(/^'(.*)'$/,function(f,h){return h});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(t,r,o){var i,s,a,l,c,u,d,f,h;t.exports=(i="cdx-notifies",s="cdx-notify",a="cdx-notify__cross",l="cdx-notify__button--confirm",c="cdx-notify__button--cancel",u="cdx-notify__input",d="cdx-notify__button",f="cdx-notify__btns-wrapper",{alert:h=function(p){var m=document.createElement("DIV"),w=document.createElement("DIV"),x=p.message,R=p.style;return m.classList.add(s),R&&m.classList.add(s+"--"+R),m.innerHTML=x,w.classList.add(a),w.addEventListener("click",m.remove.bind(m)),m.appendChild(w),m},confirm:function(p){var m=h(p),w=document.createElement("div"),x=document.createElement("button"),R=document.createElement("button"),J=m.querySelector("."+a),Y=p.cancelHandler,oe=p.okHandler;return w.classList.add(f),x.innerHTML=p.okText||"Confirm",R.innerHTML=p.cancelText||"Cancel",x.classList.add(d),R.classList.add(d),x.classList.add(l),R.classList.add(c),Y&&typeof Y=="function"&&(R.addEventListener("click",Y),J.addEventListener("click",Y)),oe&&typeof oe=="function"&&x.addEventListener("click",oe),x.addEventListener("click",m.remove.bind(m)),R.addEventListener("click",m.remove.bind(m)),w.appendChild(x),w.appendChild(R),m.appendChild(w),m},prompt:function(p){var m=h(p),w=document.createElement("div"),x=document.createElement("button"),R=document.createElement("input"),J=m.querySelector("."+a),Y=p.cancelHandler,oe=p.okHandler;return w.classList.add(f),x.innerHTML=p.okText||"Ok",x.classList.add(d),x.classList.add(l),R.classList.add(u),p.placeholder&&R.setAttribute("placeholder",p.placeholder),p.default&&(R.value=p.default),p.inputType&&(R.type=p.inputType),Y&&typeof Y=="function"&&J.addEventListener("click",Y),oe&&typeof oe=="function"&&x.addEventListener("click",function(){oe(R.value)}),x.addEventListener("click",m.remove.bind(m)),w.appendChild(R),w.appendChild(x),m.appendChild(w),m},getWrapper:function(){var p=document.createElement("DIV");return p.classList.add(i),p}})}])})})(ky);var T1=ky.exports,M1=Ds(T1),Au=class{show(e){M1.show(e)}},Ou=class extends H{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.notifier=new Au}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}},Ru=class extends H{get methods(){let e=()=>this.isEnabled;return{toggle:t=>this.toggle(t),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}},Dy={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(i1,function(){function t(d){var f=d.tags,h=Object.keys(f),p=h.map(function(m){return typeof f[m]}).every(function(m){return m==="object"||m==="boolean"||m==="function"});if(!p)throw new Error("The configuration was invalid");this.config=d}var r=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function o(d){return r.indexOf(d.nodeName)!==-1}var i=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function s(d){return i.indexOf(d.nodeName)!==-1}t.prototype.clean=function(d){let f=document.implementation.createHTMLDocument(),h=f.createElement("div");return h.innerHTML=d,this._sanitize(f,h),h.innerHTML},t.prototype._sanitize=function(d,f){var h=a(d,f),p=h.firstChild();if(p)do{if(p.nodeType===Node.TEXT_NODE)if(p.data.trim()===""&&(p.previousElementSibling&&o(p.previousElementSibling)||p.nextElementSibling&&o(p.nextElementSibling))){f.removeChild(p),this._sanitize(d,f);break}else continue;if(p.nodeType===Node.COMMENT_NODE){f.removeChild(p),this._sanitize(d,f);break}var m=s(p),w;m&&(w=Array.prototype.some.call(p.childNodes,o));var x=!!f.parentNode,R=o(f)&&o(p)&&x,J=p.nodeName.toLowerCase(),Y=l(this.config,J,p),oe=m&&w;if(oe||c(p,Y)||!this.config.keepNestedBlockElements&&R){if(!(p.nodeName==="SCRIPT"||p.nodeName==="STYLE"))for(;p.childNodes.length>0;)f.insertBefore(p.childNodes[0],p);f.removeChild(p),this._sanitize(d,f);break}for(var ne=0;ne<p.attributes.length;ne+=1){var Ee=p.attributes[ne];u(Ee,Y,p)&&(p.removeAttribute(Ee.name),ne=ne-1)}this._sanitize(d,p)}while(p=h.nextSibling())};function a(d,f){return d.createTreeWalker(f,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function l(d,f,h){return typeof d.tags[f]=="function"?d.tags[f](h):d.tags[f]}function c(d,f){return typeof f>"u"?!0:typeof f=="boolean"?!f:!1}function u(d,f,h){var p=d.name.toLowerCase();return f===!0?!1:typeof f[p]=="function"?!f[p](d.value,h):typeof f[p]>"u"||f[p]===!1?!0:typeof f[p]=="string"?f[p]!==d.value:!1}return t})})(Dy);var _1=Dy.exports,N1=Ds(_1);function yd(n,e){return n.map(t=>{let r=se(e)?e(t.tool):e;return Ye(r)||(t.data=bd(t.data,r)),t})}function mt(n,e={}){let t={tags:e};return new N1(t).clean(n)}function bd(n,e){return Array.isArray(n)?A1(n,e):Ce(n)?O1(n,e):Nt(n)?R1(n,e):n}function A1(n,e){return n.map(t=>bd(t,e))}function O1(n,e){let t={};for(let r in n){if(!Object.prototype.hasOwnProperty.call(n,r))continue;let o=n[r],i=L1(e[r])?e[r]:e;t[r]=bd(o,i)}return t}function R1(n,e){return Ce(e)?mt(n,e):e===!1?mt(n,{}):n}function L1(n){return Ce(n)||c1(n)||se(n)}var Lu=class extends H{get methods(){return{clean:(e,t)=>this.clean(e,t)}}clean(e,t){return mt(e,t)}},Pu=class extends H{get methods(){return{save:()=>this.save()}}save(){let e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(Ze(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}},Bu=class extends H{constructor(){super(...arguments),this.selectionUtils=new k}get methods(){return{findParentTag:(e,t)=>this.findParentTag(e,t),expandToTag:e=>this.expandToTag(e),save:()=>this.selectionUtils.save(),restore:()=>this.selectionUtils.restore(),setFakeBackground:()=>this.selectionUtils.setFakeBackground(),removeFakeBackground:()=>this.selectionUtils.removeFakeBackground()}}findParentTag(e,t){return this.selectionUtils.findParentTag(e,t)}expandToTag(e){this.selectionUtils.expandToTag(e)}},Fu=class extends H{get methods(){return{getBlockTools:()=>Array.from(this.Editor.Tools.blockTools.values())}}},ju=class extends H{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}},Hu=class extends H{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Ze("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Ze("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}},Sy={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(window,function(){return function(t){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=t,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,function(c){return i[c]}.bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=0)}([function(t,r,o){t.exports=o(1)},function(t,r,o){o.r(r),o.d(r,"default",function(){return i});class i{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(a,l,c){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);let u=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},c);if(u.hidingDelay&&(this.hidingDelay=u.hidingDelay),this.nodes.content.innerHTML="",typeof l=="string")this.nodes.content.appendChild(document.createTextNode(l));else{if(!(l instanceof Node))throw Error("[CodeX Tooltip] Wrong type of \xABcontent\xBB passed. It should be an instance of Node or String. But "+typeof l+" given.");this.nodes.content.appendChild(l)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),u.placement){case"top":this.placeTop(a,u);break;case"left":this.placeLeft(a,u);break;case"right":this.placeRight(a,u);break;case"bottom":default:this.placeBottom(a,u)}u&&u.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},u.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(a=!1){if(this.hidingDelay&&!a)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(a,l,c){a.addEventListener("mouseenter",()=>{this.show(a,l,c)}),a.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){let a="codex-tooltips-style";if(document.getElementById(a))return;let l=o(2),c=this.make("style",null,{textContent:l.toString(),id:a});this.prepend(document.head,c)}placeBottom(a,l){let c=a.getBoundingClientRect(),u=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,d=c.bottom+window.pageYOffset+this.offsetTop+l.marginTop;this.applyPlacement("bottom",u,d)}placeTop(a,l){let c=a.getBoundingClientRect(),u=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,d=c.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",u,d)}placeLeft(a,l){let c=a.getBoundingClientRect(),u=c.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-l.marginLeft,d=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",u,d)}placeRight(a,l){let c=a.getBoundingClientRect(),u=c.right+this.offsetRight+l.marginRight,d=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",u,d)}applyPlacement(a,l,c){this.nodes.wrapper.classList.add(this.CSS.placement[a]),this.nodes.wrapper.style.left=l+"px",this.nodes.wrapper.style.top=c+"px"}make(a,l=null,c={}){let u=document.createElement(a);Array.isArray(l)?u.classList.add(...l):l&&u.classList.add(l);for(let d in c)c.hasOwnProperty(d)&&(u[d]=c[d]);return u}append(a,l){Array.isArray(l)?l.forEach(c=>a.appendChild(c)):a.appendChild(l)}prepend(a,l){Array.isArray(l)?(l=l.reverse()).forEach(c=>a.prepend(c)):a.prepend(l)}}},function(t,r){t.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(Sy);var P1=Sy.exports,B1=Ds(P1),at=null;function wd(){at||(at=new B1)}function F1(n,e,t){wd(),at?.show(n,e,t)}function vs(n=!1){wd(),at?.hide(n)}function ys(n,e,t){wd(),at?.onHover(n,e,t)}function j1(){at?.destroy(),at=null}var Vu=class extends H{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t})}get methods(){return{show:(e,t,r)=>this.show(e,t,r),hide:()=>this.hide(),onHover:(e,t,r)=>this.onHover(e,t,r)}}show(e,t,r){F1(e,t,r)}hide(){vs()}onHover(e,t,r){ys(e,t,r)}},$u=class extends H{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}};function Iy(n,e){let t={};return Object.entries(n).forEach(([r,o])=>{if(Ce(o)){let i=e?`${e}.${r}`:r;Object.values(o).every(s=>Nt(s))?t[r]=i:t[r]=Iy(o,i);return}t[r]=o}),t}var je=Iy(vy);function H1(n,e){let t={};return Object.keys(n).forEach(r=>{let o=e[r];o!==void 0?t[o]=n[r]:t[r]=n[r]}),t}var V1=(()=>{let n=class bo{constructor(t,r){this.cursor=-1,this.items=[],this.items=t||[],this.focusedCssClass=r}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(t){t<this.items.length&&t>=-1&&(this.dropCursor(),this.cursor=t,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(t){this.items=t}next(){this.cursor=this.leafNodesAndReturnIndex(bo.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(bo.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(t){if(this.items.length===0)return this.cursor;let r=this.cursor;return r===-1?r=t===bo.directions.RIGHT?-1:0:this.items[r].classList.remove(this.focusedCssClass),t===bo.directions.RIGHT?r=(r+1)%this.items.length:r=(this.items.length+r-1)%this.items.length,g.canSetCaret(this.items[r])&&hs(()=>k.setCursor(this.items[r]),50)(),this.items[r].classList.add(this.focusedCssClass),r}};return n.directions={RIGHT:"right",LEFT:"left"},n})(),mo=V1,yr=class n{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=t=>{if(this.isEventReadyForHandling(t))switch(n.usedKeys.includes(t.keyCode)&&t.preventDefault(),t.keyCode){case I.TAB:this.handleTabPress(t);break;case I.LEFT:case I.UP:this.flipLeft();break;case I.RIGHT:case I.DOWN:this.flipRight();break;case I.ENTER:this.handleEnterPress(t);break}},this.iterator=new mo(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||n.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[I.TAB,I.LEFT,I.RIGHT,I.ENTER,I.UP,I.DOWN]}activate(e,t){this.activated=!0,e&&this.iterator.setItems(e),t!==void 0&&this.iterator.setCursor(t),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(t=>t!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?mo.directions.LEFT:mo.directions.RIGHT){case mo.directions.RIGHT:this.flipRight();break;case mo.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),se(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}},$1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',U1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',z1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5"/></svg>',W1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5"/></svg>',q1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',G1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',Z1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',Y1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',sy='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',K1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',Q1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',Ty='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M11.5 17.5L5 11M5 11V15.5M5 11H9.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12.5 6.5L19 13M19 13V8.5M19 13H14.5"/></svg>',X1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',J1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',eS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>',tS="__",nS="--";function Wt(n){return(e,t)=>[[n,e].filter(r=>!!r).join(tS),t].filter(r=>!!r).join(nS)}var vo=Wt("ce-hint"),yo={root:vo(),alignedStart:vo(null,"align-left"),alignedCenter:vo(null,"align-center"),title:vo("title"),description:vo("description")},Uu=class{constructor(e){this.nodes={root:g.make("div",[yo.root,e.alignment==="center"?yo.alignedCenter:yo.alignedStart]),title:g.make("div",yo.title,{textContent:e.title})},this.nodes.root.appendChild(this.nodes.title),e.description!==void 0&&(this.nodes.description=g.make("div",yo.description,{textContent:e.description}),this.nodes.root.appendChild(this.nodes.description))}getElement(){return this.nodes.root}},xo=class{constructor(e){this.params=e}get name(){if(this.params!==void 0&&"name"in this.params)return this.params.name}destroy(){vs()}onChildrenOpen(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onOpen)=="function"&&this.params.children.onOpen()}onChildrenClose(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onClose)=="function"&&this.params.children.onClose()}handleClick(){var e,t;this.params!==void 0&&"onActivate"in this.params&&((t=(e=this.params).onActivate)==null||t.call(e,this.params))}addHint(e,t){let r=new Uu(t);ys(e,r.getElement(),{placement:t.position,hidingDelay:100})}get children(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.items)!==void 0?this.params.children.items:[]}get hasChildren(){return this.children.length>0}get isChildrenOpen(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.isOpen)===!0}get isChildrenFlippable(){var e;return!(this.params===void 0||!("children"in this.params)||((e=this.params.children)==null?void 0:e.isFlippable)===!1)}get isChildrenSearchable(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.searchable)===!0}get closeOnActivate(){return this.params!==void 0&&"closeOnActivate"in this.params&&this.params.closeOnActivate}get isActive(){return this.params===void 0||!("isActive"in this.params)?!1:typeof this.params.isActive=="function"?this.params.isActive():this.params.isActive===!0}},Fe=Wt("ce-popover-item"),ae={container:Fe(),active:Fe(null,"active"),disabled:Fe(null,"disabled"),focused:Fe(null,"focused"),hidden:Fe(null,"hidden"),confirmationState:Fe(null,"confirmation"),noHover:Fe(null,"no-hover"),noFocus:Fe(null,"no-focus"),title:Fe("title"),secondaryTitle:Fe("secondary-title"),icon:Fe("icon"),iconTool:Fe("icon","tool"),iconChevronRight:Fe("icon","chevron-right"),wobbleAnimation:Wt("wobble")()},_t=class extends xo{constructor(e,t){super(e),this.params=e,this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{var r;(r=this.nodes.root)==null||r.classList.remove(ae.noFocus)},this.removeSpecialHoverBehavior=()=>{var r;(r=this.nodes.root)==null||r.classList.remove(ae.noHover)},this.onErrorAnimationEnd=()=>{var r,o;(r=this.nodes.icon)==null||r.classList.remove(ae.wobbleAnimation),(o=this.nodes.icon)==null||o.removeEventListener("animationend",this.onErrorAnimationEnd)},this.nodes.root=this.make(e,t)}get isDisabled(){return this.params.isDisabled===!0}get toggle(){return this.params.toggle}get title(){return this.params.title}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root===null?!1:this.nodes.root.classList.contains(ae.focused)}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled&&this.confirmationState!==null){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){var t;(t=this.nodes.root)==null||t.classList.toggle(ae.active,e)}toggleHidden(e){var t;(t=this.nodes.root)==null||t.classList.toggle(ae.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e,t){var r,o;let i=t?.wrapperTag||"div",s=g.make(i,ae.container,{type:i==="button"?"button":void 0});return e.name&&(s.dataset.itemName=e.name),this.nodes.icon=g.make("div",[ae.icon,ae.iconTool],{innerHTML:e.icon||Z1}),s.appendChild(this.nodes.icon),e.title!==void 0&&s.appendChild(g.make("div",ae.title,{innerHTML:e.title||""})),e.secondaryLabel&&s.appendChild(g.make("div",ae.secondaryTitle,{textContent:e.secondaryLabel})),this.hasChildren&&s.appendChild(g.make("div",[ae.icon,ae.iconChevronRight],{innerHTML:W1})),this.isActive&&s.classList.add(ae.active),e.isDisabled&&s.classList.add(ae.disabled),e.hint!==void 0&&((r=t?.hint)==null?void 0:r.enabled)!==!1&&this.addHint(s,L(v({},e.hint),{position:((o=t?.hint)==null?void 0:o.position)||"right"})),s}enableConfirmationMode(e){if(this.nodes.root===null)return;let t=L(v(v({},this.params),e),{confirmation:"confirmation"in e?e.confirmation:void 0}),r=this.make(t);this.nodes.root.innerHTML=r.innerHTML,this.nodes.root.classList.add(ae.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){if(this.nodes.root===null)return;let e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(ae.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){var e,t,r;(e=this.nodes.root)==null||e.classList.add(ae.noHover),(t=this.nodes.root)==null||t.classList.add(ae.noFocus),(r=this.nodes.root)==null||r.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){var e;this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),(e=this.nodes.root)==null||e.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){var t;if(!("confirmation"in e)||e.confirmation===void 0)try{(t=e.onActivate)==null||t.call(e,e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){var e,t,r;(e=this.nodes.icon)!=null&&e.classList.contains(ae.wobbleAnimation)||((t=this.nodes.icon)==null||t.classList.add(ae.wobbleAnimation),(r=this.nodes.icon)==null||r.addEventListener("animationend",this.onErrorAnimationEnd))}},hu=Wt("ce-popover-item-separator"),pu={container:hu(),line:hu("line"),hidden:hu(null,"hidden")},bs=class extends xo{constructor(){super(),this.nodes={root:g.make("div",pu.container),line:g.make("div",pu.line)},this.nodes.root.appendChild(this.nodes.line)}getElement(){return this.nodes.root}toggleHidden(e){var t;(t=this.nodes.root)==null||t.classList.toggle(pu.hidden,e)}},vt=(n=>(n.Closed="closed",n.ClosedOnActivate="closed-on-activate",n))(vt||{}),De=Wt("ce-popover"),le={popover:De(),popoverContainer:De("container"),popoverOpenTop:De(null,"open-top"),popoverOpenLeft:De(null,"open-left"),popoverOpened:De(null,"opened"),search:De("search"),nothingFoundMessage:De("nothing-found-message"),nothingFoundMessageDisplayed:De("nothing-found-message","displayed"),items:De("items"),overlay:De("overlay"),overlayHidden:De("overlay","hidden"),popoverNested:De(null,"nested"),getPopoverNestedClass:n=>De(null,`nested-level-${n.toString()}`),popoverInline:De(null,"inline"),popoverHeader:De("header")},vr=(n=>(n.NestingLevel="--nesting-level",n.PopoverHeight="--popover-height",n.InlinePopoverWidth="--inline-popover-width",n.TriggerItemLeft="--trigger-item-left",n.TriggerItemTop="--trigger-item-top",n))(vr||{}),ay=Wt("ce-popover-item-html"),ly={root:ay(),hidden:ay(null,"hidden")},Cn=class extends xo{constructor(e,t){var r,o;super(e),this.nodes={root:g.make("div",ly.root)},this.nodes.root.appendChild(e.element),e.name&&(this.nodes.root.dataset.itemName=e.name),e.hint!==void 0&&((r=t?.hint)==null?void 0:r.enabled)!==!1&&this.addHint(this.nodes.root,L(v({},e.hint),{position:((o=t?.hint)==null?void 0:o.position)||"right"}))}getElement(){return this.nodes.root}toggleHidden(e){var t;(t=this.nodes.root)==null||t.classList.toggle(ly.hidden,e)}getControls(){let e=this.nodes.root.querySelectorAll(`button, ${g.allInputsSelector}`);return Array.from(e)}},ws=class extends bn{constructor(e,t={}){super(),this.params=e,this.itemsRenderParams=t,this.listeners=new wn,this.messages={nothingFound:"Nothing found",search:"Search"},this.items=this.buildItems(e.items),e.messages&&(this.messages=v(v({},this.messages),e.messages)),this.nodes={},this.nodes.popoverContainer=g.make("div",[le.popoverContainer]),this.nodes.nothingFoundMessage=g.make("div",[le.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popoverContainer.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=g.make("div",[le.items]),this.items.forEach(r=>{let o=r.getElement();o!==null&&this.nodes.items.appendChild(o)}),this.nodes.popoverContainer.appendChild(this.nodes.items),this.listeners.on(this.nodes.popoverContainer,"click",r=>this.handleClick(r)),this.nodes.popover=g.make("div",[le.popover,this.params.class]),this.nodes.popover.appendChild(this.nodes.popoverContainer)}get itemsDefault(){return this.items.filter(e=>e instanceof _t)}getElement(){return this.nodes.popover}show(){this.nodes.popover.classList.add(le.popoverOpened),this.search!==void 0&&this.search.focus()}hide(){this.nodes.popover.classList.remove(le.popoverOpened),this.nodes.popover.classList.remove(le.popoverOpenTop),this.itemsDefault.forEach(e=>e.reset()),this.search!==void 0&&this.search.clear(),this.emit(vt.Closed)}destroy(){var e;this.items.forEach(t=>t.destroy()),this.nodes.popover.remove(),this.listeners.removeAll(),(e=this.search)==null||e.destroy()}activateItemByName(e){let t=this.items.find(r=>r.name===e);this.handleItemClick(t)}buildItems(e){return e.map(t=>{switch(t.type){case ie.Separator:return new bs;case ie.Html:return new Cn(t,this.itemsRenderParams[ie.Html]);default:return new _t(t,this.itemsRenderParams[ie.Default])}})}getTargetItem(e){return this.items.filter(t=>t instanceof _t||t instanceof Cn).find(t=>{let r=t.getElement();return r===null?!1:e.composedPath().includes(r)})}handleItemClick(e){if(!("isDisabled"in e&&e.isDisabled)){if(e.hasChildren){this.showNestedItems(e),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick();return}this.itemsDefault.filter(t=>t!==e).forEach(t=>t.reset()),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick(),this.toggleItemActivenessIfNeeded(e),e.closeOnActivate&&(this.hide(),this.emit(vt.ClosedOnActivate))}}handleClick(e){let t=this.getTargetItem(e);t!==void 0&&this.handleItemClick(t)}toggleItemActivenessIfNeeded(e){if(e instanceof _t&&(e.toggle===!0&&e.toggleActive(),typeof e.toggle=="string")){let t=this.itemsDefault.filter(r=>r.toggle===e.toggle);if(t.length===1){e.toggleActive();return}t.forEach(r=>{r.toggleActive(r===e)})}}},Cs=(n=>(n.Search="search",n))(Cs||{}),gu=Wt("cdx-search-field"),mu={wrapper:gu(),icon:gu("icon"),input:gu("input")},zu=class extends bn{constructor({items:e,placeholder:t}){super(),this.listeners=new wn,this.items=e,this.wrapper=g.make("div",mu.wrapper);let r=g.make("div",mu.icon,{innerHTML:X1});this.input=g.make("input",mu.input,{placeholder:t,tabIndex:-1}),this.wrapper.appendChild(r),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.emit(Cs.Search,{query:this.searchQuery,items:this.foundItems})})}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.emit(Cs.Search,{query:"",items:this.foundItems})}destroy(){this.listeners.removeAll()}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var t,r;let o=((t=e.title)==null?void 0:t.toLowerCase())||"",i=(r=this.searchQuery)==null?void 0:r.toLowerCase();return i!==void 0?o.includes(i):!1}},rS=Object.defineProperty,oS=Object.getOwnPropertyDescriptor,iS=(n,e,t,r)=>{for(var o=r>1?void 0:r?oS(e,t):e,i=n.length-1,s;i>=0;i--)(s=n[i])&&(o=(r?s(e,t,o):s(o))||o);return r&&o&&rS(e,t,o),o},My=class _y extends ws{constructor(e,t){super(e,t),this.nestingLevel=0,this.nestedPopoverTriggerItem=null,this.previouslyHoveredItem=null,this.scopeElement=document.body,this.hide=()=>{var r;super.hide(),this.destroyNestedPopoverIfExists(),(r=this.flipper)==null||r.deactivate(),this.previouslyHoveredItem=null},this.onFlip=()=>{let r=this.itemsDefault.find(o=>o.isFocused);r?.onFocus()},this.onSearch=r=>{var o;let i=r.query==="",s=r.items.length===0;this.items.forEach(l=>{let c=!1;l instanceof _t?c=!r.items.includes(l):(l instanceof bs||l instanceof Cn)&&(c=s||!i),l.toggleHidden(c)}),this.toggleNothingFoundMessage(s);let a=r.query===""?this.flippableElements:r.items.map(l=>l.getElement());(o=this.flipper)!=null&&o.isActivated&&(this.flipper.deactivate(),this.flipper.activate(a))},e.nestingLevel!==void 0&&(this.nestingLevel=e.nestingLevel),this.nestingLevel>0&&this.nodes.popover.classList.add(le.popoverNested),e.scopeElement!==void 0&&(this.scopeElement=e.scopeElement),this.nodes.popoverContainer!==null&&this.listeners.on(this.nodes.popoverContainer,"mouseover",r=>this.handleHover(r)),e.searchable&&this.addSearch(),e.flippable!==!1&&(this.flipper=new yr({items:this.flippableElements,focusedItemClass:ae.focused,allowedKeys:[I.TAB,I.UP,I.DOWN,I.ENTER]}),this.flipper.onFlip(this.onFlip))}hasFocus(){return this.flipper===void 0?!1:this.flipper.hasFocus()}get scrollTop(){return this.nodes.items===null?0:this.nodes.items.scrollTop}get offsetTop(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetTop}show(){var e;this.nodes.popover.style.setProperty(vr.PopoverHeight,this.size.height+"px"),this.shouldOpenBottom||this.nodes.popover.classList.add(le.popoverOpenTop),this.shouldOpenRight||this.nodes.popover.classList.add(le.popoverOpenLeft),super.show(),(e=this.flipper)==null||e.activate(this.flippableElements)}destroy(){this.hide(),super.destroy()}showNestedItems(e){this.nestedPopover!==null&&this.nestedPopover!==void 0||(this.nestedPopoverTriggerItem=e,this.showNestedPopoverForItem(e))}handleHover(e){let t=this.getTargetItem(e);t!==void 0&&this.previouslyHoveredItem!==t&&(this.destroyNestedPopoverIfExists(),this.previouslyHoveredItem=t,t.hasChildren&&this.showNestedPopoverForItem(t))}setTriggerItemPosition(e,t){let r=t.getElement(),o=(r?r.offsetTop:0)-this.scrollTop,i=this.offsetTop+o;e.style.setProperty(vr.TriggerItemTop,i+"px")}destroyNestedPopoverIfExists(){var e,t;this.nestedPopover===void 0||this.nestedPopover===null||(this.nestedPopover.off(vt.ClosedOnActivate,this.hide),this.nestedPopover.hide(),this.nestedPopover.destroy(),this.nestedPopover.getElement().remove(),this.nestedPopover=null,(e=this.flipper)==null||e.activate(this.flippableElements),(t=this.nestedPopoverTriggerItem)==null||t.onChildrenClose())}showNestedPopoverForItem(e){var t;this.nestedPopover=new _y({searchable:e.isChildrenSearchable,items:e.children,nestingLevel:this.nestingLevel+1,flippable:e.isChildrenFlippable,messages:this.messages}),e.onChildrenOpen(),this.nestedPopover.on(vt.ClosedOnActivate,this.hide);let r=this.nestedPopover.getElement();return this.nodes.popover.appendChild(r),this.setTriggerItemPosition(r,e),r.style.setProperty(vr.NestingLevel,this.nestedPopover.nestingLevel.toString()),this.nestedPopover.show(),(t=this.flipper)==null||t.deactivate(),this.nestedPopover}get shouldOpenBottom(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;let e=this.nodes.popoverContainer.getBoundingClientRect(),t=this.scopeElement.getBoundingClientRect(),r=this.size.height,o=e.top+r,i=e.top-r,s=Math.min(window.innerHeight,t.bottom);return i<t.top||o<=s}get shouldOpenRight(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;let e=this.nodes.popover.getBoundingClientRect(),t=this.scopeElement.getBoundingClientRect(),r=this.size.width,o=e.right+r,i=e.left-r,s=Math.min(window.innerWidth,t.right);return i<t.left||o<=s}get size(){var e;let t={height:0,width:0};if(this.nodes.popover===null)return t;let r=this.nodes.popover.cloneNode(!0);r.style.visibility="hidden",r.style.position="absolute",r.style.top="-1000px",r.classList.add(le.popoverOpened),(e=r.querySelector("."+le.popoverNested))==null||e.remove(),document.body.appendChild(r);let o=r.querySelector("."+le.popoverContainer);return t.height=o.offsetHeight,t.width=o.offsetWidth,r.remove(),t}get flippableElements(){return this.items.map(e=>{if(e instanceof _t)return e.getElement();if(e instanceof Cn)return e.getControls()}).flat().filter(e=>e!=null)}addSearch(){this.search=new zu({items:this.itemsDefault,placeholder:this.messages.search}),this.search.on(Cs.Search,this.onSearch);let e=this.search.getElement();e.classList.add(le.search),this.nodes.popoverContainer.insertBefore(e,this.nodes.popoverContainer.firstChild)}toggleNothingFoundMessage(e){this.nodes.nothingFoundMessage.classList.toggle(le.nothingFoundMessageDisplayed,e)}};iS([wr],My.prototype,"size",1);var Cd=My,Wu=class extends Cd{constructor(e){let t=!Cr();super(L(v({},e),{class:le.popoverInline}),{[ie.Default]:{wrapperTag:"button",hint:{position:"top",alignment:"center",enabled:t}},[ie.Html]:{hint:{position:"top",alignment:"center",enabled:t}}}),this.items.forEach(r=>{!(r instanceof _t)&&!(r instanceof Cn)||r.hasChildren&&r.isChildrenOpen&&this.showNestedItems(r)})}get offsetLeft(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetLeft}show(){this.nestingLevel===0&&this.nodes.popover.style.setProperty(vr.InlinePopoverWidth,this.size.width+"px"),super.show()}handleHover(){}setTriggerItemPosition(e,t){let r=t.getElement(),o=r?r.offsetLeft:0,i=this.offsetLeft+o;e.style.setProperty(vr.TriggerItemLeft,i+"px")}showNestedItems(e){if(this.nestedPopoverTriggerItem===e){this.destroyNestedPopoverIfExists(),this.nestedPopoverTriggerItem=null;return}super.showNestedItems(e)}showNestedPopoverForItem(e){let t=super.showNestedPopoverForItem(e);return t.getElement().classList.add(le.getPopoverNestedClass(t.nestingLevel)),t}handleItemClick(e){var t;e!==this.nestedPopoverTriggerItem&&((t=this.nestedPopoverTriggerItem)==null||t.handleClick(),super.destroyNestedPopoverIfExists()),super.handleItemClick(e)}},sS=(()=>{let n=class wo{constructor(){this.scrollPosition=null}lock(){Eu?this.lockHard():document.body.classList.add(wo.CSS.scrollLocked)}unlock(){Eu?this.unlockHard():document.body.classList.remove(wo.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(wo.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(wo.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};return n.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"},n})(),aS=sS,vu=Wt("ce-popover-header"),yu={root:vu(),text:vu("text"),backButton:vu("back-button")},qu=class{constructor({text:e,onBackButtonClick:t}){this.listeners=new wn,this.text=e,this.onBackButtonClick=t,this.nodes={root:g.make("div",[yu.root]),backButton:g.make("button",[yu.backButton]),text:g.make("div",[yu.text])},this.nodes.backButton.innerHTML=z1,this.nodes.root.appendChild(this.nodes.backButton),this.listeners.on(this.nodes.backButton,"click",this.onBackButtonClick),this.nodes.text.innerText=this.text,this.nodes.root.appendChild(this.nodes.text)}getElement(){return this.nodes.root}destroy(){this.nodes.root.remove(),this.listeners.destroy()}},Gu=class{constructor(){this.history=[]}push(e){this.history.push(e)}pop(){return this.history.pop()}get currentTitle(){return this.history.length===0?"":this.history[this.history.length-1].title}get currentItems(){return this.history.length===0?[]:this.history[this.history.length-1].items}reset(){for(;this.history.length>1;)this.pop()}},Es=class extends ws{constructor(e){super(e,{[ie.Default]:{hint:{enabled:!1}},[ie.Html]:{hint:{enabled:!1}}}),this.scrollLocker=new aS,this.history=new Gu,this.isHidden=!0,this.nodes.overlay=g.make("div",[le.overlay,le.overlayHidden]),this.nodes.popover.insertBefore(this.nodes.overlay,this.nodes.popover.firstChild),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.history.push({items:e.items})}show(){this.nodes.overlay.classList.remove(le.overlayHidden),super.show(),this.scrollLocker.lock(),this.isHidden=!1}hide(){this.isHidden||(super.hide(),this.nodes.overlay.classList.add(le.overlayHidden),this.scrollLocker.unlock(),this.history.reset(),this.isHidden=!0)}destroy(){super.destroy(),this.scrollLocker.unlock()}showNestedItems(e){this.updateItemsAndHeader(e.children,e.title),this.history.push({title:e.title,items:e.children})}updateItemsAndHeader(e,t){if(this.header!==null&&this.header!==void 0&&(this.header.destroy(),this.header=null),t!==void 0){this.header=new qu({text:t,onBackButtonClick:()=>{this.history.pop(),this.updateItemsAndHeader(this.history.currentItems,this.history.currentTitle)}});let r=this.header.getElement();r!==null&&this.nodes.popoverContainer.insertBefore(r,this.nodes.popoverContainer.firstChild)}this.items.forEach(r=>{var o;return(o=r.getElement())==null?void 0:o.remove()}),this.items=this.buildItems(e),this.items.forEach(r=>{var o;let i=r.getElement();i!==null&&((o=this.nodes.items)==null||o.appendChild(i))})}},Zu=class extends H{constructor(){super(...arguments),this.opened=!1,this.selection=new k,this.popover=null,this.close=()=>{this.opened&&(this.opened=!1,k.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(vt.Closed,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null))},this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;if(this.popover!==null)return"flipper"in this.popover?(e=this.popover)==null?void 0:e.flipper:void 0}make(){this.nodes.wrapper=g.make("div",[this.CSS.settings]),this.eventsDispatcher.on(Eo,this.close)}destroy(){this.removeAllNodes(),this.listeners.destroy(),this.eventsDispatcher.off(Eo,this.close)}open(){return C(this,arguments,function*(e=this.Editor.BlockManager.currentBlock){var t;this.opened=!0,this.selection.save(),this.Editor.BlockSelection.selectBlock(e),this.Editor.BlockSelection.clearCache();let{toolTunes:r,commonTunes:o}=e.getTunes();this.eventsDispatcher.emit(this.events.opened);let i=Cr()?Es:Cd;this.popover=new i({searchable:!0,items:yield this.getTunesItems(e,o,r),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:Se.ui(je.ui.popover,"Nothing found"),search:Se.ui(je.ui.popover,"Filter")}}),this.popover.on(vt.Closed,this.onPopoverClose),(t=this.nodes.wrapper)==null||t.append(this.popover.getElement()),this.popover.show()})}getElement(){return this.nodes.wrapper}getTunesItems(e,t,r){return C(this,null,function*(){let o=[];r!==void 0&&r.length>0&&(o.push(...r),o.push({type:ie.Separator}));let i=Array.from(this.Editor.Tools.blockTools.values()),s=(yield xy(e,i)).reduce((a,l)=>(l.toolbox.forEach(c=>{a.push({icon:c.icon,title:Se.t(je.toolNames,c.title),name:l.name,closeOnActivate:!0,onActivate:()=>C(this,null,function*(){let{BlockManager:u,Caret:d,Toolbar:f}=this.Editor,h=yield u.convert(e,l.name,c.data);f.close(),d.setToBlock(h,d.positions.END)})})}),a),[]);return s.length>0&&(o.push({icon:Ty,name:"convert-to",title:Se.ui(je.ui.popover,"Convert to"),children:{searchable:!0,items:s}}),o.push({type:ie.Separator})),o.push(...t),o.map(a=>this.resolveTuneAliases(a))})}resolveTuneAliases(e){if(e.type===ie.Separator||e.type===ie.Html)return e;let t=H1(e,{label:"title"});return e.confirmation&&(t.confirmation=this.resolveTuneAliases(e.confirmation)),t}},Ny={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(window,function(){return function(t){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=t,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,function(c){return i[c]}.bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=0)}([function(t,r,o){function i(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function s(l,c,u){return c&&i(l.prototype,c),u&&i(l,u),l}o.r(r);var a=function(){function l(c){var u=this;(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,l),this.commands={},this.keys={},this.name=c.name,this.parseShortcutName(c.name),this.element=c.on,this.callback=c.callback,this.executeShortcut=function(d){u.execute(d)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return s(l,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),s(l,[{key:"parseShortcutName",value:function(c){c=c.split("+");for(var u=0;u<c.length;u++){c[u]=c[u].toUpperCase();var d=!1;for(var f in l.supportedCommands)if(l.supportedCommands[f].includes(c[u])){d=this.commands[f]=!0;break}d||(this.keys[c[u]]=!0)}for(var h in l.supportedCommands)this.commands[h]||(this.commands[h]=!1)}},{key:"execute",value:function(c){var u,d={CMD:c.ctrlKey||c.metaKey,SHIFT:c.shiftKey,ALT:c.altKey},f=!0;for(u in this.commands)this.commands[u]!==d[u]&&(f=!1);var h,p=!0;for(h in this.keys)p=p&&c.keyCode===l.keyCodes[h];f&&p&&this.callback(c)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),l}();r.default=a}]).default})})(Ny);var lS=Ny.exports,cS=Ds(lS),Yu=class{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);let t=new cS({name:e.name,on:e.on,callback:e.handler}),r=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...r,t])}remove(e,t){let r=this.findShortcut(e,t);if(!r)return;r.remove();let o=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,o.filter(i=>i!==r))}findShortcut(e,t){return(this.registeredShortcuts.get(e)||[]).find(({name:r})=>r===t)}},br=new Yu,uS=Object.defineProperty,dS=Object.getOwnPropertyDescriptor,Ay=(n,e,t,r)=>{for(var o=r>1?void 0:r?dS(e,t):e,i=n.length-1,s;i>=0;i--)(s=n[i])&&(o=(r?s(e,t,o):s(o))||o);return r&&o&&uS(e,t,o),o},cs=(n=>(n.Opened="toolbox-opened",n.Closed="toolbox-closed",n.BlockAdded="toolbox-block-added",n))(cs||{}),Ed=class Oy extends bn{constructor({api:e,tools:t,i18nLabels:r}){super(),this.opened=!1,this.listeners=new wn,this.popover=null,this.handleMobileLayoutToggle=()=>{this.destroyPopover(),this.initPopover()},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=e,this.tools=t,this.i18nLabels=r,this.enableShortcuts(),this.nodes={toolbox:g.make("div",Oy.CSS.toolbox)},this.initPopover(),this.api.events.on(Eo,this.handleMobileLayoutToggle)}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}getElement(){return this.nodes.toolbox}hasFocus(){if(this.popover!==null)return"hasFocus"in this.popover?this.popover.hasFocus():void 0}destroy(){var e;super.destroy(),this.nodes&&this.nodes.toolbox&&this.nodes.toolbox.remove(),this.removeAllShortcuts(),(e=this.popover)==null||e.off(vt.Closed,this.onPopoverClose),this.listeners.destroy(),this.api.events.off(Eo,this.handleMobileLayoutToggle)}toolButtonActivated(e,t){this.insertNewBlock(e,t)}open(){var e;this.isEmpty||((e=this.popover)==null||e.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var e;(e=this.popover)==null||e.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}initPopover(){var e;let t=Cr()?Es:Cd;this.popover=new t({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(vt.Closed,this.onPopoverClose),(e=this.nodes.toolbox)==null||e.append(this.popover.getElement())}destroyPopover(){this.popover!==null&&(this.popover.hide(),this.popover.off(vt.Closed,this.onPopoverClose),this.popover.destroy(),this.popover=null),this.nodes.toolbox!==null&&(this.nodes.toolbox.innerHTML="")}get toolsToBeDisplayed(){let e=[];return this.tools.forEach(t=>{t.toolbox&&e.push(t)}),e}get toolboxItemsToBeDisplayed(){let e=(t,r)=>({icon:t.icon,title:Se.t(je.toolNames,t.title||ps(r.name)),name:r.name,onActivate:()=>{this.toolButtonActivated(r.name,t.data)},secondaryLabel:r.shortcut?vd(r.shortcut):""});return this.toolsToBeDisplayed.reduce((t,r)=>(Array.isArray(r.toolbox)?r.toolbox.forEach(o=>{t.push(e(o,r))}):r.toolbox!==void 0&&t.push(e(r.toolbox,r)),t),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(e=>{let t=e.shortcut;t&&this.enableShortcutForTool(e.name,t)})}enableShortcutForTool(e,t){br.add({name:t,on:this.api.ui.nodes.redactor,handler:r=>C(this,null,function*(){r.preventDefault();let o=this.api.blocks.getCurrentBlockIndex(),i=this.api.blocks.getBlockByIndex(o);if(i)try{let s=yield this.api.blocks.convert(i.id,e);this.api.caret.setToBlock(s,"end");return}catch{}this.insertNewBlock(e)})})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(e=>{let t=e.shortcut;t&&br.remove(this.api.ui.nodes.redactor,t)})}insertNewBlock(e,t){return C(this,null,function*(){let r=this.api.blocks.getCurrentBlockIndex(),o=this.api.blocks.getBlockByIndex(r);if(!o)return;let i=o.isEmpty?r:r+1,s;if(t){let l=yield this.api.blocks.composeBlockData(e);s=Object.assign(l,t)}let a=this.api.blocks.insert(e,s,void 0,i,void 0,o.isEmpty);a.call(Mt.APPEND_CALLBACK),this.api.caret.setToBlock(i),this.emit("toolbox-block-added",{block:a}),this.api.toolbar.close()})}};Ay([wr],Ed.prototype,"toolsToBeDisplayed",1);Ay([wr],Ed.prototype,"toolboxItemsToBeDisplayed",1);var fS=Ed,Ry="block hovered";function hS(n,e){return C(this,null,function*(){let t=navigator.keyboard;if(!t)return e;try{return(yield t.getLayoutMap()).get(n)||e}catch(r){return console.error(r),e}})}var Ku=class extends H{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.toolboxInstance=null}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var e;return{opened:(e=this.toolboxInstance)==null?void 0:e.opened,close:()=>{var t;(t=this.toolboxInstance)==null||t.close()},open:()=>{if(this.toolboxInstance===null){Q("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){Q("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var t;return(t=this.toolboxInstance)==null?void 0:t.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){Q("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;let t=e.holder,{isMobile:r}=this.Editor.UI,o,i=20,s=e.firstInput,a=t.getBoundingClientRect(),l=s!==void 0?s.getBoundingClientRect():null,c=l!==null?l.top-a.top:null,u=c!==null?c>i:void 0;if(r)o=t.offsetTop+t.offsetHeight;else if(s===void 0||u){let d=parseInt(window.getComputedStyle(e.pluginsContent).paddingTop);o=t.offsetTop+d}else{let d=w1(s),f=parseInt(window.getComputedStyle(this.nodes.plusButton).height,10);o=t.offsetTop+d-f+8+c}this.nodes.wrapper.style.top=`${Math.floor(o)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var e,t;this.Editor.ReadOnly.isEnabled||((e=this.nodes.wrapper)==null||e.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(t=this.toolboxInstance)==null||t.close(),this.Editor.BlockSettings.close(),this.reset())}reset(){this.nodes.wrapper.style.top="unset"}open(e=!0){this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()}make(){return C(this,null,function*(){this.nodes.wrapper=g.make("div",this.CSS.toolbar),["content","actions"].forEach(i=>{this.nodes[i]=g.make("div",this.CSS[i])}),g.append(this.nodes.wrapper,this.nodes.content),g.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=g.make("div",this.CSS.plusButton,{innerHTML:Q1}),g.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{vs(!0),this.plusButtonClicked()},!1);let e=g.make("div");e.appendChild(document.createTextNode(Se.ui(je.ui.toolbar.toolbox,"Add"))),e.appendChild(g.make("div",this.CSS.plusButtonShortcut,{textContent:"/"})),ys(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=g.make("span",this.CSS.settingsToggler,{innerHTML:K1}),g.append(this.nodes.actions,this.nodes.settingsToggler);let t=g.make("div"),r=g.text(Se.ui(je.ui.blockTunes.toggler,"Click to tune")),o=yield hS("Slash","/");t.appendChild(r),t.appendChild(g.make("div",this.CSS.plusButtonShortcut,{textContent:vd(`CMD + ${o}`)})),ys(this.nodes.settingsToggler,t,{hidingDelay:400}),g.append(this.nodes.actions,this.makeToolbox()),g.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),g.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)})}makeToolbox(){return this.toolboxInstance=new fS({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:Se.ui(je.ui.popover,"Filter"),nothingFound:Se.ui(je.ui.popover,"Nothing found")}}),this.toolboxInstance.on(cs.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(cs.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(cs.BlockAdded,({block:e})=>{let{BlockManager:t,Caret:r}=this.Editor,o=t.getBlockById(e.id);o.inputs.length===0&&(o===t.lastBlock?(t.insertAtEnd(),r.setToBlock(t.lastBlock)):r.setToBlock(t.nextBlock))}),this.toolboxInstance.getElement()}plusButtonClicked(){var e;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(e=this.toolboxInstance)==null||e.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{var t;e.stopPropagation(),this.settingsTogglerClicked(),(t=this.toolboxInstance)!=null&&t.opened&&this.toolboxInstance.close(),vs(!0)},!0),Cr()||this.eventsDispatcher.on(Ry,e=>{var t;this.Editor.BlockSettings.opened||(t=this.toolboxInstance)!=null&&t.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy()}},vn=(n=>(n[n.Block=0]="Block",n[n.Inline=1]="Inline",n[n.Tune=2]="Tune",n))(vn||{}),us=(n=>(n.Shortcut="shortcut",n.Toolbox="toolbox",n.EnabledInlineTools="inlineToolbar",n.EnabledBlockTunes="tunes",n.Config="config",n))(us||{}),Ly=(n=>(n.Shortcut="shortcut",n.SanitizeConfig="sanitize",n))(Ly||{}),mr=(n=>(n.IsEnabledLineBreaks="enableLineBreaks",n.Toolbox="toolbox",n.ConversionConfig="conversionConfig",n.IsReadOnlySupported="isReadOnlySupported",n.PasteConfig="pasteConfig",n))(mr||{}),xd=(n=>(n.IsInline="isInline",n.Title="title",n))(xd||{}),Qu=(n=>(n.IsTune="isTune",n))(Qu||{}),ko=class{constructor({name:e,constructable:t,config:r,api:o,isDefault:i,isInternal:s=!1,defaultPlaceholder:a}){this.api=o,this.name=e,this.constructable=t,this.config=r,this.isDefault=i,this.isInternal=s,this.defaultPlaceholder=a}get settings(){let e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(se(this.constructable.reset))return this.constructable.reset()}prepare(){if(se(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){let e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===vn.Inline}isBlock(){return this.type===vn.Block}isTune(){return this.type===vn.Tune}},Xu=class extends H{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.CSS={inlineToolbar:"ce-inline-toolbar"},this.opened=!1,this.popover=null,this.toolbarVerticalMargin=Cr()?20:6,this.toolsInstances=new Map}toggleReadOnly(e){e?this.destroy():window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}tryToShow(e=!1){return C(this,null,function*(){e&&this.close(),this.allowedToShow()&&(yield this.open(),this.Editor.Toolbar.close())})}close(){var e,t;this.opened&&(this.Editor.ReadOnly.isEnabled||(Array.from(this.toolsInstances.entries()).forEach(([r,o])=>{let i=this.getToolShortcut(r);i&&br.remove(this.Editor.UI.nodes.redactor,i),se(o.clear)&&o.clear()}),this.toolsInstances=null,this.reset(),this.opened=!1,(e=this.popover)==null||e.hide(),(t=this.popover)==null||t.destroy(),this.popover=null))}containsNode(e){return this.nodes.wrapper===void 0?!1:this.nodes.wrapper.contains(e)}destroy(){var e;this.removeAllNodes(),(e=this.popover)==null||e.destroy(),this.popover=null}make(){this.nodes.wrapper=g.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),g.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}open(){return C(this,null,function*(){var e;if(this.opened)return;this.opened=!0,this.popover!==null&&this.popover.destroy();let t=yield this.getInlineTools();this.popover=new Wu({items:t,scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:Se.ui(je.ui.popover,"Nothing found"),search:Se.ui(je.ui.popover,"Filter")}}),this.move(this.popover.size.width),(e=this.nodes.wrapper)==null||e.append(this.popover.getElement()),this.popover.show()})}move(e){let t=k.rect,r=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),o={x:t.x-r.x,y:t.y+t.height-r.top+this.toolbarVerticalMargin};o.x+e+r.x>this.Editor.UI.contentRect.right&&(o.x=this.Editor.UI.contentRect.right-e-r.x),this.nodes.wrapper.style.left=Math.floor(o.x)+"px",this.nodes.wrapper.style.top=Math.floor(o.y)+"px"}reset(){this.nodes.wrapper.style.left="0",this.nodes.wrapper.style.top="0"}allowedToShow(){let e=["IMG","INPUT"],t=k.get(),r=k.text;if(!t||!t.anchorNode||t.isCollapsed||r.length<1)return!1;let o=g.isElement(t.anchorNode)?t.anchorNode:t.anchorNode.parentElement;if(o===null||t&&e.includes(o.tagName)||o.closest('[contenteditable="true"]')===null)return!1;let i=this.Editor.BlockManager.getBlock(t.anchorNode);return i?i.tool.inlineTools.size!==0:!1}getInlineTools(){return C(this,null,function*(){let e=k.get(),t=this.Editor.BlockManager.getBlock(e.anchorNode),r=Array.from(t.tool.inlineTools.values()),o=[];this.toolsInstances===null&&(this.toolsInstances=new Map);for(let i=0;i<r.length;i++){let s=r[i],a=s.create(),l=yield a.render();this.toolsInstances.set(s.name,a);let c=this.getToolShortcut(s.name);if(c)try{this.enableShortcuts(s.name,c)}catch{}let u=c!==void 0?vd(c):void 0,d=Se.t(je.toolNames,s.title||ps(s.name));[l].flat().forEach(f=>{var h,p;let m={name:s.name,onActivate:()=>{this.toolClicked(a)},hint:{title:d,description:u}};if(g.isElement(f)){let w=L(v({},m),{element:f,type:ie.Html});if(se(a.renderActions)){let x=a.renderActions();w.children={isOpen:(h=a.checkState)==null?void 0:h.call(a,k.get()),isFlippable:!1,items:[{type:ie.Html,element:x}]}}else(p=a.checkState)==null||p.call(a,k.get());o.push(w)}else if(f.type===ie.Html)o.push(L(v(v({},m),f),{type:ie.Html}));else if(f.type===ie.Separator)o.push({type:ie.Separator});else{let w=L(v(v({},m),f),{type:ie.Default});"children"in w&&i!==0&&o.push({type:ie.Separator}),o.push(w),"children"in w&&i<r.length-1&&o.push({type:ie.Separator})}})}return o})}getToolShortcut(e){let{Tools:t}=this.Editor,r=t.inlineTools.get(e),o=t.internal.inlineTools;return Array.from(o.keys()).includes(e)?this.inlineTools[e][Ly.Shortcut]:r?.shortcut}enableShortcuts(e,t){br.add({name:t,handler:r=>{var o;let{currentBlock:i}=this.Editor.BlockManager;i&&i.tool.enabledInlineTools&&(r.preventDefault(),(o=this.popover)==null||o.activateItemByName(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){var t;let r=k.range;(t=e.surround)==null||t.call(e,r),this.checkToolsState()}checkToolsState(){var e;(e=this.toolsInstances)==null||e.forEach(t=>{var r;(r=t.checkState)==null||r.call(t,k.get())})}get inlineTools(){let e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([t,r])=>{e[t]=r.create()}),e}};function Py(){let n=window.getSelection();if(n===null)return[null,0];let e=n.focusNode,t=n.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[t]?(e=e.childNodes[t],t=0):(e=e.childNodes[t-1],t=e.textContent.length)),[e,t])}function By(n,e,t,r){let o=document.createRange();r==="left"?(o.setStart(n,0),o.setEnd(e,t)):(o.setStart(e,t),o.setEnd(n,n.childNodes.length));let i=o.cloneContents(),s=document.createElement("div");s.appendChild(i);let a=s.textContent||"";return b1(a)}function ds(n){let e=g.getDeepestNode(n);if(e===null||g.isEmpty(n))return!0;if(g.isNativeInput(e))return e.selectionEnd===0;if(g.isEmpty(n))return!0;let[t,r]=Py();return t===null?!1:By(n,t,r,"left")}function fs(n){let e=g.getDeepestNode(n,!0);if(e===null)return!0;if(g.isNativeInput(e))return e.selectionEnd===e.value.length;let[t,r]=Py();return t===null?!1:By(n,t,r,"right")}var Ju=class extends H{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case I.BACKSPACE:this.backspace(e);break;case I.DELETE:this.delete(e);break;case I.ENTER:this.enter(e);break;case I.DOWN:case I.RIGHT:this.arrowRightAndDown(e);break;case I.UP:case I.LEFT:this.arrowLeftAndUp(e);break;case I.TAB:this.tabPressed(e);break}e.key==="/"&&!e.ctrlKey&&!e.metaKey&&this.slashPressed(e),e.code==="Slash"&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.commandSlashPressed())}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&hy(e.keyCode)&&(this.Editor.Toolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||this.Editor.BlockSelection.clearSelection(e))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}dragOver(e){let t=this.Editor.BlockManager.getBlockByChildNode(e.target);t.dropTarget=!0}dragLeave(e){let t=this.Editor.BlockManager.getBlockByChildNode(e.target);t.dropTarget=!1}handleCommandC(e){let{BlockSelection:t}=this.Editor;t.anyBlockSelected&&t.copySelectedBlocks(e)}handleCommandX(e){let{BlockSelection:t,BlockManager:r,Caret:o}=this.Editor;t.anyBlockSelected&&t.copySelectedBlocks(e).then(()=>{let i=r.removeSelectedBlocks(),s=r.insertDefaultBlockAtIndex(i,!0);o.setToBlock(s,o.positions.START),t.clearSelection(e)})}tabPressed(e){let{InlineToolbar:t,Caret:r}=this.Editor;t.opened||(e.shiftKey?r.navigatePrevious(!0):r.navigateNext(!0))&&e.preventDefault()}commandSlashPressed(){this.Editor.BlockSelection.selectedBlocks.length>1||this.activateBlockSettings()}slashPressed(e){this.Editor.BlockManager.currentBlock.isEmpty&&(e.preventDefault(),this.Editor.Caret.insertContentAtCaretPosition("/"),this.activateToolbox())}enter(e){let{BlockManager:t,UI:r}=this.Editor,o=t.currentBlock;if(o===void 0||o.tool.isLineBreaksEnabled||r.someToolbarOpened&&r.someFlipperButtonFocused||e.shiftKey&&!Eu)return;let i=o;o.currentInput!==void 0&&ds(o.currentInput)&&!o.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):o.currentInput&&fs(o.currentInput)?i=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):i=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(i),this.Editor.Toolbar.moveAndOpen(i),e.preventDefault()}backspace(e){let{BlockManager:t,Caret:r}=this.Editor,{currentBlock:o,previousBlock:i}=t;if(!(o===void 0||!k.isCollapsed||!o.currentInput||!ds(o.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),o.currentInput!==o.firstInput){r.navigatePrevious();return}if(i!==null){if(i.isEmpty){t.removeBlock(i);return}if(o.isEmpty){t.removeBlock(o);let s=t.currentBlock;r.setToBlock(s,r.positions.END);return}oy(i,o)?this.mergeBlocks(i,o):r.setToBlock(i,r.positions.END)}}}delete(e){let{BlockManager:t,Caret:r}=this.Editor,{currentBlock:o,nextBlock:i}=t;if(!(!k.isCollapsed||!fs(o.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),o.currentInput!==o.lastInput){r.navigateNext();return}if(i!==null){if(i.isEmpty){t.removeBlock(i);return}if(o.isEmpty){t.removeBlock(o),r.setToBlock(i,r.positions.START);return}oy(o,i)?this.mergeBlocks(o,i):r.setToBlock(i,r.positions.START)}}}mergeBlocks(e,t){let{BlockManager:r,Caret:o,Toolbar:i}=this.Editor;o.createShadow(e.lastInput),r.mergeBlocks(e,t).then(()=>{o.restoreCaret(e.pluginsContent),i.close()})}arrowRightAndDown(e){let t=yr.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===I.TAB);if(this.Editor.UI.someToolbarOpened&&t)return;this.Editor.Toolbar.close();let{currentBlock:r}=this.Editor.BlockManager,o=(r?.currentInput!==void 0?fs(r.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===I.DOWN&&o){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}if(e.keyCode===I.DOWN||e.keyCode===I.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious()){e.preventDefault();return}hs(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(yr.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===I.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.Toolbar.close();let{currentBlock:t}=this.Editor.BlockManager,r=(t?.currentInput!==void 0?ds(t.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===I.UP&&r){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}if(e.keyCode===I.UP||e.keyCode===I.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext()){e.preventDefault();return}hs(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){let t=e.keyCode===I.ENTER&&this.Editor.Toolbar.toolbox.opened,r=e.keyCode===I.ENTER&&this.Editor.BlockSettings.opened,o=e.keyCode===I.ENTER&&this.Editor.InlineToolbar.opened,i=e.keyCode===I.TAB;return!(e.shiftKey||i||t||r||o)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}},Co=class{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return py(this.workingArea.children)}static set(e,t,r){return isNaN(Number(t))?(Reflect.set(e,t,r),!0):(e.insert(+t,r),!0)}static get(e,t){return isNaN(Number(t))?Reflect.get(e,t):e.get(+t)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,t){let r=this.blocks[t];g.swap(this.blocks[e].holder,r.holder),this.blocks[t]=this.blocks[e],this.blocks[e]=r}move(e,t){let r=this.blocks.splice(t,1)[0],o=e-1,i=Math.max(0,o),s=this.blocks[i];e>0?this.insertToDOM(r,"afterend",s):this.insertToDOM(r,"beforebegin",s),this.blocks.splice(e,0,r);let a=this.composeBlockEvent("move",{fromIndex:t,toIndex:e});r.call(Mt.MOVED,a)}insert(e,t,r=!1){if(!this.length){this.push(t);return}e>this.length&&(e=this.length),r&&(this.blocks[e].holder.remove(),this.blocks[e].call(Mt.REMOVED));let o=r?1:0;if(this.blocks.splice(e,o,t),e>0){let i=this.blocks[e-1];this.insertToDOM(t,"afterend",i)}else{let i=this.blocks[e+1];i?this.insertToDOM(t,"beforebegin",i):this.insertToDOM(t)}}replace(e,t){if(this.blocks[e]===void 0)throw Error("Incorrect index");this.blocks[e].holder.replaceWith(t.holder),this.blocks[e]=t}insertMany(e,t){let r=new DocumentFragment;for(let o of e)r.appendChild(o.holder);if(this.length>0){if(t>0){let o=Math.min(t-1,this.length-1);this.blocks[o].holder.after(r)}else t===0&&this.workingArea.prepend(r);this.blocks.splice(t,0,...e)}else this.blocks.push(...e),this.workingArea.appendChild(r);e.forEach(o=>o.call(Mt.RENDERED))}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(Mt.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(Mt.REMOVED)),this.blocks.length=0}insertAfter(e,t){let r=this.blocks.indexOf(e);this.insert(r+1,t)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,t,r){t?r.holder.insertAdjacentElement(t,e.holder):this.workingArea.appendChild(e.holder),e.call(Mt.RENDERED)}composeBlockEvent(e,t){return new CustomEvent(e,{detail:t})}},cy="block-removed",uy="block-added",pS="block-moved",dy="block-changed",ed=class{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((t,r)=>{this.completed=this.completed.then(e).then(t).catch(r)})}},td=class extends H{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){let e=new Co(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:Co.set,get:Co.get}),this.listeners.on(document,"copy",t=>this.Editor.BlockEvents.handleCommandC(t))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:t={},id:r=void 0,tunes:o={}}){let i=this.Editor.ReadOnly.isEnabled,s=this.Editor.Tools.blockTools.get(e),a=new st({id:r,data:t,tool:s,api:this.Editor.API,readOnly:i,tunesData:o},this.eventsDispatcher);return i||window.requestIdleCallback(()=>{this.bindBlockEvents(a)},{timeout:2e3}),a}insert({id:e=void 0,tool:t=this.config.defaultBlock,data:r={},index:o,needToFocus:i=!0,replace:s=!1,tunes:a={}}={}){let l=o;l===void 0&&(l=this.currentBlockIndex+(s?0:1));let c=this.composeBlock({id:e,tool:t,data:r,tunes:a});return s&&this.blockDidMutated(cy,this.getBlockByIndex(l),{index:l}),this._blocks.insert(l,c,s),this.blockDidMutated(uy,c,{index:l}),i?this.currentBlockIndex=l:l<=this.currentBlockIndex&&this.currentBlockIndex++,c}insertMany(e,t=0){this._blocks.insertMany(e,t)}update(e,t,r){return C(this,null,function*(){if(!t&&!r)return e;let o=yield e.data,i=this.composeBlock({id:e.id,tool:e.name,data:Object.assign({},o,t??{}),tunes:r??e.tunes}),s=this.getBlockIndex(e);return this._blocks.replace(s,i),this.blockDidMutated(dy,i,{index:s}),i})}replace(e,t,r){let o=this.getBlockIndex(e);return this.insert({tool:t,data:r,index:o,replace:!0})}paste(e,t,r=!1){let o=this.insert({tool:e,replace:r});try{window.requestIdleCallback(()=>{o.call(Mt.ON_PASTE,t)})}catch(i){Q(`${e}: onPaste callback call is failed`,"error",i)}return o}insertDefaultBlockAtIndex(e,t=!1){let r=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=r,this.blockDidMutated(uy,r,{index:e}),t?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,r}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}mergeBlocks(e,t){return C(this,null,function*(){let r;if(e.name===t.name&&e.mergeable){let o=yield t.data;if(Ye(o)){console.error("Could not merge Block. Failed to extract original Block data.");return}let[i]=yd([o],e.tool.sanitizeConfig);r=i}else if(e.mergeable&&ms(t,"export")&&ms(e,"import")){let o=yield t.exportDataAsString(),i=mt(o,e.tool.sanitizeConfig);r=iy(i,e.tool.conversionConfig)}r!==void 0&&(yield e.mergeWith(r),this.removeBlock(t),this.currentBlockIndex=this._blocks.indexOf(e))})}removeBlock(e,t=!0){return new Promise(r=>{let o=this._blocks.indexOf(e);if(!this.validateIndex(o))throw new Error("Can't find a Block to remove");e.destroy(),this._blocks.remove(o),this.blockDidMutated(cy,e,{index:o}),this.currentBlockIndex>=o&&this.currentBlockIndex--,this.blocks.length?o===0&&(this.currentBlockIndex=0):(this.unsetCurrentBlock(),t&&this.insert()),r()})}removeSelectedBlocks(){let e;for(let t=this.blocks.length-1;t>=0;t--)this.blocks[t].selected&&(this.removeBlock(this.blocks[t]),e=t);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.unsetCurrentBlock(),this.insert(),this.currentBlock.firstInput.focus()}split(){let e=this.Editor.Caret.extractFragmentFromCaretPosition(),t=g.make("div");t.appendChild(e);let r={text:g.isEmpty(t)?"":t.innerHTML};return this.insert({data:r})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(t=>t.id===e)}getBlock(e){g.isElement(e)||(e=e.parentNode);let t=this._blocks.nodes,r=e.closest(`.${st.CSS.wrapper}`),o=t.indexOf(r);if(o>=0)return this._blocks[o]}setCurrentBlockByChildNode(e){g.isElement(e)||(e=e.parentNode);let t=e.closest(`.${st.CSS.wrapper}`);if(!t)return;let r=t.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(r!=null&&r.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(t),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){if(!e||!(e instanceof Node))return;g.isElement(e)||(e=e.parentNode);let t=e.closest(`.${st.CSS.wrapper}`);return this.blocks.find(r=>r.holder===t)}swap(e,t){this._blocks.swap(e,t),this.currentBlockIndex=t}move(e,t=this.currentBlockIndex){if(isNaN(e)||isNaN(t)){Q("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(t)){Q("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,t),this.currentBlockIndex=e,this.blockDidMutated(pS,this.currentBlock,{fromIndex:t,toIndex:e})}convert(e,t,r){return C(this,null,function*(){if(!(yield e.save()))throw new Error("Could not convert Block. Failed to extract original Block data.");let o=this.Editor.Tools.blockTools.get(t);if(!o)throw new Error(`Could not convert Block. Tool \xAB${t}\xBB not found.`);let i=yield e.exportDataAsString(),s=mt(i,o.sanitizeConfig),a=iy(s,o.conversionConfig);return r&&(a=Object.assign(a,r)),this.replace(e,o.name,a)})}unsetCurrentBlock(){this.currentBlockIndex=-1}clear(e=!1){return C(this,null,function*(){let t=new ed;this.blocks.forEach(r=>{t.add(()=>C(this,null,function*(){yield this.removeBlock(r,!1)}))}),yield t.completed,this.unsetCurrentBlock(),e&&this.insert(),this.Editor.UI.checkEmptiness()})}destroy(){return C(this,null,function*(){yield Promise.all(this.blocks.map(e=>e.destroy()))})}bindBlockEvents(e){let{BlockEvents:t}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",r=>{t.keydown(r)}),this.readOnlyMutableListeners.on(e.holder,"keyup",r=>{t.keyup(r)}),this.readOnlyMutableListeners.on(e.holder,"dragover",r=>{t.dragOver(r)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",r=>{t.dragLeave(r)}),e.on("didMutated",r=>this.blockDidMutated(dy,r,{index:this.getBlockIndex(r)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,t,r){let o=new CustomEvent(e,{detail:v({target:new Tt(t)},r)});return this.eventsDispatcher.emit(by,{event:o}),t}},nd=class extends H{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){let{BlockManager:e}=this.Editor;return e.blocks.every(t=>t.selected===!0)}set allBlocksSelected(e){let{BlockManager:t}=this.Editor;t.blocks.forEach(r=>{r.selected=e}),this.clearCache()}get anyBlockSelected(){let{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(t=>t.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new k,br.add({name:"CMD+A",handler:e=>{let{BlockManager:t,ReadOnly:r}=this.Editor;if(r.isEnabled){e.preventDefault(),this.selectAllBlocks();return}t.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){k.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){let{BlockManager:t}=this.Editor,r;isNaN(e)?r=t.currentBlock:r=t.getBlockByIndex(e),r.selected=!1,this.clearCache()}clearSelection(e,t=!1){let{BlockManager:r,Caret:o,RectangleSelection:i}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;let s=e&&e instanceof KeyboardEvent,a=s&&hy(e.keyCode);if(this.anyBlockSelected&&s&&a&&!k.isSelectionExists){let l=r.removeSelectedBlocks();r.insertDefaultBlockAtIndex(l,!0),o.setToBlock(r.currentBlock),hs(()=>{let c=e.key;o.insertContentAtCaretPosition(c.length>1?"":c)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||i.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}t&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();let t=g.make("div");this.selectedBlocks.forEach(i=>{let s=mt(i.holder.innerHTML,this.sanitizerConfig),a=g.make("p");a.innerHTML=s,t.appendChild(a)});let r=Array.from(t.childNodes).map(i=>i.textContent).join(`

`),o=t.innerHTML;return e.clipboardData.setData("text/plain",r),e.clipboardData.setData("text/html",o),Promise.all(this.selectedBlocks.map(i=>i.save())).then(i=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(i))}catch{}})}selectBlockByIndex(e){let{BlockManager:t}=this.Editor,r=t.getBlockByIndex(e);r!==void 0&&this.selectBlock(r)}selectBlock(e){this.selection.save(),k.get().removeAllRanges(),e.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}unselectBlock(e){e.selected=!1,this.clearCache()}clearCache(){this.anyBlockSelectedCache=null}destroy(){br.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),g.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}let t=this.Editor.BlockManager.getBlock(e.target),r=t.inputs;if(r.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(r.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlock(t),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),k.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}},rd=class n extends H{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}setToBlock(e,t=this.positions.DEFAULT,r=0){var o;let{BlockManager:i,BlockSelection:s}=this.Editor;if(s.clearSelection(),!e.focusable){(o=window.getSelection())==null||o.removeAllRanges(),s.selectBlock(e),i.currentBlock=e;return}let a;switch(t){case this.positions.START:a=e.firstInput;break;case this.positions.END:a=e.lastInput;break;default:a=e.currentInput}if(!a)return;let l=g.getDeepestNode(a,t===this.positions.END),c=g.getContentLength(l);switch(!0){case t===this.positions.START:r=0;break;case t===this.positions.END:case r>c:r=c;break}this.set(l,r),i.setCurrentBlockByChildNode(e.holder),i.currentBlock.currentInput=a}setToInput(e,t=this.positions.DEFAULT,r=0){let{currentBlock:o}=this.Editor.BlockManager,i=g.getDeepestNode(e);switch(t){case this.positions.START:this.set(i,0);break;case this.positions.END:this.set(i,g.getContentLength(i));break;default:r&&this.set(i,r)}o.currentInput=e}set(e,t=0){let{top:r,bottom:o}=k.setCursor(e,t),{innerHeight:i}=window;r<0?window.scrollBy(0,r-30):o>i&&window.scrollBy(0,o-i+30)}setToTheLastBlock(){let e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{let t=this.Editor.BlockManager.insertAtEnd();this.setToBlock(t)}}extractFragmentFromCaretPosition(){let e=k.get();if(e.rangeCount){let t=e.getRangeAt(0),r=this.Editor.BlockManager.currentBlock.currentInput;if(t.deleteContents(),r)if(g.isNativeInput(r)){let o=r,i=document.createDocumentFragment(),s=o.value.substring(0,o.selectionStart),a=o.value.substring(o.selectionStart);return i.textContent=a,o.value=s,i}else{let o=t.cloneRange();return o.selectNodeContents(r),o.setStart(t.endContainer,t.endOffset),o.extractContents()}}}navigateNext(e=!1){let{BlockManager:t}=this.Editor,{currentBlock:r,nextBlock:o}=t;if(r===void 0)return!1;let{nextInput:i,currentInput:s}=r,a=s!==void 0?fs(s):void 0,l=o,c=e||a||!r.focusable;if(i&&c)return this.setToInput(i,this.positions.START),!0;if(l===null){if(r.tool.isDefault||!c)return!1;l=t.insertAtEnd()}return c?(this.setToBlock(l,this.positions.START),!0):!1}navigatePrevious(e=!1){let{currentBlock:t,previousBlock:r}=this.Editor.BlockManager;if(!t)return!1;let{previousInput:o,currentInput:i}=t,s=i!==void 0?ds(i):void 0,a=e||s||!t.focusable;return o&&a?(this.setToInput(o,this.positions.END),!0):r!==null&&a?(this.setToBlock(r,this.positions.END),!0):!1}createShadow(e){let t=document.createElement("span");t.classList.add(n.CSS.shadowCaret),e.insertAdjacentElement("beforeend",t)}restoreCaret(e){let t=e.querySelector(`.${n.CSS.shadowCaret}`);if(!t)return;new k().expandToTag(t);let r=document.createRange();r.selectNode(t),r.extractContents()}insertContentAtCaretPosition(e){let t=document.createDocumentFragment(),r=document.createElement("div"),o=k.get(),i=k.range;r.innerHTML=e,Array.from(r.childNodes).forEach(c=>t.appendChild(c)),t.childNodes.length===0&&t.appendChild(new Text);let s=t.lastChild;i.deleteContents(),i.insertNode(t);let a=document.createRange(),l=s.nodeType===Node.TEXT_NODE?s:s.firstChild;l!==null&&l.textContent!==null&&a.setStart(l,l.textContent.length),o.removeAllRanges(),o.addRange(a)}},od=class extends H{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{let{BlockManager:t,BlockSelection:r}=this.Editor;if(e.relatedTarget===null&&e.target===null)return;let o=t.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,i=t.getBlockByChildNode(e.target);if(!(!o||!i)&&i!==o){if(o===this.firstSelectedBlock){k.get().removeAllRanges(),o.selected=!0,i.selected=!0,r.clearCache();return}if(i===this.firstSelectedBlock){o.selected=!1,i.selected=!1,r.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(o,i),this.lastSelectedBlock=i}}}prepare(){return C(this,null,function*(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})})}watchSelection(e){if(e.button!==a1.LEFT)return;let{BlockManager:t}=this.Editor;this.firstSelectedBlock=t.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock&&this.firstSelectedBlock!==this.lastSelectedBlock}toggleBlockSelectedState(e=!0){let{BlockManager:t,BlockSelection:r}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=t.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,r.clearCache(),k.get().removeAllRanges());let o=t.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),i=t.blocks[o];i&&(this.lastSelectedBlock.selected!==i.selected?(i.selected=!0,r.clearCache()):(this.lastSelectedBlock.selected=!1,r.clearCache()),this.lastSelectedBlock=i,this.Editor.InlineToolbar.close(),i.holder.scrollIntoView({block:"nearest"}))}clear(e){let{BlockManager:t,BlockSelection:r,Caret:o}=this.Editor,i=t.blocks.indexOf(this.firstSelectedBlock),s=t.blocks.indexOf(this.lastSelectedBlock);if(r.anyBlockSelected&&i>-1&&s>-1&&e&&e instanceof KeyboardEvent)switch(e.keyCode){case I.DOWN:case I.RIGHT:o.setToBlock(t.blocks[Math.max(i,s)],o.positions.END);break;case I.UP:case I.LEFT:o.setToBlock(t.blocks[Math.min(i,s)],o.positions.START);break;default:o.setToBlock(t.blocks[Math.max(i,s)],o.positions.END)}this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){let{UI:t}=this.Editor;k.isCollapsed||this.Editor.BlockSelection.clearSelection(e),t.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,t){let{BlockManager:r,BlockSelection:o}=this.Editor,i=r.blocks.indexOf(e),s=r.blocks.indexOf(t),a=e.selected!==t.selected;for(let l=Math.min(i,s);l<=Math.max(i,s);l++){let c=r.blocks[l];c!==this.firstSelectedBlock&&c!==(a?e:t)&&(r.blocks[l].selected=!r.blocks[l].selected,o.clearCache())}}},id=class extends H{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){let{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",t=>C(this,null,function*(){yield this.processDrop(t)}),!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",t=>{this.processDragOver(t)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}processDrop(e){return C(this,null,function*(){let{BlockManager:t,Paste:r,Caret:o}=this.Editor;e.preventDefault(),t.blocks.forEach(s=>{s.dropTarget=!1}),k.isAtEditor&&!k.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;let i=t.setCurrentBlockByChildNode(e.target);if(i)this.Editor.Caret.setToBlock(i,o.positions.END);else{let s=t.setCurrentBlockByChildNode(t.lastBlock.holder);this.Editor.Caret.setToBlock(s,o.positions.END)}yield r.processDataTransfer(e.dataTransfer,!0)})}processDragStart(){k.isAtEditor&&!k.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}},gS=180,mS=400,sd=class extends H{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=mS,this.mutationObserver=new MutationObserver(r=>{this.redactorChanged(r)}),this.eventsDispatcher.on(by,r=>{this.particularBlockChanged(r.event)}),this.eventsDispatcher.on(wy,()=>{this.disable()}),this.eventsDispatcher.on(Cy,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!se(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let t;this.batchingOnChangeQueue.size===1?t=this.batchingOnChangeQueue.values().next().value:t=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,t),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(xu,{mutations:e})}},vS=(()=>{let n=class Fy extends H{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=t=>{try{let r=t.create({},{},!1);if(t.pasteConfig===!1){this.exceptionList.push(t.name);return}if(!se(r.onPaste))return;this.getTagsConfig(t),this.getFilesConfig(t),this.getPatternsConfig(t)}catch(r){Q(`Paste handling for \xAB${t.name}\xBB Tool hasn't been set up because of the error`,"warn",r)}},this.handlePasteEvent=t=>C(this,null,function*(){let{BlockManager:r,Toolbar:o}=this.Editor,i=r.setCurrentBlockByChildNode(t.target);!i||this.isNativeBehaviour(t.target)&&!t.clipboardData.types.includes("Files")||i&&this.exceptionList.includes(i.name)||(t.preventDefault(),this.processDataTransfer(t.clipboardData),o.close())})}prepare(){return C(this,null,function*(){this.processTools()})}toggleReadOnly(t){t?this.unsetCallback():this.setCallback()}processDataTransfer(t,r=!1){return C(this,null,function*(){let{Tools:o}=this.Editor,i=t.types;if((i.includes?i.includes("Files"):i.contains("Files"))&&!Ye(this.toolsFiles)){yield this.processFiles(t.files);return}let s=t.getData(this.MIME_TYPE),a=t.getData("text/plain"),l=t.getData("text/html");if(s)try{this.insertEditorJSData(JSON.parse(s));return}catch{}r&&a.trim()&&l.trim()&&(l="<p>"+(l.trim()?l:a)+"</p>");let c=Object.keys(this.toolsTags).reduce((f,h)=>(f[h.toLowerCase()]=this.toolsTags[h].sanitizationConfig??{},f),{}),u=Object.assign({},c,o.getAllInlineToolsSanitizeConfig(),{br:{}}),d=mt(l,u);!d.trim()||d.trim()===a||!g.isHTMLString(d)?yield this.processText(a):yield this.processText(d,!0)})}processText(t,r=!1){return C(this,null,function*(){let{Caret:o,BlockManager:i}=this.Editor,s=r?this.processHTML(t):this.processPlain(t);if(!s.length)return;if(s.length===1){s[0].isBlock?this.processSingleBlock(s.pop()):this.processInlinePaste(s.pop());return}let a=i.currentBlock&&i.currentBlock.tool.isDefault&&i.currentBlock.isEmpty;s.map((l,c)=>C(this,null,function*(){return this.insertBlock(l,c===0&&a)})),i.currentBlock&&o.setToBlock(i.currentBlock,o.positions.END)})}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){let t=this.Editor.Tools.blockTools;Array.from(t.values()).forEach(this.processTool)}collectTagNames(t){return Nt(t)?[t]:Ce(t)?Object.keys(t):[]}getTagsConfig(t){if(t.pasteConfig===!1)return;let r=t.pasteConfig.tags||[],o=[];r.forEach(i=>{let s=this.collectTagNames(i);o.push(...s),s.forEach(a=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,a)){Q(`Paste handler for \xAB${t.name}\xBB Tool on \xAB${a}\xBB tag is skipped because it is already used by \xAB${this.toolsTags[a].tool.name}\xBB Tool.`,"warn");return}let l=Ce(i)?i[a]:null;this.toolsTags[a.toUpperCase()]={tool:t,sanitizationConfig:l}})}),this.tagsByTool[t.name]=o.map(i=>i.toUpperCase())}getFilesConfig(t){if(t.pasteConfig===!1)return;let{files:r={}}=t.pasteConfig,{extensions:o,mimeTypes:i}=r;!o&&!i||(o&&!Array.isArray(o)&&(Q(`\xABextensions\xBB property of the onDrop config for \xAB${t.name}\xBB Tool should be an array`),o=[]),i&&!Array.isArray(i)&&(Q(`\xABmimeTypes\xBB property of the onDrop config for \xAB${t.name}\xBB Tool should be an array`),i=[]),i&&(i=i.filter(s=>f1(s)?!0:(Q(`MIME type value \xAB${s}\xBB for the \xAB${t.name}\xBB Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[t.name]={extensions:o||[],mimeTypes:i||[]})}getPatternsConfig(t){t.pasteConfig===!1||!t.pasteConfig.patterns||Ye(t.pasteConfig.patterns)||Object.entries(t.pasteConfig.patterns).forEach(([r,o])=>{o instanceof RegExp||Q(`Pattern ${o} for \xAB${t.name}\xBB Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:r,pattern:o,tool:t})})}isNativeBehaviour(t){return g.isNativeInput(t)}processFiles(t){return C(this,null,function*(){let{BlockManager:r}=this.Editor,o;o=yield Promise.all(Array.from(t).map(s=>this.processFile(s))),o=o.filter(s=>!!s);let i=r.currentBlock.tool.isDefault&&r.currentBlock.isEmpty;o.forEach((s,a)=>{r.paste(s.type,s.event,a===0&&i)})})}processFile(t){return C(this,null,function*(){let r=d1(t),o=Object.entries(this.toolsFiles).find(([s,{mimeTypes:a,extensions:l}])=>{let[c,u]=t.type.split("/"),d=l.find(h=>h.toLowerCase()===r.toLowerCase()),f=a.find(h=>{let[p,m]=h.split("/");return p===c&&(m===u||m==="*")});return!!d||!!f});if(!o)return;let[i]=o;return{event:this.composePasteEvent("file",{file:t}),type:i}})}processHTML(t){let{Tools:r}=this.Editor,o=g.make("DIV");return o.innerHTML=t,this.getNodes(o).map(i=>{let s,a=r.defaultTool,l=!1;switch(i.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:s=g.make("div"),s.appendChild(i);break;case Node.ELEMENT_NODE:s=i,l=!0,this.toolsTags[s.tagName]&&(a=this.toolsTags[s.tagName].tool);break}let{tags:c}=a.pasteConfig||{tags:[]},u=c.reduce((h,p)=>(this.collectTagNames(p).forEach(m=>{let w=Ce(p)?p[m]:null;h[m.toLowerCase()]=w||{}}),h),{}),d=Object.assign({},u,a.baseSanitizeConfig);if(s.tagName.toLowerCase()==="table"){let h=mt(s.outerHTML,d);s=g.make("div",void 0,{innerHTML:h}).firstChild}else s.innerHTML=mt(s.innerHTML,d);let f=this.composePasteEvent("tag",{data:s});return{content:s,isBlock:l,tool:a.name,event:f}}).filter(i=>{let s=g.isEmpty(i.content),a=g.isSingleTag(i.content);return!s||a})}processPlain(t){let{defaultBlock:r}=this.config;if(!t)return[];let o=r;return t.split(/\r?\n/).filter(i=>i.trim()).map(i=>{let s=g.make("div");s.textContent=i;let a=this.composePasteEvent("tag",{data:s});return{content:s,tool:o,isBlock:!1,event:a}})}processSingleBlock(t){return C(this,null,function*(){let{Caret:r,BlockManager:o}=this.Editor,{currentBlock:i}=o;if(!i||t.tool!==i.name||!g.containsOnlyInlineElements(t.content.innerHTML)){this.insertBlock(t,i?.tool.isDefault&&i.isEmpty);return}r.insertContentAtCaretPosition(t.content.innerHTML)})}processInlinePaste(t){return C(this,null,function*(){let{BlockManager:r,Caret:o}=this.Editor,{content:i}=t;if(r.currentBlock&&r.currentBlock.tool.isDefault&&i.textContent.length<Fy.PATTERN_PROCESSING_MAX_LENGTH){let s=yield this.processPattern(i.textContent);if(s){let a=r.currentBlock&&r.currentBlock.tool.isDefault&&r.currentBlock.isEmpty,l=r.paste(s.tool,s.event,a);o.setToBlock(l,o.positions.END);return}}if(r.currentBlock&&r.currentBlock.currentInput){let s=r.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,mt(i.innerHTML,s))}else this.insertBlock(t)})}processPattern(t){return C(this,null,function*(){let r=this.toolsPatterns.find(o=>{let i=o.pattern.exec(t);return i?t===i.shift():!1});return r?{event:this.composePasteEvent("pattern",{key:r.key,data:t}),tool:r.tool.name}:void 0})}insertBlock(t,r=!1){let{BlockManager:o,Caret:i}=this.Editor,{currentBlock:s}=o,a;if(r&&s&&s.isEmpty){a=o.paste(t.tool,t.event,!0),i.setToBlock(a,i.positions.END);return}a=o.paste(t.tool,t.event),i.setToBlock(a,i.positions.END)}insertEditorJSData(t){let{BlockManager:r,Caret:o,Tools:i}=this.Editor;yd(t,s=>i.blockTools.get(s).sanitizeConfig).forEach(({tool:s,data:a},l)=>{let c=!1;l===0&&(c=r.currentBlock&&r.currentBlock.tool.isDefault&&r.currentBlock.isEmpty);let u=r.insert({tool:s,data:a,replace:c});o.setToBlock(u,o.positions.END)})}processElementNode(t,r,o){let i=Object.keys(this.toolsTags),s=t,{tool:a}=this.toolsTags[s.tagName]||{},l=this.tagsByTool[a?.name]||[],c=i.includes(s.tagName),u=g.blockElements.includes(s.tagName.toLowerCase()),d=Array.from(s.children).some(({tagName:h})=>i.includes(h)&&!l.includes(h)),f=Array.from(s.children).some(({tagName:h})=>g.blockElements.includes(h.toLowerCase()));if(!u&&!c&&!d)return o.appendChild(s),[...r,o];if(c&&!d||u&&!f&&!d)return[...r,o,s]}getNodes(t){let r=Array.from(t.childNodes),o,i=(s,a)=>{if(g.isEmpty(a)&&!g.isSingleTag(a))return s;let l=s[s.length-1],c=new DocumentFragment;switch(l&&g.isFragment(l)&&(c=s.pop()),a.nodeType){case Node.ELEMENT_NODE:if(o=this.processElementNode(a,s,c),o)return o;break;case Node.TEXT_NODE:return c.appendChild(a),[...s,c];default:return[...s,c]}return[...s,...Array.from(a.childNodes).reduce(i,[])]};return r.reduce(i,[])}composePasteEvent(t,r){return new CustomEvent(t,{detail:r})}};return n.PATTERN_PROCESSING_MAX_LENGTH=450,n})(),yS=vS,ad=class extends H{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}prepare(){return C(this,null,function*(){let{Tools:e}=this.Editor,{blockTools:t}=e,r=[];Array.from(t.entries()).forEach(([o,i])=>{i.isReadOnlySupported||r.push(o)}),this.toolsDontSupportReadOnly=r,this.config.readOnly&&r.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly,!0)})}toggle(){return C(this,arguments,function*(e=!this.readOnlyEnabled,t=!1){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();let r=this.readOnlyEnabled;this.readOnlyEnabled=e;for(let i in this.Editor)this.Editor[i].toggleReadOnly&&this.Editor[i].toggleReadOnly(e);if(r===e)return this.readOnlyEnabled;if(t)return this.readOnlyEnabled;this.Editor.ModificationsObserver.disable();let o=yield this.Editor.Saver.save();return yield this.Editor.BlockManager.clear(),yield this.Editor.Renderer.render(o.blocks),this.Editor.ModificationsObserver.enable(),this.readOnlyEnabled})}throwCriticalError(){throw new gs(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}},ld=class n extends H{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,t){let r=document.elementFromPoint(e-window.pageXOffset,t-window.pageYOffset);r.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);let o=[`.${st.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],i=r.closest("."+this.Editor.UI.CSS.editorWrapper),s=o.some(a=>!!r.closest(a));!i||s||(this.mousedown=!0,this.startX=e,this.startY=t)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){let{container:e}=this.genHTML();this.listeners.on(e,"mousedown",t=>{this.processMouseDown(t)},!1),this.listeners.on(document.body,"mousemove",bu(t=>{this.processMouseMove(t)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",bu(t=>{this.processScroll(t)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(g.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){let{UI:e}=this.Editor,t=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),r=g.make("div",n.CSS.overlay,{}),o=g.make("div",n.CSS.overlayContainer,{}),i=g.make("div",n.CSS.rect,{});return o.appendChild(i),r.appendChild(o),t.appendChild(r),this.overlayRectangle=i,{container:t,overlay:r}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;let t=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-t,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);let{rightPos:t,leftPos:r,index:o}=this.genInfoForMouseSelection(),i=this.startX>t&&this.mouseX>t,s=this.startX<r&&this.mouseX<r;this.rectCrossesBlocks=!(i||s),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),o!==void 0&&(this.trySelectNextBlock(o),this.inverseSelection(),k.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){let e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(let t of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(t);if(!this.rectCrossesBlocks&&e)for(let t of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(t)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){let e=document.body.offsetWidth/2,t=this.mouseY-window.pageYOffset,r=document.elementFromPoint(e,t),o=this.Editor.BlockManager.getBlockByChildNode(r),i;o!==void 0&&(i=this.Editor.BlockManager.blocks.findIndex(u=>u.holder===o.holder));let s=this.Editor.BlockManager.lastBlock.holder.querySelector("."+st.CSS.content),a=Number.parseInt(window.getComputedStyle(s).width,10)/2,l=e-a,c=e+a;return{index:i,leftPos:l,rightPos:c}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){let t=this.stackOfSelected[this.stackOfSelected.length-1]===e,r=this.stackOfSelected.length,o=1,i=-1,s=0;if(t)return;let a=this.stackOfSelected[r-1]-this.stackOfSelected[r-2]>0,l=s;r>1&&(l=a?o:i);let c=e>this.stackOfSelected[r-1]&&l===o,u=e<this.stackOfSelected[r-1]&&l===i,d=!(c||u||l===s);if(!d&&(e>this.stackOfSelected[r-1]||this.stackOfSelected[r-1]===void 0)){let p=this.stackOfSelected[r-1]+1||e;for(p;p<=e;p++)this.addBlockInSelection(p);return}if(!d&&e<this.stackOfSelected[r-1]){for(let p=this.stackOfSelected[r-1]-1;p>=e;p--)this.addBlockInSelection(p);return}if(!d)return;let f=r-1,h;for(e>this.stackOfSelected[r-1]?h=()=>e>this.stackOfSelected[f]:h=()=>e<this.stackOfSelected[f];h();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[f]),this.stackOfSelected.pop(),f--}},cd=class extends H{render(e){return C(this,null,function*(){return new Promise(t=>{let{Tools:r,BlockManager:o}=this.Editor;if(e.length===0)o.insert();else{let i=e.map(({type:s,data:a,tunes:l,id:c})=>{r.available.has(s)===!1&&(Ze(`Tool \xAB${s}\xBB is not found. Check 'tools' property at the Editor.js config.`,"warn"),a=this.composeStubDataForTool(s,a,c),s=r.stubTool);let u;try{u=o.composeBlock({id:c,tool:s,data:a,tunes:l})}catch(d){Q(`Block \xAB${s}\xBB skipped because of plugins error`,"error",{data:a,error:d}),a=this.composeStubDataForTool(s,a,c),s=r.stubTool,u=o.composeBlock({id:c,tool:s,data:a,tunes:l})}return u});o.insertMany(i)}window.requestIdleCallback(()=>{t()},{timeout:2e3})})})}composeStubDataForTool(e,t,r){let{Tools:o}=this.Editor,i=e;if(o.unavailable.has(e)){let s=o.unavailable.get(e).toolbox;s!==void 0&&s[0].title!==void 0&&(i=s[0].title)}return{savedData:{id:r,type:e,data:t},title:i}}},ud=class extends H{save(){return C(this,null,function*(){let{BlockManager:e,Tools:t}=this.Editor,r=e.blocks,o=[];try{r.forEach(a=>{o.push(this.getSavedData(a))});let i=yield Promise.all(o),s=yield yd(i,a=>t.blockTools.get(a).sanitizeConfig);return this.makeOutput(s)}catch(i){Ze("Saving failed due to the Error %o","error",i)}})}getSavedData(e){return C(this,null,function*(){let t=yield e.save(),r=t&&(yield e.validate(t.data));return L(v({},t),{isValid:r})})}makeOutput(e){let t=[];return e.forEach(({id:r,tool:o,data:i,tunes:s,isValid:a})=>{if(!a){Q(`Block \xAB${o}\xBB skipped because saved data is invalid`);return}if(o===this.Editor.Tools.stubTool){t.push(i);return}let l=v({id:r,type:o,data:i},!Ye(s)&&{tunes:s});t.push(l)}),{time:+new Date,blocks:t,version:"2.30.7"}}};(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var bS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function wS(n){let e=document.createElement("div");e.innerHTML=n.trim();let t=document.createDocumentFragment();return t.append(...Array.from(e.childNodes)),t}var dd=class n{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:t,api:r,readOnly:o}){this.api=r,this.readOnly=o,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=t.placeholder?t.placeholder:n.DEFAULT_PLACEHOLDER,this._data=e??{},this._element=null,this._preserveBlank=t.preserveBlank??!1}onKeyUp(e){if(e.code!=="Backspace"&&e.code!=="Delete"||!this._element)return;let{textContent:t}=this._element;t===""&&(this._element.innerHTML="")}drawView(){let e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable="false",e.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable="true",e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){if(!this._element)return;this._data.text+=e.text;let t=wS(e.text);this._element.appendChild(t),this._element.normalize()}validate(e){return!(e.text.trim()===""&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){let t={text:e.detail.data.innerHTML};this._data=t,window.requestAnimationFrame(()=>{this._element&&(this._element.innerHTML=this._data.text||"")})}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:bS,title:"Text"}}},CS=(()=>{class n{constructor(){this.commandName="bold"}static get sanitize(){return{b:{}}}render(){return{icon:$1,name:"bold",onActivate:()=>{document.execCommand(this.commandName)},isActive:()=>document.queryCommandState(this.commandName)}}get shortcut(){return"CMD+B"}}return n.isInline=!0,n.title="Bold",n})(),ES=(()=>{class n{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Y1,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){let t=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,t),t}get shortcut(){return"CMD+I"}}return n.isInline=!0,n.title="Italic",n})(),xS=(()=>{class n{constructor({api:t}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=t.toolbar,this.inlineToolbar=t.inlineToolbar,this.notifier=t.notifier,this.i18n=t.i18n,this.selection=new k}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=sy,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.enterKeyHint="done",this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",t=>{t.keyCode===this.ENTER_KEY&&this.enterPressed(t)}),this.nodes.input}surround(t){if(t){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());let r=this.selection.findParentTag("A");if(r){this.selection.expandToTag(r),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){let t=this.selection.findParentTag("A");if(t){this.nodes.button.innerHTML=J1,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();let r=t.getAttribute("href");this.nodes.input.value=r!=="null"?r:"",this.selection.save()}else this.nodes.button.innerHTML=sy,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!t}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(t=!1){this.nodes.input.classList.add(this.CSS.inputShowed),t&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(t=!0){if(this.selection.isFakeBackgroundEnabled){let r=new k;r.save(),this.selection.restore(),this.selection.removeFakeBackground(),r.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",t&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(t){let r=this.nodes.input.value||"";if(!r.trim()){this.selection.restore(),this.unlink(),t.preventDefault(),this.closeActions();return}if(!this.validateURL(r)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),Q("Incorrect Link pasted","warn",r);return}r=this.prepareLink(r),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(r),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(t){return!/\s/.test(t)}prepareLink(t){return t=t.trim(),t=this.addProtocol(t),t}addProtocol(t){if(/^(\w+):(\/\/)?/.test(t))return t;let r=/^\/[^/\s]/.test(t),o=t.substring(0,1)==="#",i=/^\/\/[^/\s]/.test(t);return!r&&!o&&!i&&(t="http://"+t),t}insertLink(t){let r=this.selection.findParentTag("A");r&&this.selection.expandToTag(r),document.execCommand(this.commandLink,!1,t)}unlink(){document.execCommand(this.commandUnlink)}}return n.isInline=!0,n.title="Link",n})(),kS=(()=>{class n{constructor({api:t}){this.i18nAPI=t.i18n,this.blocksAPI=t.blocks,this.selectionAPI=t.selection,this.toolsAPI=t.tools,this.caretAPI=t.caret}render(){return C(this,null,function*(){let t=k.get(),r=this.blocksAPI.getBlockByElement(t.anchorNode);if(r===void 0)return[];let o=this.toolsAPI.getBlockTools(),i=yield xy(r,o);if(i.length===0)return[];let s=i.reduce((u,d)=>{var f;return(f=d.toolbox)==null||f.forEach(h=>{u.push({icon:h.icon,title:Se.t(je.toolNames,h.title),name:d.name,closeOnActivate:!0,onActivate:()=>C(this,null,function*(){let p=yield this.blocksAPI.convert(r.id,d.name,h.data);this.caretAPI.setToBlock(p,"end")})})}),u},[]),a=yield r.getActiveToolboxEntry(),l=a!==void 0?a.icon:Ty,c=!Cr();return{icon:l,name:"convert-to",hint:{title:this.i18nAPI.t("Convert to")},children:{searchable:c,items:s,onOpen:()=>{c&&(this.selectionAPI.setFakeBackground(),this.selectionAPI.save())},onClose:()=>{c&&(this.selectionAPI.restore(),this.selectionAPI.removeFakeBackground())}}}})}}return n.isInline=!0,n})(),DS=(()=>{class n{constructor({data:t,api:r}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=r,this.title=t.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=t.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){let t=g.make("div",this.CSS.wrapper),r=eS,o=g.make("div",this.CSS.info),i=g.make("div",this.CSS.title,{textContent:this.title}),s=g.make("div",this.CSS.subtitle,{textContent:this.subtitle});return t.innerHTML=r,o.appendChild(i),o.appendChild(s),t.appendChild(o),t}}return n.isReadOnlySupported=!0,n})(),fd=class extends ko{constructor(){super(...arguments),this.type=vn.Inline}get title(){return this.constructable[xd.Title]}create(){return new this.constructable({api:this.api,config:this.settings})}},hd=class extends ko{constructor(){super(...arguments),this.type=vn.Tune}create(e,t){return new this.constructable({api:this.api,config:this.settings,block:t,data:e})}},Ge=class n extends Map{get blockTools(){let e=Array.from(this.entries()).filter(([,t])=>t.isBlock());return new n(e)}get inlineTools(){let e=Array.from(this.entries()).filter(([,t])=>t.isInline());return new n(e)}get blockTunes(){let e=Array.from(this.entries()).filter(([,t])=>t.isTune());return new n(e)}get internalTools(){let e=Array.from(this.entries()).filter(([,t])=>t.isInternal);return new n(e)}get externalTools(){let e=Array.from(this.entries()).filter(([,t])=>!t.isInternal);return new n(e)}},SS=Object.defineProperty,IS=Object.getOwnPropertyDescriptor,jy=(n,e,t,r)=>{for(var o=r>1?void 0:r?IS(e,t):e,i=n.length-1,s;i>=0;i--)(s=n[i])&&(o=(r?s(e,t,o):s(o))||o);return r&&o&&SS(e,t,o),o},Do=class extends ko{constructor(){super(...arguments),this.type=vn.Block,this.inlineTools=new Ge,this.tunes=new Ge}create(e,t,r){return new this.constructable({data:e,block:t,readOnly:r,api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[mr.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[mr.IsEnabledLineBreaks]}get toolbox(){let e=this.constructable[mr.Toolbox],t=this.config[us.Toolbox];if(!Ye(e)&&t!==!1)return t?Array.isArray(e)?Array.isArray(t)?t.map((r,o)=>{let i=e[o];return i?v(v({},i),r):r}):[t]:Array.isArray(t)?t:[v(v({},e),t)]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[mr.ConversionConfig]}get enabledInlineTools(){return this.config[us.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[us.EnabledBlockTunes]}get pasteConfig(){return this.constructable[mr.PasteConfig]??{}}get sanitizeConfig(){let e=super.sanitizeConfig,t=this.baseSanitizeConfig;if(Ye(e))return t;let r={};for(let o in e)if(Object.prototype.hasOwnProperty.call(e,o)){let i=e[o];Ce(i)?r[o]=Object.assign({},t,i):r[o]=i}return r}get baseSanitizeConfig(){let e={};return Array.from(this.inlineTools.values()).forEach(t=>Object.assign(e,t.sanitizeConfig)),Array.from(this.tunes.values()).forEach(t=>Object.assign(e,t.sanitizeConfig)),e}};jy([wr],Do.prototype,"sanitizeConfig",1);jy([wr],Do.prototype,"baseSanitizeConfig",1);var pd=class{constructor(e,t,r){this.api=r,this.config=e,this.editorConfig=t}get(e){let a=this.config[e],{class:t,isInternal:r=!1}=a,o=ih(a,["class","isInternal"]),i=this.getConstructor(t),s=t[Qu.IsTune];return new i({name:e,constructable:t,config:o,api:this.api.getMethodsForTool(e,s),isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}getConstructor(e){switch(!0){case e[xd.IsInline]:return fd;case e[Qu.IsTune]:return hd;default:return Do}}},TS=(()=>{class n{constructor({api:t}){this.CSS={animation:"wobble"},this.api=t}render(){return{icon:U1,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){let t=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(t+1);if(!r)throw new Error("Unable to move Block down since it is already the last");let o=r.holder,i=o.getBoundingClientRect(),s=Math.abs(window.innerHeight-o.offsetHeight);i.top<window.innerHeight&&(s=window.scrollY+o.offsetHeight),window.scrollTo(0,s),this.api.blocks.move(t+1),this.api.toolbar.toggleBlockSettings(!0)}}return n.isTune=!0,n})(),MS=(()=>{class n{constructor({api:t}){this.api=t}render(){return{icon:G1,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}return n.isTune=!0,n})(),_S=(()=>{class n{constructor({api:t}){this.CSS={animation:"wobble"},this.api=t}render(){return{icon:q1,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){let t=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(t),o=this.api.blocks.getBlockByIndex(t-1);if(t===0||!r||!o)throw new Error("Unable to move Block up since it is already the first");let i=r.holder,s=o.holder,a=i.getBoundingClientRect(),l=s.getBoundingClientRect(),c;l.top>0?c=Math.abs(a.top)-Math.abs(l.top):c=Math.abs(a.top)+l.height,window.scrollBy(0,-1*c),this.api.blocks.move(t-1),this.api.toolbar.toggleBlockSettings(!0)}}return n.isTune=!0,n})(),NS=Object.defineProperty,AS=Object.getOwnPropertyDescriptor,OS=(n,e,t,r)=>{for(var o=r>1?void 0:r?AS(e,t):e,i=n.length-1,s;i>=0;i--)(s=n[i])&&(o=(r?s(e,t,o):s(o))||o);return r&&o&&NS(e,t,o),o},xs=class extends H{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new Ge,this.toolsUnavailable=new Ge}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}prepare(){return C(this,null,function*(){if(this.validateTools(),this.config.tools=wu({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");let e=this.prepareConfig();this.factory=new pd(e,this.config,this.Editor.API);let t=this.getListOfPrepareFunctions(e);if(t.length===0)return Promise.resolve();yield u1(t,r=>{this.toolPrepareMethodSuccess(r)},r=>{this.toolPrepareMethodFallback(r)}),this.prepareBlockTools()})}getAllInlineToolsSanitizeConfig(){let e={};return Array.from(this.inlineTools.values()).forEach(t=>{Object.assign(e,t.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(e=>C(this,null,function*(){se(e.reset)&&(yield e.reset())}))}get internalTools(){return{convertTo:{class:kS,isInternal:!0},link:{class:xS,isInternal:!0},bold:{class:CS,isInternal:!0},italic:{class:ES,isInternal:!0},paragraph:{class:dd,inlineToolbar:!0,isInternal:!0},stub:{class:DS,isInternal:!0},moveUp:{class:_S,isInternal:!0},delete:{class:MS,isInternal:!0},moveDown:{class:TS,isInternal:!0}}}toolPrepareMethodSuccess(e){let t=this.factory.get(e.toolName);if(t.isInline()){let r=["render"].filter(o=>!t.create()[o]);if(r.length){Q(`Incorrect Inline Tool: ${t.name}. Some of required methods is not implemented %o`,"warn",r),this.toolsUnavailable.set(t.name,t);return}}this.toolsAvailable.set(t.name,t)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){let t=[];return Object.entries(e).forEach(([r,o])=>{t.push({function:se(o.class.prepare)?o.class.prepare:()=>{},data:{toolName:r,config:o.config}})}),t}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new Ge(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(t=>[t,this.inlineTools.get(t)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new Ge(["convertTo",...e.enabledInlineTools].map(t=>[t,this.inlineTools.get(t)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){let t=new Ge(e.enabledBlockTunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new Ge([...t,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){let t=new Ge(this.config.tunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new Ge([...t,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(let e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;let t=this.config.tools[e];if(!se(t)&&!se(t.class))throw Error(`Tool \xAB${e}\xBB must be a constructor function or an object with function in the \xABclass\xBB property`)}}prepareConfig(){let e={};for(let t in this.config.tools)Ce(this.config.tools[t])?e[t]=this.config.tools[t]:e[t]={class:this.config.tools[t]};return e}};OS([wr],xs.prototype,"getAllInlineToolsSanitizeConfig",1);var RS=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;--color-background-icon-active: rgba(56, 138, 229, .1);--color-text-icon-active: #388AE5;--color-text-primary: black;position:absolute;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3;opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{color:var(--color-text-primary);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0;border-radius:4px;line-height:normal;height:100%;padding:0;width:28px;background-color:transparent;cursor:pointer}@media (max-width: 650px){.ce-inline-tool{width:36px;height:36px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#f8f8f8}}.ce-inline-tool svg{display:block;width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:4px 8px;font-size:14px;line-height:22px;outline:none;margin:0;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-inline-tool--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #EFF0F1;--color-shadow: rgba(13, 20, 33, .1);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #F8F8F8;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;--popover-top: calc(100% + var(--offset-from-target));--popover-left: 0;--nested-popover-overlap: 4px;--icon-size: 20px;--item-padding: 3px;--item-height: calc(var(--icon-size) + 2 * var(--item-padding))}.ce-popover__container{min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0px 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:var(--popover-left);top:var(--popover-top);background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened>.ce-popover__container{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened>.ce-popover__container{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover--open-top .ce-popover__container{--popover-top: calc(-1 * (var(--offset-from-target) + var(--popover-height)))}.ce-popover--open-left .ce-popover__container{--popover-left: calc(-1 * var(--width) + 100%)}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}@media (max-width: 650px){.ce-popover .ce-popover__container{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}}.ce-popover__search{margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover--nested .ce-popover__container{--popover-left: calc(var(--nesting-level) * (var(--width) - var(--nested-popover-overlap)));top:calc(var(--trigger-item-top) - var(--nested-popover-overlap));position:absolute}.ce-popover--open-top.ce-popover--nested .ce-popover__container{top:calc(var(--trigger-item-top) - var(--popover-height) + var(--item-height) + var(--offset-from-target) + var(--nested-popover-overlap))}.ce-popover--open-left .ce-popover--nested .ce-popover__container{--popover-left: calc(-1 * (var(--nesting-level) + 1) * var(--width) + 100%)}.ce-popover-item-separator{padding:4px 3px}.ce-popover-item-separator--hidden{display:none}.ce-popover-item-separator__line{height:1px;background:var(--color-border);width:100%}.ce-popover-item-html--hidden{display:none}.ce-popover-item{--border-radius: 6px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--item-padding);color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;background:transparent}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover-item__icon--tool{margin-right:4px}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:auto}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title,.ce-popover-item--confirmation .ce-popover-item__icon{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}.ce-popover-header{margin-bottom:8px;margin-top:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover-header__text{font-size:18px;font-weight:600}.ce-popover-header__back-button{border:0;background:transparent;width:36px;height:36px;color:var(--color-text-primary)}.ce-popover-header__back-button svg{display:block;width:28px;height:28px}.ce-popover--inline{--height: 38px;--height-mobile: 46px;--container-padding: 4px;position:relative}.ce-popover--inline .ce-popover__custom-content{margin-bottom:0}.ce-popover--inline .ce-popover__items{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-popover--inline .ce-popover__container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:var(--container-padding);height:var(--height);top:0;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;width:-webkit-max-content;width:-moz-max-content;width:max-content;-webkit-animation:none;animation:none}@media (max-width: 650px){.ce-popover--inline .ce-popover__container{height:var(--height-mobile);position:absolute}}.ce-popover--inline .ce-popover-item-separator{padding:0 4px}.ce-popover--inline .ce-popover-item-separator__line{height:100%;width:1px}.ce-popover--inline .ce-popover-item{border-radius:4px;padding:4px}.ce-popover--inline .ce-popover-item__icon--tool{-webkit-box-shadow:none;box-shadow:none;background:transparent;margin-right:0}.ce-popover--inline .ce-popover-item__icon{width:auto;width:initial;height:auto;height:initial}.ce-popover--inline .ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover--inline .ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover--inline .ce-popover-item:not(:last-of-type){margin-bottom:0;margin-bottom:initial}.ce-popover--inline .ce-popover-item-html{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover--inline .ce-popover-item__icon--chevron-right{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{--offset: 3px;left:0;top:calc(var(--height) + var(--offset))}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{top:calc(var(--height-mobile) + var(--offset))}}.ce-popover--inline .ce-popover--nested .ce-popover__container{min-width:var(--width);width:var(--width);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:6px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ce-popover--inline .ce-popover--nested .ce-popover__items{display:block;width:100%}.ce-popover--inline .ce-popover--nested .ce-popover-item{border-radius:6px;padding:3px}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested .ce-popover-item{padding:4px}}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon--tool{margin-right:4px}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon{width:26px;height:26px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator{padding:4px 3px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator__line{width:100%;height:1px}.codex-editor [data-placeholder]:empty:before,.codex-editor [data-placeholder][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text;content:attr(data-placeholder)}.codex-editor [data-placeholder-active]:empty:before,.codex-editor [data-placeholder-active][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text}.codex-editor [data-placeholder-active]:empty:focus:before,.codex-editor [data-placeholder-active][data-empty=true]:focus:before{content:attr(data-placeholder-active)}
`,gd=class extends H{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=ry(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;let e=this.nodes.wrapper.querySelector(`.${st.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}prepare(){return C(this,null,function*(){this.setIsMobile(),this.make(),this.loadStyles()})}toggleReadOnly(e){e?this.disableModuleBindings():window.requestIdleCallback(()=>{this.enableModuleBindings()},{timeout:2e3})}checkEmptiness(){let{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){let{Toolbar:e,BlockSettings:t,InlineToolbar:r}=this.Editor;return!!(t.opened||r.opened||e.toolbox.opened)}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,t])=>t.flipper instanceof yr).some(([e,t])=>t.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){let{Toolbar:e,BlockSettings:t,InlineToolbar:r}=this.Editor;t.close(),r.close(),e.toolbox.close()}setIsMobile(){let e=window.innerWidth<gy;e!==this.isMobile&&this.eventsDispatcher.emit(Eo,{isEnabled:this.isMobile}),this.isMobile=e}make(){this.nodes.holder=g.getHolder(this.config.holder),this.nodes.wrapper=g.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=g.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){let e="editor-js-styles";if(g.get(e))return;let t=g.make("style",null,{id:e,textContent:RS.toString()});this.config.style&&!Ye(this.config.style)&&this.config.style.nonce&&t.setAttribute("nonce",this.config.style.nonce),g.prepend(document.head,t)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",t=>{this.redactorClicked(t)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",t=>{this.documentTouched(t)},{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",t=>{this.documentTouched(t)},{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(document,"keydown",t=>{this.documentKeydown(t)},!0),this.readOnlyMutableListeners.on(document,"mousedown",t=>{this.documentClicked(t)},!0);let e=ry(()=>{this.selectionChanged()},gS);this.readOnlyMutableListeners.on(document,"selectionchange",e,!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents(),this.enableInputsEmptyMark()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",bu(t=>{let r=t.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||r&&e!==r&&(e=r,this.eventsDispatcher.emit(Ry,{block:this.Editor.BlockManager.getBlockByChildNode(r)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.setIsMobile()}documentKeydown(e){switch(e.keyCode){case I.ENTER:this.enterPressed(e);break;case I.BACKSPACE:case I.DELETE:this.backspacePressed(e);break;case I.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){let{currentBlock:t}=this.Editor.BlockManager,r=e.target.closest(`.${this.CSS.editorWrapper}`),o=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(t!==void 0&&r===null){this.Editor.BlockEvents.keydown(e);return}r||t&&o||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close())}backspacePressed(e){let{BlockManager:t,BlockSelection:r,Caret:o}=this.Editor;if(r.anyBlockSelected&&!k.isSelectionExists){let i=t.removeSelectedBlocks(),s=t.insertDefaultBlockAtIndex(i,!0);o.setToBlock(s,o.positions.START),r.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){let{BlockManager:t,BlockSelection:r}=this.Editor;if(this.someToolbarOpened)return;let o=t.currentBlockIndex>=0;if(r.anyBlockSelected&&!k.isSelectionExists){r.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&o&&e.target.tagName==="BODY"){let i=this.Editor.BlockManager.insert();e.preventDefault(),this.Editor.Caret.setToBlock(i),this.Editor.Toolbar.moveAndOpen(i)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){var t,r;if(!e.isTrusted)return;let o=e.target;this.nodes.holder.contains(o)||k.isAtEditor||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close());let i=(t=this.Editor.BlockSettings.nodes.wrapper)==null?void 0:t.contains(o),s=(r=this.Editor.Toolbar.nodes.settingsToggler)==null?void 0:r.contains(o),a=i||s;if(this.Editor.BlockSettings.opened&&!a){this.Editor.BlockSettings.close();let l=this.Editor.BlockManager.getBlockByChildNode(o);this.Editor.Toolbar.moveAndOpen(l)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let t=e.target;if(t===this.nodes.redactor){let r=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,o=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;t=document.elementFromPoint(r,o)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(t)}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){if(!k.isCollapsed)return;let t=e.target,r=e.metaKey||e.ctrlKey;if(g.isAnchor(t)&&r){e.stopImmediatePropagation(),e.stopPropagation();let o=t.getAttribute("href"),i=p1(o);m1(i);return}this.processBottomZoneClick(e)}processBottomZoneClick(e){let t=this.Editor.BlockManager.getBlockByIndex(-1),r=g.offset(t.holder).bottom,o=e.pageY,{BlockSelection:i}=this.Editor;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!i.anyBlockSelected&&r<o){e.stopImmediatePropagation(),e.stopPropagation();let{BlockManager:s,Caret:a,Toolbar:l}=this.Editor;(!s.lastBlock.tool.isDefault||!s.lastBlock.isEmpty)&&s.insertAtEnd(),a.setToTheLastBlock(),l.moveAndOpen(s.lastBlock)}}selectionChanged(){let{CrossBlockSelection:e,BlockSelection:t}=this.Editor,r=k.anchorElement;if(e.isCrossBlockSelectionStarted&&t.anyBlockSelected&&k.get().removeAllRanges(),!r){k.range||this.Editor.InlineToolbar.close();return}let o=r.closest(`.${st.CSS.content}`);(o===null||o.closest(`.${k.CSS.editorWrapper}`)!==this.nodes.wrapper)&&(this.Editor.InlineToolbar.containsNode(r)||this.Editor.InlineToolbar.close(),r.dataset.inlineToolbar!=="true")||(this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(r),this.Editor.InlineToolbar.tryToShow(!0))}enableInputsEmptyMark(){function e(t){let r=t.target;my(r)}this.readOnlyMutableListeners.on(this.nodes.wrapper,"input",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusin",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusout",e)}},LS={BlocksAPI:Du,CaretAPI:Su,EventsAPI:Iu,I18nAPI:Tu,API:Mu,InlineToolbarAPI:_u,ListenersAPI:Nu,NotifierAPI:Ou,ReadOnlyAPI:Ru,SanitizerAPI:Lu,SaverAPI:Pu,SelectionAPI:Bu,ToolsAPI:Fu,StylesAPI:ju,ToolbarAPI:Hu,TooltipAPI:Vu,UiAPI:$u,BlockSettings:Zu,Toolbar:Ku,InlineToolbar:Xu,BlockEvents:Ju,BlockManager:td,BlockSelection:nd,Caret:rd,CrossBlockSelection:od,DragNDrop:id,ModificationsObserver:sd,Paste:yS,ReadOnly:ad,RectangleSelection:ld,Renderer:cd,Saver:ud,Tools:xs,UI:gd},md=class{constructor(e){this.moduleInstances={},this.eventsDispatcher=new bn;let t,r;this.isReady=new Promise((o,i)=>{t=o,r=i}),Promise.resolve().then(()=>C(this,null,function*(){this.configuration=e,this.validate(),this.init(),yield this.start(),yield this.render();let{BlockManager:o,Caret:i,UI:s,ModificationsObserver:a}=this.moduleInstances;s.checkEmptiness(),a.enable(),this.configuration.autofocus&&i.setToBlock(o.blocks[0],i.positions.START),t()})).catch(o=>{Q(`Editor.js is not ready because of ${o}`,"error"),r(o)})}set configuration(e){var t,r;Ce(e)?this.config=v({},e):this.config={holder:e},Cu(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=fy.VERBOSE),l1(this.config.logLevel),Cu(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;let o={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(Ye(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[o]}),this.config.readOnly=this.config.readOnly||!1,(t=this.config.i18n)!=null&&t.messages&&Se.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((r=this.config.i18n)==null?void 0:r.direction)||"ltr"}get configuration(){return this.config}validate(){let{holderId:e,holder:t}=this.config;if(e&&t)throw Error("\xABholderId\xBB and \xABholder\xBB param can't assign at the same time.");if(Nt(t)&&!g.get(t))throw Error(`element with ID \xAB${t}\xBB is missing. Pass correct holder's ID.`);if(t&&Ce(t)&&!g.isElement(t))throw Error("\xABholder\xBB value must be an Element node")}init(){this.constructModules(),this.configureModules()}start(){return C(this,null,function*(){yield["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,t)=>e.then(()=>C(this,null,function*(){try{yield this.moduleInstances[t].prepare()}catch(r){if(r instanceof gs)throw new Error(r.message);Q(`Module ${t} was skipped because of %o`,"warn",r)}})),Promise.resolve())})}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(LS).forEach(([e,t])=>{try{this.moduleInstances[e]=new t({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(r){Q("[constructModules]",`Module ${e} skipped because`,"error",r)}})}configureModules(){for(let e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){let t={};for(let r in this.moduleInstances)r!==e&&(t[r]=this.moduleInstances[r]);return t}};var ks=class{static get version(){return"2.30.7"}constructor(e){let t=()=>{};Ce(e)&&se(e.onReady)&&(t=e.onReady);let r=new md(e);this.isReady=r.isReady.then(()=>{this.exportAPI(r),t()})}exportAPI(e){let t=["configuration"],r=()=>{Object.values(e.moduleInstances).forEach(o=>{se(o.destroy)&&o.destroy(),o.listeners.removeAll()}),j1(),e=null;for(let o in this)Object.prototype.hasOwnProperty.call(this,o)&&delete this[o];Object.setPrototypeOf(this,null)};t.forEach(o=>{this[o]=e[o]}),this.destroy=r,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([o,i])=>{Object.entries(i).forEach(([s,a])=>{this[a]=e.moduleInstances.API.methods[o][s]})})}};(function(){"use strict";try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var PS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>',BS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>',FS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>',jS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>',HS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>',VS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>',$S='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>';var Ss=class{constructor({data:e,config:t,api:r,readOnly:o}){this.api=r,this.readOnly=o,this._settings=t,this._data=this.normalizeData(e),this._element=this.getTag()}get _CSS(){return{block:this.api.styles.block,wrapper:"ce-header"}}isHeaderData(e){return e.text!==void 0}normalizeData(e){let t={text:"",level:this.defaultLevel.number};return this.isHeaderData(e)&&(t.text=e.text||"",e.level!==void 0&&!isNaN(parseInt(e.level.toString()))&&(t.level=parseInt(e.level.toString()))),t}render(){return this._element}renderSettings(){return this.levels.map(e=>({icon:e.svg,label:this.api.i18n.t(`Heading ${e.number}`),onActivate:()=>this.setLevel(e.number),closeOnActivate:!0,isActive:this.currentLevel.number===e.number,render:()=>document.createElement("div")}))}setLevel(e){this.data={level:e,text:this.data.text}}merge(e){this._element.insertAdjacentHTML("beforeend",e.text)}validate(e){return e.text.trim()!==""}save(e){return{text:e.innerHTML,level:this.currentLevel.number}}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{level:!1,text:{}}}static get isReadOnlySupported(){return!0}get data(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data}set data(e){if(this._data=this.normalizeData(e),e.level!==void 0&&this._element.parentNode){let t=this.getTag();t.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(t,this._element),this._element=t}e.text!==void 0&&(this._element.innerHTML=this._data.text||"")}getTag(){let e=document.createElement(this.currentLevel.tag);return e.innerHTML=this._data.text||"",e.classList.add(this._CSS.wrapper),e.contentEditable=this.readOnly?"false":"true",e.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),e}get currentLevel(){let e=this.levels.find(t=>t.number===this._data.level);return e||(e=this.defaultLevel),e}get defaultLevel(){if(this._settings.defaultLevel){let e=this.levels.find(t=>t.number===this._settings.defaultLevel);if(e)return e;console.warn("(\u0E07'\u0300-'\u0301)\u0E07 Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}get levels(){let e=[{number:1,tag:"H1",svg:PS},{number:2,tag:"H2",svg:BS},{number:3,tag:"H3",svg:FS},{number:4,tag:"H4",svg:jS},{number:5,tag:"H5",svg:HS},{number:6,tag:"H6",svg:VS}];return this._settings.levels?e.filter(t=>this._settings.levels.includes(t.number)):e}onPaste(e){let t=e.detail;if("data"in t){let r=t.data,o=this.defaultLevel.number;switch(r.tagName){case"H1":o=1;break;case"H2":o=2;break;case"H3":o=3;break;case"H4":o=4;break;case"H5":o=5;break;case"H6":o=6;break}this._settings.levels&&(o=this._settings.levels.reduce((i,s)=>Math.abs(s-o)<Math.abs(i-o)?s:i)),this.data={level:o,text:r.innerHTML}}}static get pasteConfig(){return{tags:["H1","H2","H3","H4","H5","H6"]}}static get toolbox(){return{icon:$S,title:"Heading"}}};(function(){"use strict";try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".cdx-quote-icon svg{transform:rotate(180deg)}.cdx-quote{margin:0}.cdx-quote__text{min-height:158px;margin-bottom:10px}.cdx-quote [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-quote [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-quote [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-quote-settings{display:flex}.cdx-quote-settings .cdx-settings-button{width:50%}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var US='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>',zS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>',WS='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>',_s=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qS(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),t}var Ts={},Sd={},Id={};Object.defineProperty(Id,"__esModule",{value:!0});Id.allInputsSelector=GS;function GS(){var n=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+n.map(function(e){return'input[type="'.concat(e,'"]')}).join(", ")}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.allInputsSelector=void 0;var e=Id;Object.defineProperty(n,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}})})(Sd);var En={},Td={};Object.defineProperty(Td,"__esModule",{value:!0});Td.isNativeInput=ZS;function ZS(n){var e=["INPUT","TEXTAREA"];return n&&n.tagName?e.includes(n.tagName):!1}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isNativeInput=void 0;var e=Td;Object.defineProperty(n,"isNativeInput",{enumerable:!0,get:function(){return e.isNativeInput}})})(En);var Vy={},Md={};Object.defineProperty(Md,"__esModule",{value:!0});Md.append=YS;function YS(n,e){Array.isArray(e)?e.forEach(function(t){n.appendChild(t)}):n.appendChild(e)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.append=void 0;var e=Md;Object.defineProperty(n,"append",{enumerable:!0,get:function(){return e.append}})})(Vy);var _d={},Nd={};Object.defineProperty(Nd,"__esModule",{value:!0});Nd.blockElements=KS;function KS(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.blockElements=void 0;var e=Nd;Object.defineProperty(n,"blockElements",{enumerable:!0,get:function(){return e.blockElements}})})(_d);var $y={},Ad={};Object.defineProperty(Ad,"__esModule",{value:!0});Ad.calculateBaseline=QS;function QS(n){var e=window.getComputedStyle(n),t=parseFloat(e.fontSize),r=parseFloat(e.lineHeight)||t*1.2,o=parseFloat(e.paddingTop),i=parseFloat(e.borderTopWidth),s=parseFloat(e.marginTop),a=t*.8,l=(r-t)/2,c=s+i+o+l+a;return c}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.calculateBaseline=void 0;var e=Ad;Object.defineProperty(n,"calculateBaseline",{enumerable:!0,get:function(){return e.calculateBaseline}})})($y);var Uy={},Od={},Rd={},Ld={};Object.defineProperty(Ld,"__esModule",{value:!0});Ld.isContentEditable=XS;function XS(n){return n.contentEditable==="true"}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isContentEditable=void 0;var e=Ld;Object.defineProperty(n,"isContentEditable",{enumerable:!0,get:function(){return e.isContentEditable}})})(Rd);Object.defineProperty(Od,"__esModule",{value:!0});Od.canSetCaret=tI;var JS=En,eI=Rd;function tI(n){var e=!0;if((0,JS.isNativeInput)(n))switch(n.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":e=!1;break}else e=(0,eI.isContentEditable)(n);return e}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.canSetCaret=void 0;var e=Od;Object.defineProperty(n,"canSetCaret",{enumerable:!0,get:function(){return e.canSetCaret}})})(Uy);var As={},Pd={};function nI(n,e,t){let r=t.value!==void 0?"value":"get",o=t[r],i=`#${e}Cache`;if(t[r]=function(...s){return this[i]===void 0&&(this[i]=o.apply(this,s)),this[i]},r==="get"&&t.set){let s=t.set;t.set=function(a){delete n[i],s.apply(this,a)}}return t}function zy(){let n={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(n).find(t=>window.navigator.appVersion.toLowerCase().indexOf(t)!==-1);return e!==void 0&&(n[e]=!0),n}function Bd(n){return n!=null&&n!==""&&(typeof n!="object"||Object.keys(n).length>0)}function rI(n){return!Bd(n)}var oI=()=>typeof window<"u"&&window.navigator!==null&&Bd(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function iI(n){let e=zy();return n=n.replace(/shift/gi,"\u21E7").replace(/backspace/gi,"\u232B").replace(/enter/gi,"\u23CE").replace(/up/gi,"\u2191").replace(/left/gi,"\u2192").replace(/down/gi,"\u2193").replace(/right/gi,"\u2190").replace(/escape/gi,"\u238B").replace(/insert/gi,"Ins").replace(/delete/gi,"\u2421").replace(/\+/gi,"+"),e.mac?n=n.replace(/ctrl|cmd/gi,"\u2318").replace(/alt/gi,"\u2325"):n=n.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),n}function sI(n){return n[0].toUpperCase()+n.slice(1)}function aI(n){let e=document.createElement("div");e.style.position="absolute",e.style.left="-999px",e.style.bottom="-999px",e.innerHTML=n,document.body.appendChild(e);let t=window.getSelection(),r=document.createRange();if(r.selectNode(e),t===null)throw new Error("Cannot copy text to clipboard");t.removeAllRanges(),t.addRange(r),document.execCommand("copy"),document.body.removeChild(e)}function lI(n,e,t){let r;return(...o)=>{let i=this,s=()=>{r=void 0,t!==!0&&n.apply(i,o)},a=t===!0&&r!==void 0;window.clearTimeout(r),r=window.setTimeout(s,e),a&&n.apply(i,o)}}function qt(n){return Object.prototype.toString.call(n).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function cI(n){return qt(n)==="boolean"}function Wy(n){return qt(n)==="function"||qt(n)==="asyncfunction"}function uI(n){return Wy(n)&&/^\s*class\s+/.test(n.toString())}function dI(n){return qt(n)==="number"}function Ms(n){return qt(n)==="object"}function fI(n){return Promise.resolve(n)===n}function hI(n){return qt(n)==="string"}function pI(n){return qt(n)==="undefined"}function kd(n,...e){if(!e.length)return n;let t=e.shift();if(Ms(n)&&Ms(t))for(let r in t)Ms(t[r])?(n[r]===void 0&&Object.assign(n,{[r]:{}}),kd(n[r],t[r])):Object.assign(n,{[r]:t[r]});return kd(n,...e)}function gI(n,e,t){let r=`\xAB${e}\xBB is deprecated and will be removed in the next major release. Please use the \xAB${t}\xBB instead.`;n&&console.warn(r)}function mI(n){try{return new URL(n).href}catch{}return n.substring(0,2)==="//"?window.location.protocol+n:window.location.origin+n}function vI(n){return n>47&&n<58||n===32||n===13||n===229||n>64&&n<91||n>95&&n<112||n>185&&n<193||n>218&&n<223}var yI={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},bI={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4},Dd=class{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((t,r)=>{this.completed=this.completed.then(e).then(t).catch(r)})}};function wI(n,e,t=void 0){let r,o,i,s=null,a=0;t||(t={});let l=function(){a=t.leading===!1?0:Date.now(),s=null,i=n.apply(r,o),s===null&&(r=o=null)};return function(){let c=Date.now();!a&&t.leading===!1&&(a=c);let u=e-(c-a);return r=this,o=arguments,u<=0||u>e?(s&&(clearTimeout(s),s=null),a=c,i=n.apply(r,o),s===null&&(r=o=null)):!s&&t.trailing!==!1&&(s=setTimeout(l,u)),i}}var CI=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:Dd,beautifyShortcut:iI,cacheable:nI,capitalize:sI,copyTextToClipboard:aI,debounce:lI,deepMerge:kd,deprecationAssert:gI,getUserOS:zy,getValidUrl:mI,isBoolean:cI,isClass:uI,isEmpty:rI,isFunction:Wy,isIosDevice:oI,isNumber:dI,isObject:Ms,isPrintableKey:vI,isPromise:fI,isString:hI,isUndefined:pI,keyCodes:yI,mouseButtons:bI,notEmpty:Bd,throttle:wI,typeOf:qt},Symbol.toStringTag,{value:"Module"})),Fd=qS(CI);Object.defineProperty(Pd,"__esModule",{value:!0});Pd.containsOnlyInlineElements=kI;var EI=Fd,xI=_d;function kI(n){var e;(0,EI.isString)(n)?(e=document.createElement("div"),e.innerHTML=n):e=n;var t=function(r){return!(0,xI.blockElements)().includes(r.tagName.toLowerCase())&&Array.from(r.children).every(t)};return Array.from(e.children).every(t)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.containsOnlyInlineElements=void 0;var e=Pd;Object.defineProperty(n,"containsOnlyInlineElements",{enumerable:!0,get:function(){return e.containsOnlyInlineElements}})})(As);var qy={},jd={},Os={},Hd={};Object.defineProperty(Hd,"__esModule",{value:!0});Hd.make=DI;function DI(n,e,t){var r;e===void 0&&(e=null),t===void 0&&(t={});var o=document.createElement(n);if(Array.isArray(e)){var i=e.filter(function(a){return a!==void 0});(r=o.classList).add.apply(r,i)}else e!==null&&o.classList.add(e);for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(o[s]=t[s]);return o}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.make=void 0;var e=Hd;Object.defineProperty(n,"make",{enumerable:!0,get:function(){return e.make}})})(Os);Object.defineProperty(jd,"__esModule",{value:!0});jd.fragmentToString=II;var SI=Os;function II(n){var e=(0,SI.make)("div");return e.appendChild(n),e.innerHTML}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.fragmentToString=void 0;var e=jd;Object.defineProperty(n,"fragmentToString",{enumerable:!0,get:function(){return e.fragmentToString}})})(qy);var Gy={},Vd={};Object.defineProperty(Vd,"__esModule",{value:!0});Vd.getContentLength=MI;var TI=En;function MI(n){var e,t;return(0,TI.isNativeInput)(n)?n.value.length:n.nodeType===Node.TEXT_NODE?n.length:(t=(e=n.textContent)===null||e===void 0?void 0:e.length)!==null&&t!==void 0?t:0}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getContentLength=void 0;var e=Vd;Object.defineProperty(n,"getContentLength",{enumerable:!0,get:function(){return e.getContentLength}})})(Gy);var $d={},Ud={},Hy=_s&&_s.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(Ud,"__esModule",{value:!0});Ud.getDeepestBlockElements=Zy;var _I=As;function Zy(n){return(0,_I.containsOnlyInlineElements)(n)?[n]:Array.from(n.children).reduce(function(e,t){return Hy(Hy([],e,!0),Zy(t),!0)},[])}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDeepestBlockElements=void 0;var e=Ud;Object.defineProperty(n,"getDeepestBlockElements",{enumerable:!0,get:function(){return e.getDeepestBlockElements}})})($d);var Yy={},zd={},Rs={},Wd={};Object.defineProperty(Wd,"__esModule",{value:!0});Wd.isLineBreakTag=NI;function NI(n){return["BR","WBR"].includes(n.tagName)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isLineBreakTag=void 0;var e=Wd;Object.defineProperty(n,"isLineBreakTag",{enumerable:!0,get:function(){return e.isLineBreakTag}})})(Rs);var Ls={},qd={};Object.defineProperty(qd,"__esModule",{value:!0});qd.isSingleTag=AI;function AI(n){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(n.tagName)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isSingleTag=void 0;var e=qd;Object.defineProperty(n,"isSingleTag",{enumerable:!0,get:function(){return e.isSingleTag}})})(Ls);Object.defineProperty(zd,"__esModule",{value:!0});zd.getDeepestNode=Ky;var OI=En,RI=Rs,LI=Ls;function Ky(n,e){e===void 0&&(e=!1);var t=e?"lastChild":"firstChild",r=e?"previousSibling":"nextSibling";if(n.nodeType===Node.ELEMENT_NODE&&n[t]){var o=n[t];if((0,LI.isSingleTag)(o)&&!(0,OI.isNativeInput)(o)&&!(0,RI.isLineBreakTag)(o))if(o[r])o=o[r];else if(o.parentNode!==null&&o.parentNode[r])o=o.parentNode[r];else return o.parentNode;return Ky(o,e)}return n}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDeepestNode=void 0;var e=zd;Object.defineProperty(n,"getDeepestNode",{enumerable:!0,get:function(){return e.getDeepestNode}})})(Yy);var Qy={},Gd={},Is=_s&&_s.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(Gd,"__esModule",{value:!0});Gd.findAllInputs=HI;var PI=As,BI=$d,FI=Sd,jI=En;function HI(n){return Array.from(n.querySelectorAll((0,FI.allInputsSelector)())).reduce(function(e,t){return(0,jI.isNativeInput)(t)||(0,PI.containsOnlyInlineElements)(t)?Is(Is([],e,!0),[t],!1):Is(Is([],e,!0),(0,BI.getDeepestBlockElements)(t),!0)},[])}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.findAllInputs=void 0;var e=Gd;Object.defineProperty(n,"findAllInputs",{enumerable:!0,get:function(){return e.findAllInputs}})})(Qy);var Xy={},Zd={};Object.defineProperty(Zd,"__esModule",{value:!0});Zd.isCollapsedWhitespaces=VI;function VI(n){return!/[^\t\n\r ]/.test(n)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isCollapsedWhitespaces=void 0;var e=Zd;Object.defineProperty(n,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return e.isCollapsedWhitespaces}})})(Xy);var Yd={},Kd={};Object.defineProperty(Kd,"__esModule",{value:!0});Kd.isElement=UI;var $I=Fd;function UI(n){return(0,$I.isNumber)(n)?!1:!!n&&!!n.nodeType&&n.nodeType===Node.ELEMENT_NODE}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isElement=void 0;var e=Kd;Object.defineProperty(n,"isElement",{enumerable:!0,get:function(){return e.isElement}})})(Yd);var Jy={},Qd={},Xd={},Jd={};Object.defineProperty(Jd,"__esModule",{value:!0});Jd.isLeaf=zI;function zI(n){return n===null?!1:n.childNodes.length===0}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isLeaf=void 0;var e=Jd;Object.defineProperty(n,"isLeaf",{enumerable:!0,get:function(){return e.isLeaf}})})(Xd);var ef={},tf={};Object.defineProperty(tf,"__esModule",{value:!0});tf.isNodeEmpty=YI;var WI=Rs,qI=Yd,GI=En,ZI=Ls;function YI(n,e){var t="";return(0,ZI.isSingleTag)(n)&&!(0,WI.isLineBreakTag)(n)?!1:((0,qI.isElement)(n)&&(0,GI.isNativeInput)(n)?t=n.value:n.textContent!==null&&(t=n.textContent.replace("\u200B","")),e!==void 0&&(t=t.replace(new RegExp(e,"g"),"")),t.trim().length===0)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isNodeEmpty=void 0;var e=tf;Object.defineProperty(n,"isNodeEmpty",{enumerable:!0,get:function(){return e.isNodeEmpty}})})(ef);Object.defineProperty(Qd,"__esModule",{value:!0});Qd.isEmpty=XI;var KI=Xd,QI=ef;function XI(n,e){n.normalize();for(var t=[n];t.length>0;){var r=t.shift();if(r){if(n=r,(0,KI.isLeaf)(n)&&!(0,QI.isNodeEmpty)(n,e))return!1;t.push.apply(t,Array.from(n.childNodes))}}return!0}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isEmpty=void 0;var e=Qd;Object.defineProperty(n,"isEmpty",{enumerable:!0,get:function(){return e.isEmpty}})})(Jy);var eb={},nf={};Object.defineProperty(nf,"__esModule",{value:!0});nf.isFragment=eT;var JI=Fd;function eT(n){return(0,JI.isNumber)(n)?!1:!!n&&!!n.nodeType&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isFragment=void 0;var e=nf;Object.defineProperty(n,"isFragment",{enumerable:!0,get:function(){return e.isFragment}})})(eb);var tb={},rf={};Object.defineProperty(rf,"__esModule",{value:!0});rf.isHTMLString=nT;var tT=Os;function nT(n){var e=(0,tT.make)("div");return e.innerHTML=n,e.childElementCount>0}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isHTMLString=void 0;var e=rf;Object.defineProperty(n,"isHTMLString",{enumerable:!0,get:function(){return e.isHTMLString}})})(tb);var nb={},of={};Object.defineProperty(of,"__esModule",{value:!0});of.offset=rT;function rT(n){var e=n.getBoundingClientRect(),t=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,o=e.top+r,i=e.left+t;return{top:o,left:i,bottom:o+e.height,right:i+e.width}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.offset=void 0;var e=of;Object.defineProperty(n,"offset",{enumerable:!0,get:function(){return e.offset}})})(nb);var rb={},sf={};Object.defineProperty(sf,"__esModule",{value:!0});sf.prepend=oT;function oT(n,e){Array.isArray(e)?(e=e.reverse(),e.forEach(function(t){return n.prepend(t)})):n.prepend(e)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.prepend=void 0;var e=sf;Object.defineProperty(n,"prepend",{enumerable:!0,get:function(){return e.prepend}})})(rb);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.prepend=n.offset=n.make=n.isLineBreakTag=n.isSingleTag=n.isNodeEmpty=n.isLeaf=n.isHTMLString=n.isFragment=n.isEmpty=n.isElement=n.isContentEditable=n.isCollapsedWhitespaces=n.findAllInputs=n.isNativeInput=n.allInputsSelector=n.getDeepestNode=n.getDeepestBlockElements=n.getContentLength=n.fragmentToString=n.containsOnlyInlineElements=n.canSetCaret=n.calculateBaseline=n.blockElements=n.append=void 0;var e=Sd;Object.defineProperty(n,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}});var t=En;Object.defineProperty(n,"isNativeInput",{enumerable:!0,get:function(){return t.isNativeInput}});var r=Vy;Object.defineProperty(n,"append",{enumerable:!0,get:function(){return r.append}});var o=_d;Object.defineProperty(n,"blockElements",{enumerable:!0,get:function(){return o.blockElements}});var i=$y;Object.defineProperty(n,"calculateBaseline",{enumerable:!0,get:function(){return i.calculateBaseline}});var s=Uy;Object.defineProperty(n,"canSetCaret",{enumerable:!0,get:function(){return s.canSetCaret}});var a=As;Object.defineProperty(n,"containsOnlyInlineElements",{enumerable:!0,get:function(){return a.containsOnlyInlineElements}});var l=qy;Object.defineProperty(n,"fragmentToString",{enumerable:!0,get:function(){return l.fragmentToString}});var c=Gy;Object.defineProperty(n,"getContentLength",{enumerable:!0,get:function(){return c.getContentLength}});var u=$d;Object.defineProperty(n,"getDeepestBlockElements",{enumerable:!0,get:function(){return u.getDeepestBlockElements}});var d=Yy;Object.defineProperty(n,"getDeepestNode",{enumerable:!0,get:function(){return d.getDeepestNode}});var f=Qy;Object.defineProperty(n,"findAllInputs",{enumerable:!0,get:function(){return f.findAllInputs}});var h=Xy;Object.defineProperty(n,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return h.isCollapsedWhitespaces}});var p=Rd;Object.defineProperty(n,"isContentEditable",{enumerable:!0,get:function(){return p.isContentEditable}});var m=Yd;Object.defineProperty(n,"isElement",{enumerable:!0,get:function(){return m.isElement}});var w=Jy;Object.defineProperty(n,"isEmpty",{enumerable:!0,get:function(){return w.isEmpty}});var x=eb;Object.defineProperty(n,"isFragment",{enumerable:!0,get:function(){return x.isFragment}});var R=tb;Object.defineProperty(n,"isHTMLString",{enumerable:!0,get:function(){return R.isHTMLString}});var J=Xd;Object.defineProperty(n,"isLeaf",{enumerable:!0,get:function(){return J.isLeaf}});var Y=ef;Object.defineProperty(n,"isNodeEmpty",{enumerable:!0,get:function(){return Y.isNodeEmpty}});var oe=Rs;Object.defineProperty(n,"isLineBreakTag",{enumerable:!0,get:function(){return oe.isLineBreakTag}});var ne=Ls;Object.defineProperty(n,"isSingleTag",{enumerable:!0,get:function(){return ne.isSingleTag}});var Ee=Os;Object.defineProperty(n,"make",{enumerable:!0,get:function(){return Ee.make}});var E=nb;Object.defineProperty(n,"offset",{enumerable:!0,get:function(){return E.offset}});var b=rb;Object.defineProperty(n,"prepend",{enumerable:!0,get:function(){return b.prepend}})})(Ts);var ob=(n=>(n.Left="left",n.Center="center",n))(ob||{}),Ns=class n{constructor({data:e,config:t,api:r,readOnly:o,block:i}){let{DEFAULT_ALIGNMENT:s}=n;this.api=r,this.readOnly=o,this.quotePlaceholder=r.i18n.t(t?.quotePlaceholder??n.DEFAULT_QUOTE_PLACEHOLDER),this.captionPlaceholder=r.i18n.t(t?.captionPlaceholder??n.DEFAULT_CAPTION_PLACEHOLDER),this.data={text:e.text||"",caption:e.caption||"",alignment:Object.values(ob).includes(e.alignment)?e.alignment:t?.defaultAlignment??s},this.css={baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"},this.block=i}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:WS,title:"Quote"}}static get contentless(){return!0}static get enableLineBreaks(){return!0}static get DEFAULT_QUOTE_PLACEHOLDER(){return"Enter a quote"}static get DEFAULT_CAPTION_PLACEHOLDER(){return"Enter a caption"}static get DEFAULT_ALIGNMENT(){return"left"}static get conversionConfig(){return{import:"text",export:function(e){return e.caption?`${e.text} \u2014 ${e.caption}`:e.text}}}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}get settings(){return[{name:"left",icon:zS},{name:"center",icon:US}]}render(){let e=Ts.make("blockquote",[this.css.baseClass,this.css.wrapper]),t=Ts.make("div",[this.css.input,this.css.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),r=Ts.make("div",[this.css.input,this.css.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return t.dataset.placeholder=this.quotePlaceholder,r.dataset.placeholder=this.captionPlaceholder,e.appendChild(t),e.appendChild(r),e}save(e){let t=e.querySelector(`.${this.css.text}`),r=e.querySelector(`.${this.css.caption}`);return Object.assign(this.data,{text:t?.innerHTML??"",caption:r?.innerHTML??""})}static get sanitize(){return{text:{br:!0},caption:{br:!0},alignment:{}}}renderSettings(){let e=t=>t&&t[0].toUpperCase()+t.slice(1);return this.settings.map(t=>({icon:t.icon,label:this.api.i18n.t(`Align ${e(t.name)}`),onActivate:()=>this._toggleTune(t.name),isActive:this.data.alignment===t.name,closeOnActivate:!0}))}_toggleTune(e){this.data.alignment=e,this.block.dispatchChange()}};(function(){"use strict";try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".cdx-simple-image .cdx-loader{min-height:200px}.cdx-simple-image .cdx-input{margin-top:10px}.cdx-simple-image img{max-width:100%;vertical-align:bottom}.cdx-simple-image__caption[contentEditable=true][data-placeholder]:empty:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-simple-image__caption[contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-simple-image__caption[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-simple-image__picture--with-background{background:#eff2f5;padding:10px}.cdx-simple-image__picture--with-background img{display:block;max-width:60%;margin:0 auto}.cdx-simple-image__picture--with-border{border:1px solid #e8e8eb;padding:1px}.cdx-simple-image__picture--stretched img{max-width:none;width:100%}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var iT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',sT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',aT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',Ps=class{constructor({data:e,config:t,api:r,readOnly:o}){this.api=r,this.readOnly=o,this.blockIndex=this.api.blocks.getCurrentBlockIndex()+1,this.CSS={baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,wrapper:"cdx-simple-image",imageHolder:"cdx-simple-image__picture",caption:"cdx-simple-image__caption"},this.nodes={wrapper:null,imageHolder:null,image:null,caption:null},this.data={url:e.url||"",caption:e.caption||"",withBorder:e.withBorder!==void 0?e.withBorder:!1,withBackground:e.withBackground!==void 0?e.withBackground:!1,stretched:e.stretched!==void 0?e.stretched:!1},this.tunes=[{name:"withBorder",label:"Add Border",icon:sT},{name:"stretched",label:"Stretch Image",icon:aT},{name:"withBackground",label:"Add Background",icon:iT}]}render(){let e=this._make("div",[this.CSS.baseClass,this.CSS.wrapper]),t=this._make("div",this.CSS.loading),r=this._make("div",this.CSS.imageHolder),o=this._make("img"),i=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption||""});return i.dataset.placeholder="Enter a caption",e.appendChild(t),this.data.url&&(o.src=this.data.url),o.onload=()=>{e.classList.remove(this.CSS.loading),r.appendChild(o),e.appendChild(r),e.appendChild(i),t.remove(),this._acceptTuneView()},o.onerror=s=>{console.log("Failed to load an image",s)},this.nodes.imageHolder=r,this.nodes.wrapper=e,this.nodes.image=o,this.nodes.caption=i,e}save(e){let t=e.querySelector("img"),r=e.querySelector("."+this.CSS.input);return t?Object.assign(this.data,{url:t.src,caption:r.innerHTML}):this.data}static get sanitize(){return{url:{},withBorder:{},withBackground:{},stretched:{},caption:{br:!0}}}static get isReadOnlySupported(){return!0}onDropHandler(e){let t=new FileReader;return t.readAsDataURL(e),new Promise(r=>{t.onload=o=>{r({url:o.target.result,caption:e.name})}})}onPaste(e){switch(e.type){case"tag":{let t=e.detail.data;this.data={url:t.src};break}case"pattern":{let{data:t}=e.detail;this.data={url:t};break}case"file":{let{file:t}=e.detail;this.onDropHandler(t).then(r=>{this.data=r});break}}}get data(){return this._data}set data(e){this._data=Object.assign({},this.data,e),this.nodes.image&&(this.nodes.image.src=this.data.url),this.nodes.caption&&(this.nodes.caption.innerHTML=this.data.caption)}static get pasteConfig(){return{patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|webp)$/i},tags:[{img:{src:!0}}],files:{mimeTypes:["image/*"]}}}renderSettings(){return this.tunes.map(e=>L(v({},e),{label:this.api.i18n.t(e.label),toggle:!0,onActivate:()=>this._toggleTune(e.name),isActive:!!this.data[e.name]}))}_make(e,t=null,r={}){let o=document.createElement(e);Array.isArray(t)?o.classList.add(...t):t&&o.classList.add(t);for(let i in r)o[i]=r[i];return o}_toggleTune(e){this.data[e]=!this.data[e],this._acceptTuneView()}_acceptTuneView(){this.tunes.forEach(e=>{this.nodes.imageHolder.classList.toggle(this.CSS.imageHolder+"--"+e.name.replace(/([A-Z])/g,t=>`-${t[0].toLowerCase()}`),!!this.data[e.name]),e.name==="stretched"&&this.api.blocks.stretchBlock(this.blockIndex,!!this.data.stretched)})}};(function(){"use strict";try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode('.cdx-list{margin:0;padding:0;outline:none;display:grid;counter-reset:item;gap:var(--spacing-s);padding:var(--spacing-xs);--spacing-s: 8px;--spacing-xs: 6px;--list-counter-type: numeric;--radius-border: 5px;--checkbox-background: #fff;--color-border: #C9C9C9;--color-bg-checked: #369FFF;--line-height: 1.45em;--color-bg-checked-hover: #0059AB;--color-tick: #fff;--size-checkbox: 1.2em}.cdx-list__item{line-height:var(--line-height);display:grid;grid-template-columns:auto 1fr;grid-template-rows:auto auto;grid-template-areas:"checkbox content" ". child"}.cdx-list__item-children{display:grid;grid-area:child;gap:var(--spacing-s);padding-top:var(--spacing-s)}.cdx-list__item [contenteditable]{outline:none}.cdx-list__item-content{word-break:break-word;white-space:pre-wrap;grid-area:content;padding-left:var(--spacing-s)}.cdx-list__item:before{counter-increment:item;white-space:nowrap}.cdx-list-ordered .cdx-list__item:before{content:counters(item,".",var(--list-counter-type)) "."}.cdx-list-ordered{counter-reset:item}.cdx-list-unordered .cdx-list__item:before{content:"\u2022"}.cdx-list-checklist .cdx-list__item:before{content:""}.cdx-list__settings .cdx-settings-button{width:50%}.cdx-list__checkbox{padding-top:calc((var(--line-height) - var(--size-checkbox)) / 2);grid-area:checkbox;width:var(--size-checkbox);height:var(--size-checkbox);display:flex;cursor:pointer}.cdx-list__checkbox svg{opacity:0;height:var(--size-checkbox);width:var(--size-checkbox);left:-1px;top:-1px;position:absolute}@media (hover: hover){.cdx-list__checkbox:not(.cdx-list__checkbox--no-hover):hover .cdx-list__checkbox-check svg{opacity:1}}.cdx-list__checkbox--checked{line-height:var(--line-height)}@media (hover: hover){.cdx-list__checkbox--checked:not(.cdx-list__checkbox--checked--no-hover):hover .cdx-checklist__checkbox-check{background:var(--color-bg-checked-hover);border-color:var(--color-bg-checked-hover)}}.cdx-list__checkbox--checked .cdx-list__checkbox-check{background:var(--color-bg-checked);border-color:var(--color-bg-checked)}.cdx-list__checkbox--checked .cdx-list__checkbox-check svg{opacity:1}.cdx-list__checkbox--checked .cdx-list__checkbox-check svg path{stroke:var(--color-tick)}.cdx-list__checkbox--checked .cdx-list__checkbox-check:before{opacity:0;visibility:visible;transform:scale(2.5)}.cdx-list__checkbox-check{cursor:pointer;display:inline-block;position:relative;margin:0 auto;width:var(--size-checkbox);height:var(--size-checkbox);box-sizing:border-box;border-radius:var(--radius-border);border:1px solid var(--color-border);background:var(--checkbox-background)}.cdx-list__checkbox-check:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border-radius:100%;background-color:var(--color-bg-checked);visibility:hidden;pointer-events:none;transform:scale(1);transition:transform .4s ease-out,opacity .4s}.cdx-list-start-with-field{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-list-start-with-field--invalid{background:#FFECED;border:1px solid #E13F3F}.cdx-list-start-with-field--invalid .cdx-list-start-with-field__input{color:#e13f3f}.cdx-list-start-with-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - var(--toolbox-buttons-size) - var(--icon-margin-right))}.cdx-list-start-with-field__input::placeholder{color:var(--grayText);font-weight:500}')),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var lT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 12L10.4884 15.8372C10.5677 15.9245 10.705 15.9245 10.7844 15.8372L17 9"/></svg>',ib='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',sb='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',ab='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>',cT='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 14.2L10 7.4135C10 7.32872 9.90111 7.28241 9.83598 7.33668L7 9.7" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',uT='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 14.2L10 9.5" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 7.01L10 7" stroke="black" stroke-width="1.8" stroke-linecap="round"/></svg>',dT='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 14.2L10 7.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',fT='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.0087 14.2H16" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M7 14.2L7.78865 12M13 14.2L12.1377 12M7.78865 12C7.78865 12 9.68362 7 10 7C10.3065 7 12.1377 12 12.1377 12M7.78865 12L12.1377 12" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',hT='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.2087 14.2H14.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M11.5 14.5C11.5 14.5 11 13.281 11 12.5M7 9.5C7 9.5 7.5 8.5 9 8.5C10.5 8.5 11 9.5 11 10.5L11 11.5M11 11.5L11 12.5M11 11.5C11 11.5 7 11 7 13C7 15.3031 11 15 11 12.5" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',pT='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 14.2L8 7.4135C8 7.32872 7.90111 7.28241 7.83598 7.33668L5 9.7" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M14 13L16.4167 10.7778M16.4167 10.7778L14 8.5M16.4167 10.7778H11.6562" stroke="black" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>',$s=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gT(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),t}var te={},ff={},hf={};Object.defineProperty(hf,"__esModule",{value:!0});hf.allInputsSelector=mT;function mT(){var n=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+n.map(function(e){return'input[type="'.concat(e,'"]')}).join(", ")}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.allInputsSelector=void 0;var e=hf;Object.defineProperty(n,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}})})(ff);var kn={},pf={};Object.defineProperty(pf,"__esModule",{value:!0});pf.isNativeInput=vT;function vT(n){var e=["INPUT","TEXTAREA"];return n&&n.tagName?e.includes(n.tagName):!1}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isNativeInput=void 0;var e=pf;Object.defineProperty(n,"isNativeInput",{enumerable:!0,get:function(){return e.isNativeInput}})})(kn);var db={},gf={};Object.defineProperty(gf,"__esModule",{value:!0});gf.append=yT;function yT(n,e){Array.isArray(e)?e.forEach(function(t){n.appendChild(t)}):n.appendChild(e)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.append=void 0;var e=gf;Object.defineProperty(n,"append",{enumerable:!0,get:function(){return e.append}})})(db);var mf={},vf={};Object.defineProperty(vf,"__esModule",{value:!0});vf.blockElements=bT;function bT(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.blockElements=void 0;var e=vf;Object.defineProperty(n,"blockElements",{enumerable:!0,get:function(){return e.blockElements}})})(mf);var fb={},yf={};Object.defineProperty(yf,"__esModule",{value:!0});yf.calculateBaseline=wT;function wT(n){var e=window.getComputedStyle(n),t=parseFloat(e.fontSize),r=parseFloat(e.lineHeight)||t*1.2,o=parseFloat(e.paddingTop),i=parseFloat(e.borderTopWidth),s=parseFloat(e.marginTop),a=t*.8,l=(r-t)/2,c=s+i+o+l+a;return c}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.calculateBaseline=void 0;var e=yf;Object.defineProperty(n,"calculateBaseline",{enumerable:!0,get:function(){return e.calculateBaseline}})})(fb);var hb={},bf={},wf={},Cf={};Object.defineProperty(Cf,"__esModule",{value:!0});Cf.isContentEditable=CT;function CT(n){return n.contentEditable==="true"}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isContentEditable=void 0;var e=Cf;Object.defineProperty(n,"isContentEditable",{enumerable:!0,get:function(){return e.isContentEditable}})})(wf);Object.defineProperty(bf,"__esModule",{value:!0});bf.canSetCaret=kT;var ET=kn,xT=wf;function kT(n){var e=!0;if((0,ET.isNativeInput)(n))switch(n.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":e=!1;break}else e=(0,xT.isContentEditable)(n);return e}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.canSetCaret=void 0;var e=bf;Object.defineProperty(n,"canSetCaret",{enumerable:!0,get:function(){return e.canSetCaret}})})(hb);var qs={},Ef={};function DT(n,e,t){let r=t.value!==void 0?"value":"get",o=t[r],i=`#${e}Cache`;if(t[r]=function(...s){return this[i]===void 0&&(this[i]=o.apply(this,s)),this[i]},r==="get"&&t.set){let s=t.set;t.set=function(a){delete n[i],s.apply(this,a)}}return t}function pb(){let n={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(n).find(t=>window.navigator.appVersion.toLowerCase().indexOf(t)!==-1);return e!==void 0&&(n[e]=!0),n}function xf(n){return n!=null&&n!==""&&(typeof n!="object"||Object.keys(n).length>0)}function ST(n){return!xf(n)}var IT=()=>typeof window<"u"&&window.navigator!==null&&xf(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function TT(n){let e=pb();return n=n.replace(/shift/gi,"\u21E7").replace(/backspace/gi,"\u232B").replace(/enter/gi,"\u23CE").replace(/up/gi,"\u2191").replace(/left/gi,"\u2192").replace(/down/gi,"\u2193").replace(/right/gi,"\u2190").replace(/escape/gi,"\u238B").replace(/insert/gi,"Ins").replace(/delete/gi,"\u2421").replace(/\+/gi,"+"),e.mac?n=n.replace(/ctrl|cmd/gi,"\u2318").replace(/alt/gi,"\u2325"):n=n.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),n}function MT(n){return n[0].toUpperCase()+n.slice(1)}function _T(n){let e=document.createElement("div");e.style.position="absolute",e.style.left="-999px",e.style.bottom="-999px",e.innerHTML=n,document.body.appendChild(e);let t=window.getSelection(),r=document.createRange();if(r.selectNode(e),t===null)throw new Error("Cannot copy text to clipboard");t.removeAllRanges(),t.addRange(r),document.execCommand("copy"),document.body.removeChild(e)}function NT(n,e,t){let r;return(...o)=>{let i=this,s=()=>{r=void 0,t!==!0&&n.apply(i,o)},a=t===!0&&r!==void 0;window.clearTimeout(r),r=window.setTimeout(s,e),a&&n.apply(i,o)}}function Zt(n){return Object.prototype.toString.call(n).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function AT(n){return Zt(n)==="boolean"}function gb(n){return Zt(n)==="function"||Zt(n)==="asyncfunction"}function OT(n){return gb(n)&&/^\s*class\s+/.test(n.toString())}function RT(n){return Zt(n)==="number"}function Hs(n){return Zt(n)==="object"}function LT(n){return Promise.resolve(n)===n}function PT(n){return Zt(n)==="string"}function BT(n){return Zt(n)==="undefined"}function cf(n,...e){if(!e.length)return n;let t=e.shift();if(Hs(n)&&Hs(t))for(let r in t)Hs(t[r])?(n[r]===void 0&&Object.assign(n,{[r]:{}}),cf(n[r],t[r])):Object.assign(n,{[r]:t[r]});return cf(n,...e)}function FT(n,e,t){let r=`\xAB${e}\xBB is deprecated and will be removed in the next major release. Please use the \xAB${t}\xBB instead.`;n&&console.warn(r)}function jT(n){try{return new URL(n).href}catch{}return n.substring(0,2)==="//"?window.location.protocol+n:window.location.origin+n}function HT(n){return n>47&&n<58||n===32||n===13||n===229||n>64&&n<91||n>95&&n<112||n>185&&n<193||n>218&&n<223}var VT={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},$T={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4},uf=class{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((t,r)=>{this.completed=this.completed.then(e).then(t).catch(r)})}};function UT(n,e,t=void 0){let r,o,i,s=null,a=0;t||(t={});let l=function(){a=t.leading===!1?0:Date.now(),s=null,i=n.apply(r,o),s===null&&(r=o=null)};return function(){let c=Date.now();!a&&t.leading===!1&&(a=c);let u=e-(c-a);return r=this,o=arguments,u<=0||u>e?(s&&(clearTimeout(s),s=null),a=c,i=n.apply(r,o),s===null&&(r=o=null)):!s&&t.trailing!==!1&&(s=setTimeout(l,u)),i}}var zT=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:uf,beautifyShortcut:TT,cacheable:DT,capitalize:MT,copyTextToClipboard:_T,debounce:NT,deepMerge:cf,deprecationAssert:FT,getUserOS:pb,getValidUrl:jT,isBoolean:AT,isClass:OT,isEmpty:ST,isFunction:gb,isIosDevice:IT,isNumber:RT,isObject:Hs,isPrintableKey:HT,isPromise:LT,isString:PT,isUndefined:BT,keyCodes:VT,mouseButtons:$T,notEmpty:xf,throttle:UT,typeOf:Zt},Symbol.toStringTag,{value:"Module"})),kf=gT(zT);Object.defineProperty(Ef,"__esModule",{value:!0});Ef.containsOnlyInlineElements=GT;var WT=kf,qT=mf;function GT(n){var e;(0,WT.isString)(n)?(e=document.createElement("div"),e.innerHTML=n):e=n;var t=function(r){return!(0,qT.blockElements)().includes(r.tagName.toLowerCase())&&Array.from(r.children).every(t)};return Array.from(e.children).every(t)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.containsOnlyInlineElements=void 0;var e=Ef;Object.defineProperty(n,"containsOnlyInlineElements",{enumerable:!0,get:function(){return e.containsOnlyInlineElements}})})(qs);var mb={},Df={},Gs={},Sf={};Object.defineProperty(Sf,"__esModule",{value:!0});Sf.make=ZT;function ZT(n,e,t){var r;e===void 0&&(e=null),t===void 0&&(t={});var o=document.createElement(n);if(Array.isArray(e)){var i=e.filter(function(a){return a!==void 0});(r=o.classList).add.apply(r,i)}else e!==null&&o.classList.add(e);for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(o[s]=t[s]);return o}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.make=void 0;var e=Sf;Object.defineProperty(n,"make",{enumerable:!0,get:function(){return e.make}})})(Gs);Object.defineProperty(Df,"__esModule",{value:!0});Df.fragmentToString=KT;var YT=Gs;function KT(n){var e=(0,YT.make)("div");return e.appendChild(n),e.innerHTML}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.fragmentToString=void 0;var e=Df;Object.defineProperty(n,"fragmentToString",{enumerable:!0,get:function(){return e.fragmentToString}})})(mb);var vb={},If={};Object.defineProperty(If,"__esModule",{value:!0});If.getContentLength=XT;var QT=kn;function XT(n){var e,t;return(0,QT.isNativeInput)(n)?n.value.length:n.nodeType===Node.TEXT_NODE?n.length:(t=(e=n.textContent)===null||e===void 0?void 0:e.length)!==null&&t!==void 0?t:0}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getContentLength=void 0;var e=If;Object.defineProperty(n,"getContentLength",{enumerable:!0,get:function(){return e.getContentLength}})})(vb);var Tf={},Mf={},lb=$s&&$s.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(Mf,"__esModule",{value:!0});Mf.getDeepestBlockElements=yb;var JT=qs;function yb(n){return(0,JT.containsOnlyInlineElements)(n)?[n]:Array.from(n.children).reduce(function(e,t){return lb(lb([],e,!0),yb(t),!0)},[])}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDeepestBlockElements=void 0;var e=Mf;Object.defineProperty(n,"getDeepestBlockElements",{enumerable:!0,get:function(){return e.getDeepestBlockElements}})})(Tf);var bb={},_f={},Zs={},Nf={};Object.defineProperty(Nf,"__esModule",{value:!0});Nf.isLineBreakTag=eM;function eM(n){return["BR","WBR"].includes(n.tagName)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isLineBreakTag=void 0;var e=Nf;Object.defineProperty(n,"isLineBreakTag",{enumerable:!0,get:function(){return e.isLineBreakTag}})})(Zs);var Ys={},Af={};Object.defineProperty(Af,"__esModule",{value:!0});Af.isSingleTag=tM;function tM(n){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(n.tagName)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isSingleTag=void 0;var e=Af;Object.defineProperty(n,"isSingleTag",{enumerable:!0,get:function(){return e.isSingleTag}})})(Ys);Object.defineProperty(_f,"__esModule",{value:!0});_f.getDeepestNode=wb;var nM=kn,rM=Zs,oM=Ys;function wb(n,e){e===void 0&&(e=!1);var t=e?"lastChild":"firstChild",r=e?"previousSibling":"nextSibling";if(n.nodeType===Node.ELEMENT_NODE&&n[t]){var o=n[t];if((0,oM.isSingleTag)(o)&&!(0,nM.isNativeInput)(o)&&!(0,rM.isLineBreakTag)(o))if(o[r])o=o[r];else if(o.parentNode!==null&&o.parentNode[r])o=o.parentNode[r];else return o.parentNode;return wb(o,e)}return n}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDeepestNode=void 0;var e=_f;Object.defineProperty(n,"getDeepestNode",{enumerable:!0,get:function(){return e.getDeepestNode}})})(bb);var Cb={},Of={},Bs=$s&&$s.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(Of,"__esModule",{value:!0});Of.findAllInputs=cM;var iM=qs,sM=Tf,aM=ff,lM=kn;function cM(n){return Array.from(n.querySelectorAll((0,aM.allInputsSelector)())).reduce(function(e,t){return(0,lM.isNativeInput)(t)||(0,iM.containsOnlyInlineElements)(t)?Bs(Bs([],e,!0),[t],!1):Bs(Bs([],e,!0),(0,sM.getDeepestBlockElements)(t),!0)},[])}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.findAllInputs=void 0;var e=Of;Object.defineProperty(n,"findAllInputs",{enumerable:!0,get:function(){return e.findAllInputs}})})(Cb);var Eb={},Rf={};Object.defineProperty(Rf,"__esModule",{value:!0});Rf.isCollapsedWhitespaces=uM;function uM(n){return!/[^\t\n\r ]/.test(n)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isCollapsedWhitespaces=void 0;var e=Rf;Object.defineProperty(n,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return e.isCollapsedWhitespaces}})})(Eb);var Lf={},Pf={};Object.defineProperty(Pf,"__esModule",{value:!0});Pf.isElement=fM;var dM=kf;function fM(n){return(0,dM.isNumber)(n)?!1:!!n&&!!n.nodeType&&n.nodeType===Node.ELEMENT_NODE}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isElement=void 0;var e=Pf;Object.defineProperty(n,"isElement",{enumerable:!0,get:function(){return e.isElement}})})(Lf);var xb={},Bf={},Ff={},jf={};Object.defineProperty(jf,"__esModule",{value:!0});jf.isLeaf=hM;function hM(n){return n===null?!1:n.childNodes.length===0}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isLeaf=void 0;var e=jf;Object.defineProperty(n,"isLeaf",{enumerable:!0,get:function(){return e.isLeaf}})})(Ff);var Hf={},Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});Vf.isNodeEmpty=yM;var pM=Zs,gM=Lf,mM=kn,vM=Ys;function yM(n,e){var t="";return(0,vM.isSingleTag)(n)&&!(0,pM.isLineBreakTag)(n)?!1:((0,gM.isElement)(n)&&(0,mM.isNativeInput)(n)?t=n.value:n.textContent!==null&&(t=n.textContent.replace("\u200B","")),e!==void 0&&(t=t.replace(new RegExp(e,"g"),"")),t.trim().length===0)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isNodeEmpty=void 0;var e=Vf;Object.defineProperty(n,"isNodeEmpty",{enumerable:!0,get:function(){return e.isNodeEmpty}})})(Hf);Object.defineProperty(Bf,"__esModule",{value:!0});Bf.isEmpty=CM;var bM=Ff,wM=Hf;function CM(n,e){n.normalize();for(var t=[n];t.length>0;){var r=t.shift();if(r){if(n=r,(0,bM.isLeaf)(n)&&!(0,wM.isNodeEmpty)(n,e))return!1;t.push.apply(t,Array.from(n.childNodes))}}return!0}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isEmpty=void 0;var e=Bf;Object.defineProperty(n,"isEmpty",{enumerable:!0,get:function(){return e.isEmpty}})})(xb);var kb={},$f={};Object.defineProperty($f,"__esModule",{value:!0});$f.isFragment=xM;var EM=kf;function xM(n){return(0,EM.isNumber)(n)?!1:!!n&&!!n.nodeType&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isFragment=void 0;var e=$f;Object.defineProperty(n,"isFragment",{enumerable:!0,get:function(){return e.isFragment}})})(kb);var Db={},Uf={};Object.defineProperty(Uf,"__esModule",{value:!0});Uf.isHTMLString=DM;var kM=Gs;function DM(n){var e=(0,kM.make)("div");return e.innerHTML=n,e.childElementCount>0}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isHTMLString=void 0;var e=Uf;Object.defineProperty(n,"isHTMLString",{enumerable:!0,get:function(){return e.isHTMLString}})})(Db);var Sb={},zf={};Object.defineProperty(zf,"__esModule",{value:!0});zf.offset=SM;function SM(n){var e=n.getBoundingClientRect(),t=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,o=e.top+r,i=e.left+t;return{top:o,left:i,bottom:o+e.height,right:i+e.width}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.offset=void 0;var e=zf;Object.defineProperty(n,"offset",{enumerable:!0,get:function(){return e.offset}})})(Sb);var Ib={},Wf={};Object.defineProperty(Wf,"__esModule",{value:!0});Wf.prepend=IM;function IM(n,e){Array.isArray(e)?(e=e.reverse(),e.forEach(function(t){return n.prepend(t)})):n.prepend(e)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.prepend=void 0;var e=Wf;Object.defineProperty(n,"prepend",{enumerable:!0,get:function(){return e.prepend}})})(Ib);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.prepend=n.offset=n.make=n.isLineBreakTag=n.isSingleTag=n.isNodeEmpty=n.isLeaf=n.isHTMLString=n.isFragment=n.isEmpty=n.isElement=n.isContentEditable=n.isCollapsedWhitespaces=n.findAllInputs=n.isNativeInput=n.allInputsSelector=n.getDeepestNode=n.getDeepestBlockElements=n.getContentLength=n.fragmentToString=n.containsOnlyInlineElements=n.canSetCaret=n.calculateBaseline=n.blockElements=n.append=void 0;var e=ff;Object.defineProperty(n,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}});var t=kn;Object.defineProperty(n,"isNativeInput",{enumerable:!0,get:function(){return t.isNativeInput}});var r=db;Object.defineProperty(n,"append",{enumerable:!0,get:function(){return r.append}});var o=mf;Object.defineProperty(n,"blockElements",{enumerable:!0,get:function(){return o.blockElements}});var i=fb;Object.defineProperty(n,"calculateBaseline",{enumerable:!0,get:function(){return i.calculateBaseline}});var s=hb;Object.defineProperty(n,"canSetCaret",{enumerable:!0,get:function(){return s.canSetCaret}});var a=qs;Object.defineProperty(n,"containsOnlyInlineElements",{enumerable:!0,get:function(){return a.containsOnlyInlineElements}});var l=mb;Object.defineProperty(n,"fragmentToString",{enumerable:!0,get:function(){return l.fragmentToString}});var c=vb;Object.defineProperty(n,"getContentLength",{enumerable:!0,get:function(){return c.getContentLength}});var u=Tf;Object.defineProperty(n,"getDeepestBlockElements",{enumerable:!0,get:function(){return u.getDeepestBlockElements}});var d=bb;Object.defineProperty(n,"getDeepestNode",{enumerable:!0,get:function(){return d.getDeepestNode}});var f=Cb;Object.defineProperty(n,"findAllInputs",{enumerable:!0,get:function(){return f.findAllInputs}});var h=Eb;Object.defineProperty(n,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return h.isCollapsedWhitespaces}});var p=wf;Object.defineProperty(n,"isContentEditable",{enumerable:!0,get:function(){return p.isContentEditable}});var m=Lf;Object.defineProperty(n,"isElement",{enumerable:!0,get:function(){return m.isElement}});var w=xb;Object.defineProperty(n,"isEmpty",{enumerable:!0,get:function(){return w.isEmpty}});var x=kb;Object.defineProperty(n,"isFragment",{enumerable:!0,get:function(){return x.isFragment}});var R=Db;Object.defineProperty(n,"isHTMLString",{enumerable:!0,get:function(){return R.isHTMLString}});var J=Ff;Object.defineProperty(n,"isLeaf",{enumerable:!0,get:function(){return J.isLeaf}});var Y=Hf;Object.defineProperty(n,"isNodeEmpty",{enumerable:!0,get:function(){return Y.isNodeEmpty}});var oe=Zs;Object.defineProperty(n,"isLineBreakTag",{enumerable:!0,get:function(){return oe.isLineBreakTag}});var ne=Ys;Object.defineProperty(n,"isSingleTag",{enumerable:!0,get:function(){return ne.isSingleTag}});var Ee=Gs;Object.defineProperty(n,"make",{enumerable:!0,get:function(){return Ee.make}});var E=Sb;Object.defineProperty(n,"offset",{enumerable:!0,get:function(){return E.offset}});var b=Ib;Object.defineProperty(n,"prepend",{enumerable:!0,get:function(){return b.prepend}})})(te);var Te="cdx-list",ke={wrapper:Te,item:`${Te}__item`,itemContent:`${Te}__item-content`,itemChildren:`${Te}__item-children`},Us=class n{static get CSS(){return L(v({},ke),{orderedList:`${Te}-ordered`})}constructor(e,t){this.config=t,this.readOnly=e}renderWrapper(e){let t;return e===!0?t=te.make("ol",[n.CSS.wrapper,n.CSS.orderedList]):t=te.make("ol",[n.CSS.orderedList,n.CSS.itemChildren]),t}renderItem(e,t){let r=te.make("li",n.CSS.item),o=te.make("div",n.CSS.itemContent,{innerHTML:e,contentEditable:(!this.readOnly).toString()});return r.appendChild(o),r}getItemContent(e){let t=e.querySelector(`.${n.CSS.itemContent}`);return!t||te.isEmpty(t)?"":t.innerHTML}getItemMeta(){return{}}composeDefaultMeta(){return{}}},zs=class n{static get CSS(){return L(v({},ke),{unorderedList:`${Te}-unordered`})}constructor(e,t){this.config=t,this.readOnly=e}renderWrapper(e){let t;return e===!0?t=te.make("ul",[n.CSS.wrapper,n.CSS.unorderedList]):t=te.make("ul",[n.CSS.unorderedList,n.CSS.itemChildren]),t}renderItem(e,t){let r=te.make("li",n.CSS.item),o=te.make("div",n.CSS.itemContent,{innerHTML:e,contentEditable:(!this.readOnly).toString()});return r.appendChild(o),r}getItemContent(e){let t=e.querySelector(`.${n.CSS.itemContent}`);return!t||te.isEmpty(t)?"":t.innerHTML}getItemMeta(){return{}}composeDefaultMeta(){return{}}};function xn(n){return n.nodeType===Node.ELEMENT_NODE}var Io={},qf={},Ks={},Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.getContenteditableSlice=MM;var TM=te;function MM(n,e,t,r,o){var i;o===void 0&&(o=!1);var s=document.createRange();if(r==="left"?(s.setStart(n,0),s.setEnd(e,t)):(s.setStart(e,t),s.setEnd(n,n.childNodes.length)),o===!0){var a=s.extractContents();return(0,TM.fragmentToString)(a)}var l=s.cloneContents(),c=document.createElement("div");c.appendChild(l);var u=(i=c.textContent)!==null&&i!==void 0?i:"";return u}Object.defineProperty(Ks,"__esModule",{value:!0});Ks.checkContenteditableSliceForEmptiness=AM;var _M=te,NM=Qs;function AM(n,e,t,r){var o=(0,NM.getContenteditableSlice)(n,e,t,r);return(0,_M.isCollapsedWhitespaces)(o)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.checkContenteditableSliceForEmptiness=void 0;var e=Ks;Object.defineProperty(n,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}})})(qf);var Tb={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getContenteditableSlice=void 0;var e=Qs;Object.defineProperty(n,"getContenteditableSlice",{enumerable:!0,get:function(){return e.getContenteditableSlice}})})(Tb);var Mb={},Gf={};Object.defineProperty(Gf,"__esModule",{value:!0});Gf.focus=RM;var OM=te;function RM(n,e){var t,r;if(e===void 0&&(e=!0),(0,OM.isNativeInput)(n)){n.focus();var o=e?0:n.value.length;n.setSelectionRange(o,o)}else{var i=document.createRange(),s=window.getSelection();if(!s)return;var a=function(f,h){h===void 0&&(h=!1);var p=document.createTextNode("");h?f.insertBefore(p,f.firstChild):f.appendChild(p),i.setStart(p,0),i.setEnd(p,0)},l=function(f){return f!=null},c=n.childNodes,u=e?c[0]:c[c.length-1];if(l(u)){for(;l(u)&&u.nodeType!==Node.TEXT_NODE;)u=e?u.firstChild:u.lastChild;if(l(u)&&u.nodeType===Node.TEXT_NODE){var d=(r=(t=u.textContent)===null||t===void 0?void 0:t.length)!==null&&r!==void 0?r:0,o=e?0:d;i.setStart(u,o),i.setEnd(u,o)}else a(n,e)}else a(n);s.removeAllRanges(),s.addRange(i)}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.focus=void 0;var e=Gf;Object.defineProperty(n,"focus",{enumerable:!0,get:function(){return e.focus}})})(Mb);var Zf={},Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.getCaretNodeAndOffset=LM;function LM(){var n=window.getSelection();if(n===null)return[null,0];var e=n.focusNode,t=n.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[t]!==void 0?(e=e.childNodes[t],t=0):(e=e.childNodes[t-1],e.textContent!==null&&(t=e.textContent.length))),[e,t])}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getCaretNodeAndOffset=void 0;var e=Xs;Object.defineProperty(n,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return e.getCaretNodeAndOffset}})})(Zf);var _b={},Js={};Object.defineProperty(Js,"__esModule",{value:!0});Js.getRange=PM;function PM(){var n=window.getSelection();return n&&n.rangeCount?n.getRangeAt(0):null}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRange=void 0;var e=Js;Object.defineProperty(n,"getRange",{enumerable:!0,get:function(){return e.getRange}})})(_b);var Nb={},Yf={};Object.defineProperty(Yf,"__esModule",{value:!0});Yf.isCaretAtEndOfInput=jM;var cb=te,BM=Zf,FM=qf;function jM(n){var e=(0,cb.getDeepestNode)(n,!0);if(e===null)return!0;if((0,cb.isNativeInput)(e))return e.selectionEnd===e.value.length;var t=(0,BM.getCaretNodeAndOffset)(),r=t[0],o=t[1];return r===null?!1:(0,FM.checkContenteditableSliceForEmptiness)(n,r,o,"right")}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isCaretAtEndOfInput=void 0;var e=Yf;Object.defineProperty(n,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return e.isCaretAtEndOfInput}})})(Nb);var Ab={},Kf={};Object.defineProperty(Kf,"__esModule",{value:!0});Kf.isCaretAtStartOfInput=$M;var Fs=te,HM=Xs,VM=Ks;function $M(n){var e=(0,Fs.getDeepestNode)(n);if(e===null||(0,Fs.isEmpty)(n))return!0;if((0,Fs.isNativeInput)(e))return e.selectionEnd===0;if((0,Fs.isEmpty)(n))return!0;var t=(0,HM.getCaretNodeAndOffset)(),r=t[0],o=t[1];return r===null?!1:(0,VM.checkContenteditableSliceForEmptiness)(n,r,o,"left")}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isCaretAtStartOfInput=void 0;var e=Kf;Object.defineProperty(n,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return e.isCaretAtStartOfInput}})})(Ab);var Ob={},Qf={};Object.defineProperty(Qf,"__esModule",{value:!0});Qf.save=WM;var UM=te,zM=Js;function WM(){var n=(0,zM.getRange)(),e=(0,UM.make)("span");if(e.id="cursor",e.hidden=!0,!!n)return n.insertNode(e),function(){var t=window.getSelection();t&&(n.setStartAfter(e),n.setEndAfter(e),t.removeAllRanges(),t.addRange(n),setTimeout(function(){e.remove()},150))}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.save=void 0;var e=Qf;Object.defineProperty(n,"save",{enumerable:!0,get:function(){return e.save}})})(Ob);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.save=n.isCaretAtStartOfInput=n.isCaretAtEndOfInput=n.getRange=n.getCaretNodeAndOffset=n.focus=n.getContenteditableSlice=n.checkContenteditableSliceForEmptiness=void 0;var e=qf;Object.defineProperty(n,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}});var t=Tb;Object.defineProperty(n,"getContenteditableSlice",{enumerable:!0,get:function(){return t.getContenteditableSlice}});var r=Mb;Object.defineProperty(n,"focus",{enumerable:!0,get:function(){return r.focus}});var o=Zf;Object.defineProperty(n,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return o.getCaretNodeAndOffset}});var i=_b;Object.defineProperty(n,"getRange",{enumerable:!0,get:function(){return i.getRange}});var s=Nb;Object.defineProperty(n,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return s.isCaretAtEndOfInput}});var a=Ab;Object.defineProperty(n,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return a.isCaretAtStartOfInput}});var l=Ob;Object.defineProperty(n,"save",{enumerable:!0,get:function(){return l.save}})})(Io);var df=class n{static get CSS(){return L(v({},ke),{checklist:`${Te}-checklist`,itemChecked:`${Te}__checkbox--checked`,noHover:`${Te}__checkbox--no-hover`,checkbox:`${Te}__checkbox-check`,checkboxContainer:`${Te}__checkbox`})}constructor(e,t){this.config=t,this.readOnly=e}renderWrapper(e){let t;return e===!0?(t=te.make("ul",[n.CSS.wrapper,n.CSS.checklist]),t.addEventListener("click",r=>{let o=r.target;if(o){let i=o.closest(`.${n.CSS.checkboxContainer}`);i&&i.contains(o)&&this.toggleCheckbox(i)}})):t=te.make("ul",[n.CSS.checklist,n.CSS.itemChildren]),t}renderItem(e,t){let r=te.make("li",[n.CSS.item,n.CSS.item]),o=te.make("div",n.CSS.itemContent,{innerHTML:e,contentEditable:(!this.readOnly).toString()}),i=te.make("span",n.CSS.checkbox),s=te.make("div",n.CSS.checkboxContainer);return t.checked===!0&&s.classList.add(n.CSS.itemChecked),i.innerHTML=lT,s.appendChild(i),r.appendChild(s),r.appendChild(o),r}getItemContent(e){let t=e.querySelector(`.${n.CSS.itemContent}`);return!t||te.isEmpty(t)?"":t.innerHTML}getItemMeta(e){let t=e.querySelector(`.${n.CSS.checkboxContainer}`);return{checked:t?t.classList.contains(n.CSS.itemChecked):!1}}composeDefaultMeta(){return{checked:!1}}toggleCheckbox(e){e.classList.toggle(n.CSS.itemChecked),e.classList.add(n.CSS.noHover),e.addEventListener("mouseleave",()=>this.removeSpecialHoverBehavior(e),{once:!0})}removeSpecialHoverBehavior(e){e.classList.remove(n.CSS.noHover)}};function af(n,e="after"){let t=[],r;function o(i){switch(e){case"after":return i.nextElementSibling;case"before":return i.previousElementSibling}}for(r=o(n);r!==null;)t.push(r),r=o(r);return t.length!==0?t:null}function At(n,e=!0){let t=n;return n.classList.contains(ke.item)&&(t=n.querySelector(`.${ke.itemChildren}`)),t===null?[]:e?Array.from(t.querySelectorAll(`:scope > .${ke.item}`)):Array.from(t.querySelectorAll(`.${ke.item}`))}function qM(n){return n.nextElementSibling===null}function GM(n){return n.querySelector(`.${ke.itemChildren}`)!==null}function Gt(n){return n.querySelector(`.${ke.itemChildren}`)}function lf(n){let e=n;n.classList.contains(ke.item)&&(e=Gt(n)),e!==null&&At(e).length===0&&e.remove()}function Vs(n){return n.querySelector(`.${ke.itemContent}`)}function Er(n,e=!0){let t=Vs(n);t&&Io.focus(t,e)}var To=class{get currentItem(){let e=window.getSelection();if(!e)return null;let t=e.anchorNode;return!t||(xn(t)||(t=t.parentNode),!t)||!xn(t)?null:t.closest(`.${ke.item}`)}get currentItemLevel(){let e=this.currentItem;if(e===null)return null;let t=e.parentNode,r=0;for(;t!==null&&t!==this.listWrapper;)xn(t)&&t.classList.contains(ke.item)&&(r+=1),t=t.parentNode;return r+1}constructor({data:e,config:t,api:r,readOnly:o,block:i},s){this.config=t,this.data=e,this.readOnly=o,this.api=r,this.block=i,this.renderer=s}render(){return this.listWrapper=this.renderer.renderWrapper(!0),this.data.items.length?this.appendItems(this.data.items,this.listWrapper):this.appendItems([{content:"",meta:{},items:[]}],this.listWrapper),this.readOnly||this.listWrapper.addEventListener("keydown",e=>{switch(e.key){case"Enter":this.enterPressed(e);break;case"Backspace":this.backspace(e);break;case"Tab":e.shiftKey?this.shiftTab(e):this.addTab(e);break}},!1),"start"in this.data.meta&&this.data.meta.start!==void 0&&this.changeStartWith(this.data.meta.start),"counterType"in this.data.meta&&this.data.meta.counterType!==void 0&&this.changeCounters(this.data.meta.counterType),this.listWrapper}save(e){let t=e??this.listWrapper,r=s=>At(s).map(a=>{let l=Gt(a),c=this.renderer.getItemContent(a),u=this.renderer.getItemMeta(a),d=l?r(l):[];return{content:c,meta:u,items:d}}),o=t?r(t):[],i={style:this.data.style,meta:{},items:o};return this.data.style==="ordered"&&(i.meta={start:this.data.meta.start,counterType:this.data.meta.counterType}),i}static get pasteConfig(){return{tags:["OL","UL","LI"]}}merge(e){let t=this.block.holder.querySelectorAll(`.${ke.item}`),r=t[t.length-1],o=Vs(r);if(r===null||o===null||(o.insertAdjacentHTML("beforeend",e.items[0].content),this.listWrapper===void 0))return;let i=At(this.listWrapper);if(i.length===0)return;let s=i[i.length-1],a=Gt(s),l=e.items.shift();l!==void 0&&(l.items.length!==0&&(a===null&&(a=this.renderer.renderWrapper(!1)),this.appendItems(l.items,a)),e.items.length>0&&this.appendItems(e.items,this.listWrapper))}onPaste(e){let t=e.detail.data;this.data=this.pasteHandler(t);let r=this.listWrapper;r&&r.parentNode&&r.parentNode.replaceChild(this.render(),r)}pasteHandler(e){let{tagName:t}=e,r="unordered",o;switch(t){case"OL":r="ordered",o="ol";break;case"UL":case"LI":r="unordered",o="ul"}let i={style:r,meta:{},items:[]};r==="ordered"&&(this.data.meta.counterType="numeric",this.data.meta.start=1);let s=a=>Array.from(a.querySelectorAll(":scope > li")).map(l=>{let c=l.querySelector(`:scope > ${o}`),u=c?s(c):[];return{content:l.innerHTML??"",meta:{},items:u}});return i.items=s(e),i}changeStartWith(e){this.listWrapper.style.setProperty("counter-reset",`item ${e-1}`),this.data.meta.start=e}changeCounters(e){this.listWrapper.style.setProperty("--list-counter-type",e),this.data.meta.counterType=e}enterPressed(e){var t;let r=this.currentItem;if(e.stopPropagation(),e.preventDefault(),e.isComposing||r===null)return;let o=((t=this.renderer)==null?void 0:t.getItemContent(r).trim().length)===0,i=r.parentNode===this.listWrapper,s=r.previousElementSibling===null,a=this.api.blocks.getCurrentBlockIndex();if(i&&o)if(qM(r)&&!GM(r)){s?this.convertItemToDefaultBlock(a,!0):this.convertItemToDefaultBlock();return}else{this.splitList(r);return}else if(o){this.unshiftItem(r);return}else this.splitItem(r)}backspace(e){let t=this.currentItem;if(t!==null&&Io.isCaretAtStartOfInput(t)){if(e.stopPropagation(),t.parentNode===this.listWrapper&&t.previousElementSibling===null){this.convertFirstItemToDefaultBlock();return}e.preventDefault(),this.mergeItemWithPrevious(t)}}shiftTab(e){e.stopPropagation(),e.preventDefault(),this.currentItem!==null&&this.unshiftItem(this.currentItem)}unshiftItem(e){if(!e.parentNode||!xn(e.parentNode))return;let t=e.parentNode.closest(`.${ke.item}`);if(!t)return;let r=Gt(e);if(e.parentElement===null)return;let o=af(e);o!==null&&(r===null&&(r=this.renderer.renderWrapper(!1)),o.forEach(i=>{r.appendChild(i)}),e.appendChild(r)),t.after(e),Er(e,!1),lf(t)}splitList(e){let t=At(e),r=this.block,o=this.api.blocks.getCurrentBlockIndex();if(t.length!==0){let l=t[0];this.unshiftItem(l),Er(e,!1)}if(e.previousElementSibling===null&&e.parentNode===this.listWrapper){this.convertItemToDefaultBlock(o);return}let i=af(e);if(i===null)return;let s=this.renderer.renderWrapper(!0);i.forEach(l=>{s.appendChild(l)});let a=this.save(s);a.meta.start=this.data.style=="ordered"?1:void 0,this.api.blocks.insert(r?.name,a,this.config,o+1),this.convertItemToDefaultBlock(o+1),s.remove()}splitItem(e){let[t,r]=Io.getCaretNodeAndOffset();if(t===null)return;let o=Vs(e),i;o===null?i="":i=Io.getContenteditableSlice(o,t,r,"right",!0);let s=Gt(e),a=this.renderItem(i);e?.after(a),s&&a.appendChild(s),Er(a)}mergeItemWithPrevious(e){let t=e.previousElementSibling,r=e.parentNode;if(r===null||!xn(r))return;let o=r.closest(`.${ke.item}`);if(!t&&!o||t&&!xn(t))return;let i;if(t){let d=At(t,!1);d.length!==0&&d.length!==0?i=d[d.length-1]:i=t}else i=o;let s=this.renderer.getItemContent(e);if(!i)return;Er(i,!1);let a=Vs(i);if(a===null)return;a.insertAdjacentHTML("beforeend",s);let l=At(e);if(l.length===0){e.remove(),lf(i);return}let c=t||o,u=Gt(c)??this.renderer.renderWrapper(!1);t?l.forEach(d=>{u.appendChild(d)}):l.forEach(d=>{u.prepend(d)}),Gt(c)===null&&i.appendChild(u),e.remove()}addTab(e){var t;e.stopPropagation(),e.preventDefault();let r=this.currentItem;if(!r)return;if(((t=this.config)==null?void 0:t.maxLevel)!==void 0){let s=this.currentItemLevel;if(s!==null&&s===this.config.maxLevel)return}let o=r.previousSibling;if(o===null||!xn(o))return;let i=Gt(o);if(i)i.appendChild(r),At(r).forEach(s=>{i.appendChild(s)});else{let s=this.renderer.renderWrapper(!1);s.appendChild(r),At(r).forEach(a=>{s.appendChild(a)}),o.appendChild(s)}lf(r),Er(r,!1)}convertItemToDefaultBlock(e,t){let r,o=this.currentItem,i=o!==null?this.renderer.getItemContent(o):"";t===!0&&this.api.blocks.delete(),e!==void 0?r=this.api.blocks.insert(void 0,{text:i},void 0,e):r=this.api.blocks.insert(),o?.remove(),this.api.caret.setToBlock(r,"start")}convertFirstItemToDefaultBlock(){let e=this.currentItem;if(e===null)return;let t=At(e);if(t.length!==0){let s=t[0];this.unshiftItem(s),Er(e)}let r=af(e),o=this.api.blocks.getCurrentBlockIndex(),i=r===null;this.convertItemToDefaultBlock(o,i)}renderItem(e,t){let r=t??this.renderer.composeDefaultMeta();switch(!0){case this.renderer instanceof Us:return this.renderer.renderItem(e,r);case this.renderer instanceof zs:return this.renderer.renderItem(e,r);default:return this.renderer.renderItem(e,r)}}appendItems(e,t){e.forEach(r=>{var o;let i=this.renderItem(r.content,r.meta);if(t.appendChild(i),r.items.length){let s=(o=this.renderer)==null?void 0:o.renderWrapper(!1);this.appendItems(r.items,s),i.appendChild(s)}})}},xr={wrapper:`${Te}-start-with-field`,input:`${Te}-start-with-field__input`,startWithElementWrapperInvalid:`${Te}-start-with-field--invalid`};function ZM(n,{value:e,placeholder:t,attributes:r,sanitize:o}){let i=te.make("div",xr.wrapper),s=te.make("input",xr.input,{placeholder:t,tabIndex:-1,value:e});for(let a in r)s.setAttribute(a,r[a]);return i.appendChild(s),s.addEventListener("input",()=>{o!==void 0&&(s.value=o(s.value));let a=s.checkValidity();!a&&!i.classList.contains(xr.startWithElementWrapperInvalid)&&i.classList.add(xr.startWithElementWrapperInvalid),a&&i.classList.contains(xr.startWithElementWrapperInvalid)&&i.classList.remove(xr.startWithElementWrapperInvalid),a&&n(s.value)}),i}var js=new Map([["Numeric","numeric"],["Lower Roman","lower-roman"],["Upper Roman","upper-roman"],["Lower Alpha","lower-alpha"],["Upper Alpha","upper-alpha"]]),ub=new Map([["numeric",cT],["lower-roman",uT],["upper-roman",dT],["lower-alpha",hT],["upper-alpha",fT]]);function YM(n){return n.replace(/\D+/g,"")}function KM(n){return typeof n.items[0]=="string"}function QM(n){return typeof n.items[0]!="string"&&"text"in n.items[0]&&"checked"in n.items[0]&&typeof n.items[0].text=="string"&&typeof n.items[0].checked=="boolean"}function XM(n){let e=[];return KM(n)?(n.items.forEach(t=>{e.push({content:t,meta:{},items:[]})}),{style:n.style,meta:{},items:e}):QM(n)?(n.items.forEach(t=>{e.push({content:t.text,meta:{checked:t.checked},items:[]})}),{style:"checklist",meta:{},items:e}):n}var Ws=class n{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return[{icon:sb,title:"Unordered List",data:{style:"unordered"}},{icon:ab,title:"Ordered List",data:{style:"ordered"}},{icon:ib,title:"Checklist",data:{style:"checklist"}}]}static get pasteConfig(){return{tags:["OL","UL","LI"]}}static get conversionConfig(){return{export:e=>n.joinRecursive(e),import:(e,t)=>({meta:{},items:[{content:e,meta:{},items:[]}],style:t?.defaultStyle!==void 0?t.defaultStyle:"unordered"})}}get listStyle(){return this.data.style||this.defaultListStyle}set listStyle(e){var t;this.data.style=e,this.changeTabulatorByStyle();let r=this.list.render();(t=this.listElement)==null||t.replaceWith(r),this.listElement=r}constructor({data:e,config:t,api:r,readOnly:o,block:i}){var s;this.api=r,this.readOnly=o,this.config=t,this.block=i,this.defaultListStyle=((s=this.config)==null?void 0:s.defaultStyle)||"unordered";let a={style:this.defaultListStyle,meta:{},items:[]};this.data=Object.keys(e).length?XM(e):a,this.listStyle==="ordered"&&this.data.meta.counterType===void 0&&(this.data.meta.counterType="numeric"),this.changeTabulatorByStyle()}static joinRecursive(e){return e.items.map(t=>`${t.content} ${n.joinRecursive(t)}`).join("")}render(){return this.listElement=this.list.render(),this.listElement}save(){return this.data=this.list.save(),this.data}merge(e){this.list.merge(e)}renderSettings(){let e=[{label:this.api.i18n.t("Unordered"),icon:sb,closeOnActivate:!0,isActive:this.listStyle=="unordered",onActivate:()=>{this.listStyle="unordered"}},{label:this.api.i18n.t("Ordered"),icon:ab,closeOnActivate:!0,isActive:this.listStyle=="ordered",onActivate:()=>{this.listStyle="ordered"}},{label:this.api.i18n.t("Checklist"),icon:ib,closeOnActivate:!0,isActive:this.listStyle=="checklist",onActivate:()=>{this.listStyle="checklist"}}];if(this.listStyle==="ordered"){let t=ZM(i=>this.changeStartWith(Number(i)),{value:String(this.data.meta.start??1),placeholder:"",attributes:{required:"true"},sanitize:i=>YM(i)}),r=[{label:this.api.i18n.t("Start with"),icon:pT,children:{items:[{element:t,type:"html"}]}}],o={label:this.api.i18n.t("Counter type"),icon:ub.get(this.data.meta.counterType),children:{items:[]}};js.forEach((i,s)=>{o.children.items.push({title:this.api.i18n.t(s),icon:ub.get(js.get(s)),isActive:this.data.meta.counterType===js.get(s),closeOnActivate:!0,onActivate:()=>{this.changeCounters(js.get(s))}})}),e.push({type:"separator"},...r,o)}return e}onPaste(e){let{tagName:t}=e.detail.data;switch(t){case"OL":this.listStyle="ordered";break;case"UL":case"LI":this.listStyle="unordered"}this.list.onPaste(e)}pasteHandler(e){return this.list.pasteHandler(e)}changeCounters(e){var t;(t=this.list)==null||t.changeCounters(e),this.data.meta.counterType=e}changeStartWith(e){var t;(t=this.list)==null||t.changeStartWith(e),this.data.meta.start=e}changeTabulatorByStyle(){switch(this.listStyle){case"ordered":this.list=new To({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new Us(this.readOnly,this.config));break;case"unordered":this.list=new To({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new zs(this.readOnly,this.config));break;case"checklist":this.list=new To({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new df(this.readOnly,this.config));break}}};(function(){"use strict";try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode('.cdx-checklist{gap:6px;display:flex;flex-direction:column}.cdx-checklist__item{display:flex;box-sizing:content-box;align-items:flex-start}.cdx-checklist__item-text{outline:none;flex-grow:1;line-height:1.57em}.cdx-checklist__item-checkbox{width:22px;height:22px;display:flex;align-items:center;margin-right:8px;margin-top:calc(.785em - 11px);cursor:pointer}.cdx-checklist__item-checkbox svg{opacity:0;height:20px;width:20px;position:absolute;left:-1px;top:-1px;max-height:20px}@media (hover: hover){.cdx-checklist__item-checkbox:not(.cdx-checklist__item-checkbox--no-hover):hover .cdx-checklist__item-checkbox-check svg{opacity:1}}.cdx-checklist__item-checkbox-check{cursor:pointer;display:inline-block;flex-shrink:0;position:relative;width:20px;height:20px;box-sizing:border-box;margin-left:0;border-radius:5px;border:1px solid #C9C9C9;background:#fff}.cdx-checklist__item-checkbox-check:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border-radius:100%;background-color:#369fff;visibility:hidden;pointer-events:none;transform:scale(1);transition:transform .4s ease-out,opacity .4s}@media (hover: hover){.cdx-checklist__item--checked .cdx-checklist__item-checkbox:not(.cdx-checklist__item--checked .cdx-checklist__item-checkbox--no-hover):hover .cdx-checklist__item-checkbox-check{background:#0059AB;border-color:#0059ab}}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check{background:#369FFF;border-color:#369fff}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check svg{opacity:1}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check svg path{stroke:#fff}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check:before{opacity:0;visibility:visible;transform:scale(2.5)}')),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var JM='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 12L10.4884 15.8372C10.5677 15.9245 10.705 15.9245 10.7844 15.8372L17 9"/></svg>',e_='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>';function Rb(){let n=document.activeElement,e=window.getSelection().getRangeAt(0),t=e.cloneRange();return t.selectNodeContents(n),t.setStart(e.endContainer,e.endOffset),t.extractContents()}function t_(n){let e=document.createElement("div");return e.appendChild(n),e.innerHTML}function Mo(n,e=null,t={}){let r=document.createElement(n);Array.isArray(e)?r.classList.add(...e):e&&r.classList.add(e);for(let o in t)r[o]=t[o];return r}function Lb(n){return n.innerHTML.replace("<br>"," ").trim()}function Pb(n,e=!1,t=void 0){let r=document.createRange(),o=window.getSelection();r.selectNodeContents(n),t!==void 0&&(r.setStart(n,t),r.setEnd(n,t)),r.collapse(e),o.removeAllRanges(),o.addRange(r)}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.closest||(Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(e!==null&&e.nodeType===1);return null});var ea=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:e_,title:"Checklist"}}static get conversionConfig(){return{export:e=>e.items.map(({text:t})=>t).join(". "),import:e=>({items:[{text:e,checked:!1}]})}}constructor({data:e,config:t,api:r,readOnly:o}){this._elements={wrapper:null,items:[]},this.readOnly=o,this.api=r,this.data=e||{}}render(){return this._elements.wrapper=Mo("div",[this.CSS.baseBlock,this.CSS.wrapper]),this.data.items||(this.data.items=[{text:"",checked:!1}]),this.data.items.forEach(e=>{let t=this.createChecklistItem(e);this._elements.wrapper.appendChild(t)}),this.readOnly?this._elements.wrapper:(this._elements.wrapper.addEventListener("keydown",e=>{let[t,r]=[13,8];switch(e.keyCode){case t:this.enterPressed(e);break;case r:this.backspace(e);break}},!1),this._elements.wrapper.addEventListener("click",e=>{this.toggleCheckbox(e)}),this._elements.wrapper)}save(){let e=this.items.map(t=>{let r=this.getItemInput(t);return{text:Lb(r),checked:t.classList.contains(this.CSS.itemChecked)}});return e=e.filter(t=>t.text.trim().length!==0),{items:e}}validate(e){return!!e.items.length}toggleCheckbox(e){let t=e.target.closest(`.${this.CSS.item}`),r=t.querySelector(`.${this.CSS.checkboxContainer}`);r.contains(e.target)&&(t.classList.toggle(this.CSS.itemChecked),r.classList.add(this.CSS.noHover),r.addEventListener("mouseleave",()=>this.removeSpecialHoverBehavior(r),{once:!0}))}createChecklistItem(e={}){let t=Mo("div",this.CSS.item),r=Mo("span",this.CSS.checkbox),o=Mo("div",this.CSS.checkboxContainer),i=Mo("div",this.CSS.textField,{innerHTML:e.text?e.text:"",contentEditable:!this.readOnly});return e.checked&&t.classList.add(this.CSS.itemChecked),r.innerHTML=JM,o.appendChild(r),t.appendChild(o),t.appendChild(i),t}enterPressed(e){e.preventDefault();let t=this.items,r=document.activeElement.closest(`.${this.CSS.item}`);if(t.indexOf(r)===t.length-1&&Lb(this.getItemInput(r)).length===0){let a=this.api.blocks.getCurrentBlockIndex();r.remove(),this.api.blocks.insert(),this.api.caret.setToBlock(a+1);return}let o=Rb(),i=t_(o),s=this.createChecklistItem({text:i,checked:!1});this._elements.wrapper.insertBefore(s,r.nextSibling),Pb(this.getItemInput(s),!0)}backspace(e){let t=e.target.closest(`.${this.CSS.item}`),r=this.items.indexOf(t),o=this.items[r-1];if(!o||window.getSelection().focusOffset!==0)return;e.preventDefault();let i=Rb(),s=this.getItemInput(o),a=s.childNodes.length;s.appendChild(i),Pb(s,void 0,a),t.remove()}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-checklist",item:"cdx-checklist__item",itemChecked:"cdx-checklist__item--checked",noHover:"cdx-checklist__item-checkbox--no-hover",checkbox:"cdx-checklist__item-checkbox-check",textField:"cdx-checklist__item-text",checkboxContainer:"cdx-checklist__item-checkbox"}}get items(){return Array.from(this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`))}removeSpecialHoverBehavior(e){e.classList.remove(this.CSS.noHover)}getItemInput(e){return e.querySelector(`.${this.CSS.textField}`)}};(function(){"use strict";try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode('.embed-tool--loading .embed-tool__caption{display:none}.embed-tool--loading .embed-tool__preloader{display:block}.embed-tool--loading .embed-tool__content{display:none}.embed-tool__preloader{display:none;position:relative;height:200px;box-sizing:border-box;border-radius:5px;border:1px solid #e6e9eb}.embed-tool__preloader:before{content:"";position:absolute;z-index:3;left:50%;top:50%;width:30px;height:30px;margin-top:-25px;margin-left:-15px;border-radius:50%;border:2px solid #cdd1e0;border-top-color:#388ae5;box-sizing:border-box;animation:embed-preloader-spin 2s infinite linear}.embed-tool__url{position:absolute;bottom:20px;left:50%;transform:translate(-50%);max-width:250px;color:#7b7e89;font-size:11px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.embed-tool__content{width:100%}.embed-tool__caption{margin-top:7px}.embed-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:before{opacity:1}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}@keyframes embed-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var n_={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:([n,e])=>{if(!e&&n)return n;let t={start:"start",end:"end",t:"start",time_continue:"start",list:"list"},r=e.slice(1).split("&").map(o=>{let[i,s]=o.split("=");return!n&&i==="v"?(n=s,null):!t[i]||s==="LL"||s.startsWith("RDMM")||s.startsWith("FL")?null:`${t[i]}=${s}`}).filter(o=>!!o);return n+"?"+r.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:n=>n.join("/")},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:n=>n.join("/")},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:n=>n.join("/embed/")},instagram:{regex:/^https:\/\/(?:www\.)?instagram\.com\/(?:reel|p)\/(.*)/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400,id:n=>{var e;return(e=n?.[0])==null?void 0:e.split("/")[0]}},twitter:{regex:/^https?:\/\/(www\.)?(?:twitter\.com|x\.com)\/.+\/status\/(\d+)/,embedUrl:"https://platform.twitter.com/embed/Tweet.html?id=<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:n=>n[1]},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:n=>n[1]},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:n=>n.join("/")},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'},github:{regex:/https?:\/\/gist.github.com\/([^\/\?\&]*)\/([^\/\?\&]*)/,embedUrl:'data:text/html;charset=utf-8,<head><base target="_blank" /></head><body><script src="https://gist.github.com/<%= remote_id %>" ><\/script></body>',html:'<iframe width="100%" height="350" frameborder="0" style="margin: 0 auto;"></iframe>',height:300,width:600,id:n=>`${n.join("/")}.js`}};function Xf(n,e,t){var r,o,i,s,a;e==null&&(e=100);function l(){var u=Date.now()-s;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,t||(a=n.apply(i,o),i=o=null))}var c=function(){i=this,o=arguments,s=Date.now();var u=t&&!r;return r||(r=setTimeout(l,e)),u&&(a=n.apply(i,o),i=o=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(i,o),i=o=null,clearTimeout(r),r=null)},c}Xf.debounce=Xf;var r_=Xf,ta=class n{constructor({data:e,api:t,readOnly:r}){this.api=t,this._data={},this.element=null,this.readOnly=r,this.data=e}set data(e){var t;if(!(e instanceof Object))throw Error("Embed Tool data should be object");let{service:r,source:o,embed:i,width:s,height:a,caption:l=""}=e;this._data={service:r||this.data.service,source:o||this.data.source,embed:i||this.data.embed,width:s||this.data.width,height:a||this.data.height,caption:l||this.data.caption||""};let c=this.element;c&&((t=c.parentNode)==null||t.replaceChild(this.render(),c))}get data(){if(this.element){let e=this.element.querySelector(`.${this.api.styles.input}`);this._data.caption=e?e.innerHTML:""}return this._data}get CSS(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}render(){if(!this.data.service){let a=document.createElement("div");return this.element=a,a}let{html:e}=n.services[this.data.service],t=document.createElement("div"),r=document.createElement("div"),o=document.createElement("template"),i=this.createPreloader();t.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),r.classList.add(this.CSS.input,this.CSS.caption),t.appendChild(i),r.contentEditable=(!this.readOnly).toString(),r.dataset.placeholder=this.api.i18n.t("Enter a caption"),r.innerHTML=this.data.caption||"",o.innerHTML=e,o.content.firstChild.setAttribute("src",this.data.embed),o.content.firstChild.classList.add(this.CSS.content);let s=this.embedIsReady(t);return o.content.firstChild&&t.appendChild(o.content.firstChild),t.appendChild(r),s.then(()=>{t.classList.remove(this.CSS.containerLoading)}),this.element=t,t}createPreloader(){let e=document.createElement("preloader"),t=document.createElement("div");return t.textContent=this.data.source,e.classList.add(this.CSS.preloader),t.classList.add(this.CSS.url),e.appendChild(t),e}save(){return this.data}onPaste(e){var t;let{key:r,data:o}=e.detail,{regex:i,embedUrl:s,width:a,height:l,id:c=f=>f.shift()||""}=n.services[r],u=(t=i.exec(o))==null?void 0:t.slice(1),d=u?s.replace(/<%= remote_id %>/g,c(u)):"";this.data={service:r,source:o,embed:d,width:a,height:l}}static prepare({config:e={}}){let{services:t={}}=e,r=Object.entries(n_),o=Object.entries(t).filter(([s,a])=>typeof a=="boolean"&&a===!0).map(([s])=>s),i=Object.entries(t).filter(([s,a])=>typeof a=="object").filter(([s,a])=>n.checkServiceConfig(a)).map(([s,a])=>{let{regex:l,embedUrl:c,html:u,height:d,width:f,id:h}=a;return[s,{regex:l,embedUrl:c,html:u,height:d,width:f,id:h}]});o.length&&(r=r.filter(([s])=>o.includes(s))),r=r.concat(i),n.services=r.reduce((s,[a,l])=>a in s?(s[a]=Object.assign({},s[a],l),s):(s[a]=l,s),{}),n.patterns=r.reduce((s,[a,l])=>(l&&typeof l!="boolean"&&(s[a]=l.regex),s),{})}static checkServiceConfig(e){let{regex:t,embedUrl:r,html:o,height:i,width:s,id:a}=e,l=!!(t&&t instanceof RegExp)&&!!(r&&typeof r=="string")&&!!(o&&typeof o=="string");return l=l&&(a!==void 0?a instanceof Function:!0),l=l&&(i!==void 0?Number.isFinite(i):!0),l=l&&(s!==void 0?Number.isFinite(s):!0),l}static get pasteConfig(){return{patterns:n.patterns}}static get isReadOnlySupported(){return!0}embedIsReady(e){let t;return new Promise((r,o)=>{t=new MutationObserver(r_.debounce(r,450)),t.observe(e,{childList:!0,subtree:!0})}).then(()=>{t.disconnect()})}};(function(){var n;try{if(typeof document<"u"){var e=document.createElement("style");e.nonce=(n=document.head.querySelector("meta[property=csp-nonce]"))==null?void 0:n.content,e.appendChild(document.createTextNode('.tc-wrap{--color-background:#f9f9fb;--color-text-secondary:#7b7e89;--color-border:#e8e8eb;--cell-size:34px;--toolbox-icon-size:18px;--toolbox-padding:6px;--toolbox-aiming-field-size:calc(var(--toolbox-icon-size) + var(--toolbox-padding)*2);border-left:0;position:relative;height:100%;width:100%;margin-top:var(--toolbox-icon-size);box-sizing:border-box;display:grid;grid-template-columns:calc(100% - var(--cell-size)) var(--cell-size)}.tc-wrap--readonly{grid-template-columns:100% var(--cell-size)}.tc-wrap svg{vertical-align:top}@media print{.tc-wrap{border-left-color:var(--color-border);border-left-style:solid;border-left-width:1px;grid-template-columns:100% var(--cell-size)}}@media print{.tc-wrap .tc-row:after{display:none}}.tc-table{position:relative;width:100%;height:100%;display:grid;font-size:14px;border-top:1px solid var(--color-border);line-height:1.4}.tc-table:after{width:calc(var(--cell-size));height:100%;left:calc(var(--cell-size)*-1);top:0}.tc-table:after,.tc-table:before{position:absolute;content:""}.tc-table:before{width:100%;height:var(--toolbox-aiming-field-size);top:calc(var(--toolbox-aiming-field-size)*-1);left:0}.tc-table--heading .tc-row:first-child{font-weight:600;border-bottom:2px solid var(--color-border)}.tc-table--heading .tc-row:first-child [contenteditable]:empty:before{content:attr(heading);color:var(--color-text-secondary)}.tc-table--heading .tc-row:first-child:after{bottom:-2px;border-bottom:2px solid var(--color-border)}.tc-add-column,.tc-add-row{display:flex;color:var(--color-text-secondary)}@media print{.tc-add{display:none}}.tc-add-column{padding:4px 0;justify-content:center;border-top:1px solid var(--color-border)}.tc-add-column--disabled{visibility:hidden}@media print{.tc-add-column{display:none}}.tc-add-row{height:var(--cell-size);align-items:center;padding-left:4px;position:relative}.tc-add-row--disabled{display:none}.tc-add-row:before{content:"";position:absolute;right:calc(var(--cell-size)*-1);width:var(--cell-size);height:100%}@media print{.tc-add-row{display:none}}.tc-add-column,.tc-add-row{transition:0s;cursor:pointer;will-change:background-color}.tc-add-column:hover,.tc-add-row:hover{transition:background-color .1s ease;background-color:var(--color-background)}.tc-add-row{margin-top:1px}.tc-add-row:hover:before{transition:.1s;background-color:var(--color-background)}.tc-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(10px,1fr));position:relative;border-bottom:1px solid var(--color-border)}.tc-row:after{content:"";pointer-events:none;position:absolute;width:var(--cell-size);height:100%;bottom:-1px;right:calc(var(--cell-size)*-1);border-bottom:1px solid var(--color-border)}.tc-row--selected{background:var(--color-background)}.tc-row--selected:after{background:var(--color-background)}.tc-cell{border-right:1px solid var(--color-border);padding:6px 12px;overflow:hidden;outline:none;line-break:normal}.tc-cell--selected{background:var(--color-background)}.tc-wrap--readonly .tc-row:after{display:none}.tc-toolbox{--toolbox-padding:6px;--popover-margin:30px;--toggler-click-zone-size:30px;--toggler-dots-color:#7b7e89;--toggler-dots-color-hovered:#1d202b;position:absolute;cursor:pointer;z-index:1;opacity:0;transition:opacity .1s;will-change:left,opacity}.tc-toolbox--column{top:calc(var(--toggler-click-zone-size)*-1);transform:translate(calc(var(--toggler-click-zone-size)*-1/2));will-change:left,opacity}.tc-toolbox--row{left:calc(var(--popover-margin)*-1);transform:translateY(calc(var(--toggler-click-zone-size)*-1/2));margin-top:-1px;will-change:top,opacity}.tc-toolbox--showed{opacity:1}.tc-toolbox .tc-popover{position:absolute;top:0;left:var(--popover-margin)}.tc-toolbox__toggler{display:flex;align-items:center;justify-content:center;width:var(--toggler-click-zone-size);height:var(--toggler-click-zone-size);color:var(--toggler-dots-color);opacity:0;transition:opacity .15s ease;will-change:opacity}.tc-toolbox__toggler:hover{color:var(--toggler-dots-color-hovered)}.tc-toolbox__toggler svg{fill:currentColor}.tc-wrap:hover .tc-toolbox__toggler{opacity:1}.tc-settings .cdx-settings-button{width:50%;margin:0}.tc-popover{--color-border:#eaeaea;--color-background:#fff;--color-background-hover:rgba(232,232,235,.49);--color-background-confirm:#e24a4a;--color-background-confirm-hover:#d54040;--color-text-confirm:#fff;background:var(--color-background);border:1px solid var(--color-border);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;padding:6px;display:none;will-change:opacity,transform}.tc-popover--opened{display:block;animation:menuShowing .1s cubic-bezier(.215,.61,.355,1) forwards}.tc-popover__item{display:flex;align-items:center;padding:2px 14px 2px 2px;border-radius:5px;cursor:pointer;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tc-popover__item:hover{background:var(--color-background-hover)}.tc-popover__item:not(:last-of-type){margin-bottom:2px}.tc-popover__item-icon{display:inline-flex;width:26px;height:26px;align-items:center;justify-content:center;background:var(--color-background);border-radius:5px;border:1px solid var(--color-border);margin-right:8px}.tc-popover__item-label{line-height:22px;font-size:14px;font-weight:500}.tc-popover__item--confirm{background:var(--color-background-confirm);color:var(--color-text-confirm)}.tc-popover__item--confirm:hover{background-color:var(--color-background-confirm-hover)}.tc-popover__item--confirm .tc-popover__item-icon{background:var(--color-background-confirm);border-color:#0000001a}.tc-popover__item--confirm .tc-popover__item-icon svg{transition:transform .2s ease-in;transform:rotate(90deg) scale(1.2)}.tc-popover__item--hidden{display:none}@keyframes menuShowing{0%{opacity:0;transform:translateY(-8px) scale(.9)}70%{opacity:1;transform:translateY(2px)}to{transform:translateY(0)}}')),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();function He(n,e,t={}){let r=document.createElement(n);Array.isArray(e)?r.classList.add(...e):e&&r.classList.add(e);for(let o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o]);return r}function Bb(n){let e=n.getBoundingClientRect();return{y1:Math.floor(e.top+window.pageYOffset),x1:Math.floor(e.left+window.pageXOffset),x2:Math.floor(e.right+window.pageXOffset),y2:Math.floor(e.bottom+window.pageYOffset)}}function Fb(n,e){let t=Bb(n),r=Bb(e);return{fromTopBorder:r.y1-t.y1,fromLeftBorder:r.x1-t.x1,fromRightBorder:t.x2-r.x2,fromBottomBorder:t.y2-r.y2}}function o_(n,e){let t=n.getBoundingClientRect(),{width:r,height:o,x:i,y:s}=t,{clientX:a,clientY:l}=e;return{width:r,height:o,x:a-i,y:l-s}}function jb(n,e){return e.parentNode.insertBefore(n,e)}function Hb(n,e=!0){let t=document.createRange(),r=window.getSelection();t.selectNodeContents(n),t.collapse(e),r.removeAllRanges(),r.addRange(t)}var Jf=class n{constructor({items:e}){this.items=e,this.wrapper=void 0,this.itemEls=[]}static get CSS(){return{popover:"tc-popover",popoverOpened:"tc-popover--opened",item:"tc-popover__item",itemHidden:"tc-popover__item--hidden",itemConfirmState:"tc-popover__item--confirm",itemIcon:"tc-popover__item-icon",itemLabel:"tc-popover__item-label"}}render(){return this.wrapper=He("div",n.CSS.popover),this.items.forEach((e,t)=>{let r=He("div",n.CSS.item),o=He("div",n.CSS.itemIcon,{innerHTML:e.icon}),i=He("div",n.CSS.itemLabel,{textContent:e.label});r.dataset.index=t,r.appendChild(o),r.appendChild(i),this.wrapper.appendChild(r),this.itemEls.push(r)}),this.wrapper.addEventListener("click",e=>{this.popoverClicked(e)}),this.wrapper}popoverClicked(e){let t=e.target.closest(`.${n.CSS.item}`);if(!t)return;let r=t.dataset.index,o=this.items[r];if(o.confirmationRequired&&!this.hasConfirmationState(t)){this.setConfirmationState(t);return}o.onClick()}setConfirmationState(e){e.classList.add(n.CSS.itemConfirmState)}clearConfirmationState(e){e.classList.remove(n.CSS.itemConfirmState)}hasConfirmationState(e){return e.classList.contains(n.CSS.itemConfirmState)}get opened(){return this.wrapper.classList.contains(n.CSS.popoverOpened)}open(){this.items.forEach((e,t)=>{typeof e.hideIf=="function"&&this.itemEls[t].classList.toggle(n.CSS.itemHidden,e.hideIf())}),this.wrapper.classList.add(n.CSS.popoverOpened)}close(){this.wrapper.classList.remove(n.CSS.popoverOpened),this.itemEls.forEach(e=>{this.clearConfirmationState(e)})}},i_='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L10 12M10 12L7 15M10 12H4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L14 12M14 12L17 15M14 12H20"/></svg>',Vb='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',s_='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 9.16666L18.2167 12.5M18.2167 12.5L14.8833 15.8333M18.2167 12.5H10.05C9.16594 12.5 8.31809 12.1488 7.69297 11.5237C7.06785 10.8986 6.71666 10.0507 6.71666 9.16666"/></svg>',a_='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.9167 14.9167L11.5833 18.25M11.5833 18.25L8.25 14.9167M11.5833 18.25L11.5833 10.0833C11.5833 9.19928 11.9345 8.35143 12.5596 7.72631C13.1848 7.10119 14.0326 6.75 14.9167 6.75"/></svg>',l_='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.13333 14.9167L12.4667 18.25M12.4667 18.25L15.8 14.9167M12.4667 18.25L12.4667 10.0833C12.4667 9.19928 12.1155 8.35143 11.4904 7.72631C10.8652 7.10119 10.0174 6.75 9.13333 6.75"/></svg>',c_='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 15.8333L18.2167 12.5M18.2167 12.5L14.8833 9.16667M18.2167 12.5L10.05 12.5C9.16595 12.5 8.31811 12.8512 7.69299 13.4763C7.06787 14.1014 6.71667 14.9493 6.71667 15.8333"/></svg>',u_='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.41 9.66H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 9.66H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.31 14.36H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 14.36H14.59"/></svg>',$b='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',d_='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',f_='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',h_='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M14 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><path stroke="currentColor" stroke-width="2" d="M5 14H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',p_='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',na=class n{constructor({api:e,items:t,onOpen:r,onClose:o,cssModifier:i=""}){this.api=e,this.items=t,this.onOpen=r,this.onClose=o,this.cssModifier=i,this.popover=null,this.wrapper=this.createToolbox()}static get CSS(){return{toolbox:"tc-toolbox",toolboxShowed:"tc-toolbox--showed",toggler:"tc-toolbox__toggler"}}get element(){return this.wrapper}createToolbox(){let e=He("div",[n.CSS.toolbox,this.cssModifier?`${n.CSS.toolbox}--${this.cssModifier}`:""]);e.dataset.mutationFree="true";let t=this.createPopover(),r=this.createToggler();return e.appendChild(r),e.appendChild(t),e}createToggler(){let e=He("div",n.CSS.toggler,{innerHTML:u_});return e.addEventListener("click",()=>{this.togglerClicked()}),e}createPopover(){return this.popover=new Jf({items:this.items}),this.popover.render()}togglerClicked(){this.popover.opened?(this.popover.close(),this.onClose()):(this.popover.open(),this.onOpen())}show(e){let t=e();Object.entries(t).forEach(([r,o])=>{this.wrapper.style[r]=o}),this.wrapper.classList.add(n.CSS.toolboxShowed)}hide(){this.popover.close(),this.wrapper.classList.remove(n.CSS.toolboxShowed)}};function g_(n,e){let t=0;return function(...r){let o=new Date().getTime();if(!(o-t<n))return t=o,e(...r)}}var j={wrapper:"tc-wrap",wrapperReadOnly:"tc-wrap--readonly",table:"tc-table",row:"tc-row",withHeadings:"tc-table--heading",rowSelected:"tc-row--selected",cell:"tc-cell",cellSelected:"tc-cell--selected",addRow:"tc-add-row",addRowDisabled:"tc-add-row--disabled",addColumn:"tc-add-column",addColumnDisabled:"tc-add-column--disabled"},eh=class{constructor(e,t,r,o){this.readOnly=e,this.api=t,this.data=r,this.config=o,this.wrapper=null,this.table=null,this.toolboxColumn=this.createColumnToolbox(),this.toolboxRow=this.createRowToolbox(),this.createTableWrapper(),this.hoveredRow=0,this.hoveredColumn=0,this.selectedRow=0,this.selectedColumn=0,this.tunes={withHeadings:!1},this.resize(),this.fill(),this.focusedCell={row:0,column:0},this.documentClicked=i=>{let s=i.target.closest(`.${j.table}`)!==null,a=i.target.closest(`.${j.wrapper}`)===null;(s||a)&&this.hideToolboxes();let l=i.target.closest(`.${j.addRow}`),c=i.target.closest(`.${j.addColumn}`);l&&l.parentNode===this.wrapper?(this.addRow(void 0,!0),this.hideToolboxes()):c&&c.parentNode===this.wrapper&&(this.addColumn(void 0,!0),this.hideToolboxes())},this.readOnly||this.bindEvents()}getWrapper(){return this.wrapper}bindEvents(){document.addEventListener("click",this.documentClicked),this.table.addEventListener("mousemove",g_(150,e=>this.onMouseMoveInTable(e)),{passive:!0}),this.table.onkeypress=e=>this.onKeyPressListener(e),this.table.addEventListener("keydown",e=>this.onKeyDownListener(e)),this.table.addEventListener("focusin",e=>this.focusInTableListener(e))}createColumnToolbox(){return new na({api:this.api,cssModifier:"column",items:[{label:this.api.i18n.t("Add column to left"),icon:a_,hideIf:()=>this.numberOfColumns===this.config.maxcols,onClick:()=>{this.addColumn(this.selectedColumn,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add column to right"),icon:l_,hideIf:()=>this.numberOfColumns===this.config.maxcols,onClick:()=>{this.addColumn(this.selectedColumn+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete column"),icon:Vb,hideIf:()=>this.numberOfColumns===1,confirmationRequired:!0,onClick:()=>{this.deleteColumn(this.selectedColumn),this.hideToolboxes()}}],onOpen:()=>{this.selectColumn(this.hoveredColumn),this.hideRowToolbox()},onClose:()=>{this.unselectColumn()}})}createRowToolbox(){return new na({api:this.api,cssModifier:"row",items:[{label:this.api.i18n.t("Add row above"),icon:c_,hideIf:()=>this.numberOfRows===this.config.maxrows,onClick:()=>{this.addRow(this.selectedRow,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add row below"),icon:s_,hideIf:()=>this.numberOfRows===this.config.maxrows,onClick:()=>{this.addRow(this.selectedRow+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete row"),icon:Vb,hideIf:()=>this.numberOfRows===1,confirmationRequired:!0,onClick:()=>{this.deleteRow(this.selectedRow),this.hideToolboxes()}}],onOpen:()=>{this.selectRow(this.hoveredRow),this.hideColumnToolbox()},onClose:()=>{this.unselectRow()}})}moveCursorToNextRow(){this.focusedCell.row!==this.numberOfRows?(this.focusedCell.row+=1,this.focusCell(this.focusedCell)):(this.addRow(),this.focusedCell.row+=1,this.focusCell(this.focusedCell),this.updateToolboxesPosition(0,0))}getCell(e,t){return this.table.querySelectorAll(`.${j.row}:nth-child(${e}) .${j.cell}`)[t-1]}getRow(e){return this.table.querySelector(`.${j.row}:nth-child(${e})`)}getRowByCell(e){return e.parentElement}getRowFirstCell(e){return e.querySelector(`.${j.cell}:first-child`)}setCellContent(e,t,r){let o=this.getCell(e,t);o.innerHTML=r}addColumn(e=-1,t=!1){var r;let o=this.numberOfColumns;if(this.config&&this.config.maxcols&&this.numberOfColumns>=this.config.maxcols)return;for(let s=1;s<=this.numberOfRows;s++){let a,l=this.createCell();if(e>0&&e<=o?(a=this.getCell(s,e),jb(l,a)):a=this.getRow(s).appendChild(l),s===1){let c=this.getCell(s,e>0?e:o+1);c&&t&&Hb(c)}}let i=this.wrapper.querySelector(`.${j.addColumn}`);(r=this.config)!=null&&r.maxcols&&this.numberOfColumns>this.config.maxcols-1&&i&&i.classList.add(j.addColumnDisabled),this.addHeadingAttrToFirstRow()}addRow(e=-1,t=!1){let r,o=He("div",j.row);this.tunes.withHeadings&&this.removeHeadingAttrFromFirstRow();let i=this.numberOfColumns;if(this.config&&this.config.maxrows&&this.numberOfRows>=this.config.maxrows&&a)return;if(e>0&&e<=this.numberOfRows){let l=this.getRow(e);r=jb(o,l)}else r=this.table.appendChild(o);this.fillRow(r,i),this.tunes.withHeadings&&this.addHeadingAttrToFirstRow();let s=this.getRowFirstCell(r);s&&t&&Hb(s);let a=this.wrapper.querySelector(`.${j.addRow}`);return this.config&&this.config.maxrows&&this.numberOfRows>=this.config.maxrows&&a&&a.classList.add(j.addRowDisabled),r}deleteColumn(e){for(let r=1;r<=this.numberOfRows;r++){let o=this.getCell(r,e);if(!o)return;o.remove()}let t=this.wrapper.querySelector(`.${j.addColumn}`);t&&t.classList.remove(j.addColumnDisabled)}deleteRow(e){this.getRow(e).remove();let t=this.wrapper.querySelector(`.${j.addRow}`);t&&t.classList.remove(j.addRowDisabled),this.addHeadingAttrToFirstRow()}createTableWrapper(){if(this.wrapper=He("div",j.wrapper),this.table=He("div",j.table),this.readOnly&&this.wrapper.classList.add(j.wrapperReadOnly),this.wrapper.appendChild(this.toolboxRow.element),this.wrapper.appendChild(this.toolboxColumn.element),this.wrapper.appendChild(this.table),!this.readOnly){let e=He("div",j.addColumn,{innerHTML:$b}),t=He("div",j.addRow,{innerHTML:$b});this.wrapper.appendChild(e),this.wrapper.appendChild(t)}}computeInitialSize(){let e=this.data&&this.data.content,t=Array.isArray(e),r=t?e.length:!1,o=t?e.length:void 0,i=r?e[0].length:void 0,s=Number.parseInt(this.config&&this.config.rows),a=Number.parseInt(this.config&&this.config.cols),l=!isNaN(s)&&s>0?s:void 0,c=!isNaN(a)&&a>0?a:void 0;return{rows:o||l||2,cols:i||c||2}}resize(){let{rows:e,cols:t}=this.computeInitialSize();for(let r=0;r<e;r++)this.addRow();for(let r=0;r<t;r++)this.addColumn()}fill(){let e=this.data;if(e&&e.content)for(let t=0;t<e.content.length;t++)for(let r=0;r<e.content[t].length;r++)this.setCellContent(t+1,r+1,e.content[t][r])}fillRow(e,t){for(let r=1;r<=t;r++){let o=this.createCell();e.appendChild(o)}}createCell(){return He("div",j.cell,{contentEditable:!this.readOnly})}get numberOfRows(){return this.table.childElementCount}get numberOfColumns(){return this.numberOfRows?this.table.querySelectorAll(`.${j.row}:first-child .${j.cell}`).length:0}get isColumnMenuShowing(){return this.selectedColumn!==0}get isRowMenuShowing(){return this.selectedRow!==0}onMouseMoveInTable(e){let{row:t,column:r}=this.getHoveredCell(e);this.hoveredColumn=r,this.hoveredRow=t,this.updateToolboxesPosition()}onKeyPressListener(e){if(e.key==="Enter"){if(e.shiftKey)return!0;this.moveCursorToNextRow()}return e.key!=="Enter"}onKeyDownListener(e){e.key==="Tab"&&e.stopPropagation()}focusInTableListener(e){let t=e.target,r=this.getRowByCell(t);this.focusedCell={row:Array.from(this.table.querySelectorAll(`.${j.row}`)).indexOf(r)+1,column:Array.from(r.querySelectorAll(`.${j.cell}`)).indexOf(t)+1}}hideToolboxes(){this.hideRowToolbox(),this.hideColumnToolbox(),this.updateToolboxesPosition()}hideRowToolbox(){this.unselectRow(),this.toolboxRow.hide()}hideColumnToolbox(){this.unselectColumn(),this.toolboxColumn.hide()}focusCell(){this.focusedCellElem.focus()}get focusedCellElem(){let{row:e,column:t}=this.focusedCell;return this.getCell(e,t)}updateToolboxesPosition(e=this.hoveredRow,t=this.hoveredColumn){this.isColumnMenuShowing||t>0&&t<=this.numberOfColumns&&this.toolboxColumn.show(()=>({left:`calc((100% - var(--cell-size)) / (${this.numberOfColumns} * 2) * (1 + (${t} - 1) * 2))`})),this.isRowMenuShowing||e>0&&e<=this.numberOfRows&&this.toolboxRow.show(()=>{let r=this.getRow(e),{fromTopBorder:o}=Fb(this.table,r),{height:i}=r.getBoundingClientRect();return{top:`${Math.ceil(o+i/2)}px`}})}setHeadingsSetting(e){this.tunes.withHeadings=e,e?(this.table.classList.add(j.withHeadings),this.addHeadingAttrToFirstRow()):(this.table.classList.remove(j.withHeadings),this.removeHeadingAttrFromFirstRow())}addHeadingAttrToFirstRow(){for(let e=1;e<=this.numberOfColumns;e++){let t=this.getCell(1,e);t&&t.setAttribute("heading",this.api.i18n.t("Heading"))}}removeHeadingAttrFromFirstRow(){for(let e=1;e<=this.numberOfColumns;e++){let t=this.getCell(1,e);t&&t.removeAttribute("heading")}}selectRow(e){let t=this.getRow(e);t&&(this.selectedRow=e,t.classList.add(j.rowSelected))}unselectRow(){if(this.selectedRow<=0)return;let e=this.table.querySelector(`.${j.rowSelected}`);e&&e.classList.remove(j.rowSelected),this.selectedRow=0}selectColumn(e){for(let t=1;t<=this.numberOfRows;t++){let r=this.getCell(t,e);r&&r.classList.add(j.cellSelected)}this.selectedColumn=e}unselectColumn(){if(this.selectedColumn<=0)return;let e=this.table.querySelectorAll(`.${j.cellSelected}`);Array.from(e).forEach(t=>{t.classList.remove(j.cellSelected)}),this.selectedColumn=0}getHoveredCell(e){let t=this.hoveredRow,r=this.hoveredColumn,{width:o,height:i,x:s,y:a}=o_(this.table,e);return s>=0&&(r=this.binSearch(this.numberOfColumns,l=>this.getCell(1,l),({fromLeftBorder:l})=>s<l,({fromRightBorder:l})=>s>o-l)),a>=0&&(t=this.binSearch(this.numberOfRows,l=>this.getCell(l,1),({fromTopBorder:l})=>a<l,({fromBottomBorder:l})=>a>i-l)),{row:t||this.hoveredRow,column:r||this.hoveredColumn}}binSearch(e,t,r,o){let i=0,s=e+1,a=0,l;for(;i<s-1&&a<10;){l=Math.ceil((i+s)/2);let c=t(l),u=Fb(this.table,c);if(r(u))s=l;else if(o(u))i=l;else break;a++}return l}getData(){let e=[];for(let t=1;t<=this.numberOfRows;t++){let r=this.table.querySelector(`.${j.row}:nth-child(${t})`),o=Array.from(r.querySelectorAll(`.${j.cell}`));o.every(i=>!i.textContent.trim())||e.push(o.map(i=>i.innerHTML))}return e}destroy(){document.removeEventListener("click",this.documentClicked)}},ra=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:e,config:t,api:r,readOnly:o,block:i}){this.api=r,this.readOnly=o,this.config=t,this.data={withHeadings:this.getConfig("withHeadings",!1,e),stretched:this.getConfig("stretched",!1,e),content:e&&e.content?e.content:[]},this.table=null,this.block=i}static get toolbox(){return{icon:p_,title:"Table"}}render(){return this.table=new eh(this.readOnly,this.api,this.data,this.config),this.container=He("div",this.api.styles.block),this.container.appendChild(this.table.getWrapper()),this.table.setHeadingsSetting(this.data.withHeadings),this.container}renderSettings(){return[{label:this.api.i18n.t("With headings"),icon:f_,isActive:this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!0,this.table.setHeadingsSetting(this.data.withHeadings)}},{label:this.api.i18n.t("Without headings"),icon:h_,isActive:!this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!1,this.table.setHeadingsSetting(this.data.withHeadings)}},{label:this.data.stretched?this.api.i18n.t("Collapse"):this.api.i18n.t("Stretch"),icon:this.data.stretched?i_:d_,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.stretched=!this.data.stretched,this.block.stretched=this.data.stretched}}]}save(){let e=this.table.getData();return{withHeadings:this.data.withHeadings,stretched:this.data.stretched,content:e}}destroy(){this.table.destroy()}getConfig(e,t=void 0,r=void 0){let o=this.data||r;return o?o[e]?o[e]:t:this.config&&this.config[e]?this.config[e]:t}static get pasteConfig(){return{tags:["TABLE","TR","TH","TD"]}}onPaste(e){let t=e.detail.data,r=t.querySelector(":scope > thead, tr:first-of-type th"),o=Array.from(t.querySelectorAll("tr")).map(i=>Array.from(i.querySelectorAll("th, td")).map(s=>s.innerHTML));this.data={withHeadings:r!==null,content:o},this.table.wrapper&&this.table.wrapper.replaceWith(this.render())}};(function(){"use strict";try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode('.ce-delimiter{line-height:1.6em;width:100%;text-align:center}.ce-delimiter:before{display:inline-block;content:"***";font-size:30px;line-height:65px;height:30px;letter-spacing:.2em}')),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var m_='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="6" x2="10" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="14" x2="18" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';var oa=class{static get isReadOnlySupported(){return!0}static get contentless(){return!0}constructor({data:e,config:t,api:r}){this.api=r,this._CSS={block:this.api.styles.block,wrapper:"ce-delimiter"},this._element=this.drawView(),this.data=e}drawView(){let e=document.createElement("div");return e.classList.add(this._CSS.wrapper,this._CSS.block),e}render(){return this._element}save(e){return{}}static get toolbox(){return{icon:m_,title:"Delimiter"}}static get pasteConfig(){return{tags:["HR"]}}onPaste(e){this.data={}}};(function(){"use strict";try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(`.cdx-warning{position:relative}@media all and (min-width: 736px){.cdx-warning{padding-left:36px}}.cdx-warning [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-warning [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-warning [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-warning:before{content:"";background-image:url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='5' y='5' width='14' height='14' rx='4' stroke='black' stroke-width='2'/%3E%3Cline x1='12' y1='9' x2='12' y2='12' stroke='black' stroke-width='2' stroke-linecap='round'/%3E%3Cpath d='M12 15.02V15.01' stroke='black' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E");width:24px;height:24px;background-size:24px 24px;position:absolute;margin-top:8px;left:0}@media all and (max-width: 735px){.cdx-warning:before{display:none}}.cdx-warning__message{min-height:85px}.cdx-warning__title{margin-bottom:6px}`)),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var v_='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>',ia=class n{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:v_,title:"Warning"}}static get enableLineBreaks(){return!0}static get DEFAULT_TITLE_PLACEHOLDER(){return"Title"}static get DEFAULT_MESSAGE_PLACEHOLDER(){return"Message"}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-warning",title:"cdx-warning__title",input:this.api.styles.input,message:"cdx-warning__message"}}constructor({data:e,config:t,api:r,readOnly:o}){this.api=r,this.readOnly=o,this.titlePlaceholder=t?.titlePlaceholder||n.DEFAULT_TITLE_PLACEHOLDER,this.messagePlaceholder=t?.messagePlaceholder||n.DEFAULT_MESSAGE_PLACEHOLDER,this.data={title:e.title||"",message:e.message||""}}render(){let e=this._make("div",[this.CSS.baseClass,this.CSS.wrapper]),t=this._make("div",[this.CSS.input,this.CSS.title],{contentEditable:!this.readOnly,innerHTML:this.data.title}),r=this._make("div",[this.CSS.input,this.CSS.message],{contentEditable:!this.readOnly,innerHTML:this.data.message});return t.dataset.placeholder=this.titlePlaceholder,r.dataset.placeholder=this.messagePlaceholder,e.appendChild(t),e.appendChild(r),e}save(e){let t=e.querySelector(`.${this.CSS.title}`),r=e.querySelector(`.${this.CSS.message}`);return Object.assign(this.data,{title:t?.innerHTML??"",message:r?.innerHTML??""})}_make(e,t=null,r={}){let o=document.createElement(e);Array.isArray(t)?o.classList.add(...t):t&&o.classList.add(t);for(let i in r)o[i]=r[i];return o}static get sanitize(){return{title:{},message:{}}}};(function(){"use strict";try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".ce-code__textarea{min-height:200px;font-family:Menlo,Monaco,Consolas,Courier New,monospace;color:#41314e;line-height:1.6em;font-size:12px;background:#f8f7fa;border:1px solid #f1f1f4;box-shadow:none;white-space:pre;word-wrap:normal;overflow-x:auto;resize:vertical}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();function y_(n,e){let t="";for(;t!==`
`&&e>0;)e=e-1,t=n.substr(e,1);return t===`
`&&(e+=1),e}var b_='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>';var sa=class n{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:e,config:t,api:r,readOnly:o}){this.api=r,this.readOnly=o,this.placeholder=this.api.i18n.t(t.placeholder||n.DEFAULT_PLACEHOLDER),this.CSS={baseClass:this.api.styles.block,input:this.api.styles.input,wrapper:"ce-code",textarea:"ce-code__textarea"},this.nodes={holder:null,textarea:null},this.data={code:e.code??""},this.nodes.holder=this.drawView()}render(){return this.nodes.holder}save(e){return{code:e.querySelector("textarea").value}}onPaste(e){let t=e.detail;if("data"in t){let r=t.data;this.data={code:r||""}}}get data(){return this._data}set data(e){this._data=e,this.nodes.textarea&&(this.nodes.textarea.value=e.code)}static get toolbox(){return{icon:b_,title:"Code"}}static get DEFAULT_PLACEHOLDER(){return"Enter a code"}static get pasteConfig(){return{tags:["pre"]}}static get sanitize(){return{code:!0}}tabHandler(e){e.stopPropagation(),e.preventDefault();let t=e.target,r=e.shiftKey,o=t.selectionStart,i=t.value,s="  ",a;if(!r)a=o+s.length,t.value=i.substring(0,o)+s+i.substring(o);else{let l=y_(i,o);if(i.substr(l,s.length)!==s)return;t.value=i.substring(0,l)+i.substring(l+s.length),a=o-s.length}t.setSelectionRange(a,a)}drawView(){let e=document.createElement("div"),t=document.createElement("textarea");return e.classList.add(this.CSS.baseClass,this.CSS.wrapper),t.classList.add(this.CSS.textarea,this.CSS.input),t.value=this.data.code,t.placeholder=this.placeholder,this.readOnly&&(t.disabled=!0),e.appendChild(t),t.addEventListener("keydown",r=>{switch(r.code){case"Tab":this.tabHandler(r);break}}),this.nodes.textarea=t,e}};(function(){"use strict";try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".ce-rawtool__textarea{min-height:200px;resize:vertical;border-radius:8px;border:0;background-color:#1e2128;font-family:Menlo,Monaco,Consolas,Courier New,monospace;font-size:12px;line-height:1.6;letter-spacing:-.2px;color:#a1a7b6;overscroll-behavior:contain}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var w_='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16.6954 5C17.912 5 18.8468 6.07716 18.6755 7.28165L17.426 16.0659C17.3183 16.8229 16.7885 17.4522 16.061 17.6873L12.6151 18.8012C12.2152 18.9304 11.7848 18.9304 11.3849 18.8012L7.93898 17.6873C7.21148 17.4522 6.6817 16.8229 6.57403 16.0659L5.32454 7.28165C5.15322 6.07716 6.088 5 7.30461 5H16.6954Z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8.4H9L9.42857 11.7939H14.5714L14.3571 13.2788L14.1429 14.7636L12 15.4L9.85714 14.7636L9.77143 14.3394"/></svg>';var aa=class n{static get isReadOnlySupported(){return!0}static get displayInToolbox(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:w_,title:"Raw HTML"}}constructor({data:e,config:t,api:r,readOnly:o}){this.api=r,this.readOnly=o,this.placeholder=r.i18n.t(t.placeholder||n.DEFAULT_PLACEHOLDER),this.CSS={baseClass:this.api.styles.block,input:this.api.styles.input,wrapper:"ce-rawtool",textarea:"ce-rawtool__textarea"},this.data={html:e.html||""},this.textarea=null,this.resizeDebounce=null}render(){let e=document.createElement("div"),t=100;return this.textarea=document.createElement("textarea"),e.classList.add(this.CSS.baseClass,this.CSS.wrapper),this.textarea.classList.add(this.CSS.textarea,this.CSS.input),this.textarea.textContent=this.data.html,this.textarea.placeholder=this.placeholder,this.readOnly?this.textarea.disabled=!0:this.textarea.addEventListener("input",()=>{this.onInput()}),e.appendChild(this.textarea),setTimeout(()=>{this.resize()},t),e}save(e){return{html:e.querySelector("textarea").value}}static get DEFAULT_PLACEHOLDER(){return"Enter HTML code"}static get sanitize(){return{html:!0}}onInput(){this.resizeDebounce&&clearTimeout(this.resizeDebounce),this.resizeDebounce=setTimeout(()=>{this.resize()},200)}resize(){this.textarea.style.height="auto",this.textarea.style.height=this.textarea.scrollHeight+"px"}};(function(){"use strict";try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".cdx-marker{background:rgba(245,235,111,.29);padding:3px 0}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var C_='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',la=class n{static get CSS(){return"cdx-marker"}constructor({api:e}){this.api=e,this.button=null,this.tag="MARK",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;let t=this.api.selection.findParentTag(this.tag,n.CSS);t?this.unwrap(t):this.wrap(e)}wrap(e){let t=document.createElement(this.tag);t.classList.add(n.CSS),t.appendChild(e.extractContents()),e.insertNode(t),this.api.selection.expandToTag(t)}unwrap(e){this.api.selection.expandToTag(e);let t=window.getSelection(),r=t.getRangeAt(0),o=r.extractContents();e.parentNode.removeChild(e),r.insertNode(o),t.removeAllRanges(),t.addRange(r)}checkState(){let e=this.api.selection.findParentTag(this.tag,n.CSS);this.button.classList.toggle(this.iconClasses.active,!!e)}get toolboxIcon(){return C_}static get sanitize(){return{mark:{class:n.CSS}}}};(function(){"use strict";try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".inline-code{background:rgba(250,239,240,.78);color:#b44437;padding:3px 4px;border-radius:5px;margin:0 1px;font-family:inherit;font-size:.86em;font-weight:500;letter-spacing:.3px}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var E_='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>',ca=class n{constructor({api:e}){this.tag="CODE",this.api=e,this.button=null,this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get CSS(){return"inline-code"}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;let t=this.api.selection.findParentTag(this.tag,n.CSS);t?this.unwrap(t):this.wrap(e)}wrap(e){let t=document.createElement(this.tag);t.classList.add(n.CSS),t.appendChild(e.extractContents()),e.insertNode(t),this.api.selection.expandToTag(t)}unwrap(e){var t;this.api.selection.expandToTag(e);let r=window.getSelection();if(!r)return;let o=r.getRangeAt(0),i=o.extractContents();(t=e.parentNode)==null||t.removeChild(e),o.insertNode(i),r.removeAllRanges(),r.addRange(o)}checkState(){let e=this.api.selection.findParentTag(this.tag,n.CSS);return this.button&&this.button.classList.toggle(this.iconClasses.active,!!e),!!e}get toolboxIcon(){return E_}static get sanitize(){return{code:{class:n.CSS}}}};var x_=["editor"],ua=class n{editor;editorElement;ngOnInit(){this.initializeEditor()}ngOnDestroy(){this.editor&&this.editor.destroy()}initializeEditor(){this.editor=new ks({holder:this.editorElement.nativeElement,placeholder:"Start writing your blog...",tools:{header:Ss,quote:Ns,image:Ps,list:Ws,checkList:ea,embed:ta,table:ra,delimiter:oa,warning:ia,code:sa,raw:aa,Marker:la,InlineCode:ca}})}saveContent(){this.editor.save().then(e=>{console.log("Saved data: ",e)}).catch(e=>{console.error("Error saving content: ",e)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pt({type:n,selectors:[["app-editor"]],viewQuery:function(t,r){if(t&1&&Hm(x_,7),t&2){let o;fc(o=hc())&&(r.editorElement=o.first)}},decls:4,vars:0,consts:[["editor",""],[2,"border","1px solid #ccc","padding","10px","border-radius","4px"],[3,"click"]],template:function(t,r){if(t&1){let o=jm();dn(0,"div",1,0),Bi(2,"button",2),ji("click",function(){return cg(o),ug(r.saveContent())}),Ut(3,"Save Blog"),Fi()}},encapsulation:2})};var da=class n{title="blog";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pt({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){t&1&&(Ut(0,`MAIN PAGE
`),dn(1,"app-editor")(2,"router-outlet"))},dependencies:[iu,ua],encapsulation:2})};hv(da,ey).catch(n=>console.error(n));
